<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>æ‰“ç åŒ </title>
    <link>http://blog.ibyte.me/</link>
    <description>Recent content on æ‰“ç åŒ </description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Tue, 08 Mar 2022 14:58:14 +0800</lastBuildDate><atom:link href="http://blog.ibyte.me/index.xml" rel="self" type="application/rss+xml" />
    <item>
    <title>Bottle Release V1.0.0</title>
    <link>http://blog.ibyte.me/post/bottle-release-v1.0.0/</link>
    <pubDate>Tue, 08 Mar 2022 14:58:14 +0800</pubDate>
    
    <guid>http://blog.ibyte.me/post/bottle-release-v1.0.0/</guid>
    <description>
        &lt;blockquote&gt;
&lt;p&gt;Hi (à¹‘â•¹â—¡â•¹)ï¾‰â€ï¼Œå„ä½&lt;code&gt;Gopher&lt;/code&gt;æœ¬äººæœ€è¿‘åˆç”¨&lt;code&gt;Go&lt;/code&gt;é€ äº†ä¸€ä¸ªè½®å­ï¼Œä¸€ä¸ªè¶…çº§è½»é‡çº§&lt;code&gt;KV&lt;/code&gt;å­˜å‚¨å¼•æ“ï¼Œæ¬¢è¿ğŸ‘ğŸ»å„ä½&lt;code&gt;Gopher&lt;/code&gt;è¿›è¡Œè¯„æµ‹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸»é¡µä»‹ç»ï¼š&lt;a href=&#34;https://bottle.ibyte.me&#34;&gt;https://bottle.ibyte.me&lt;/a&gt; (PCæ•ˆæœæ›´åŠ ğŸ˜‹)&lt;/p&gt;
&lt;p&gt;é¡¹ç›®åœ°å€ï¼š&lt;a href=&#34;https://github.com/auula/bottle&#34;&gt;https://github.com/auula/bottle&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;ç‰¹-æ€§&#34;&gt;
    &lt;a href=&#34;#%e7%89%b9-%e6%80%a7&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    ç‰¹ æ€§
&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;åµŒå…¥çš„å­˜å‚¨å¼•æ“&lt;/li&gt;
&lt;li&gt;æ•°æ®å¯ä»¥åŠ å¯†å­˜å‚¨&lt;/li&gt;
&lt;li&gt;å¯ä»¥è‡ªå®šä¹‰å®ç°å­˜å‚¨åŠ å¯†å™¨&lt;/li&gt;
&lt;li&gt;å³ä½¿æ•°æ®æ–‡ä»¶è¢«æ‹·è´ï¼Œä¹Ÿä¿è¯å­˜å‚¨æ•°æ®çš„å®‰å…¨&lt;/li&gt;
&lt;li&gt;æœªæ¥ç´¢å¼•æ•°æ®ç»“æ„ä¹Ÿå¯ä»¥æ”¯æŒè‡ªå®šä¹‰å®ç°&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ç®€-ä»‹&#34;&gt;
    &lt;a href=&#34;#%e7%ae%80-%e4%bb%8b&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    ç®€ ä»‹
&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆè¦è¯´æ˜çš„æ˜¯&lt;code&gt;Bottle&lt;/code&gt;æ˜¯ä¸€æ¬¾&lt;code&gt;KV&lt;/code&gt;åµŒå…¥å¼å­˜å‚¨å¼•æ“ï¼Œå¹¶éæ˜¯ä¸€æ¬¾&lt;code&gt;KV&lt;/code&gt;æ•°æ®åº“ï¼Œæˆ‘çŸ¥é“å¾ˆå¤šäººçœ‹åˆ°äº†&lt;code&gt;KV&lt;/code&gt;è®¤ä¸ºæ˜¯æ•°æ®åº“ï¼Œå½“ç„¶ä¸æ˜¯äº†ï¼Œå¾ˆå¤šäººä¼šæŠŠè¿™äº›ææ··æ·†æ‰ï¼Œ&lt;code&gt;KV&lt;/code&gt;
å­˜å‚¨å¯ä»¥ç”¨æ¥å­˜å‚¨å¾ˆå¤šä¸œè¥¿ï¼Œè€Œå¹¶éæ˜¯æ•°æ®åº“è¿™ä¸€é¢†åŸŸã€‚å¯ä»¥è¿™ä¹ˆç†è§£æ•°æ®åº“æ˜¯ä¸€å°æ±½è½¦ï¼Œé‚£ä¹ˆ&lt;code&gt;Bottle&lt;/code&gt;æ˜¯ä¸€å°è½¦çš„å‘åŠ¨æœºã€‚å¯ä»¥ç®€å•ç†è§£&lt;code&gt;Bottle&lt;/code&gt;æ˜¯ä¸€ä¸ªå¯¹æ“ä½œç³»ç»Ÿæ–‡ä»¶ç³»ç»Ÿçš„&lt;code&gt;KV&lt;/code&gt;æŠ½è±¡åŒ–å°è£…ï¼Œå¯ä»¥åŸºäº&lt;code&gt;Bottle&lt;/code&gt;
åšä¸ºå­˜å‚¨å±‚ï¼Œåœ¨&lt;code&gt;Bottle&lt;/code&gt;å±‚ä¹‹ä¸Šå°è£…ä¸€äº›æ•°æ®ç»“æ„å’Œå¯¹å¤–æœåŠ¡çš„åè®®å°±å¯ä»¥å®ç°ä¸€ä¸ªæ•°æ®åº“ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e393267aa3b445bfa003418bbde9465e~tplv-k3u1fbpfcp-zoom-1.image&#34; 
    alt=&#34;å±‚æ¬¡æ¶æ„å›¾&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;æœ¬é¡¹ç›®åŠŸèƒ½å®ç°å®Œå…¨åŸºäº &lt;a href=&#34;https://blog.ibyte.me/post/bitcask-kvbase/&#34;&gt;&lt;code&gt;bitcask&lt;/code&gt;&lt;/a&gt; è®ºæ–‡æ‰€å®ç°ï¼Œå¦å¤–æœ¬é¡¹ç›®æ‰€ç”¨åˆ°ä¸€äº›çŸ¥è¯†å’Œ&lt;code&gt;å¡å†…åŸºæ¢…éš†å¤§å­¦&lt;/code&gt;çš„&lt;code&gt;CMU 15-445: Database Systems&lt;/code&gt;è¯¾ç¨‹å†…å®¹å¾ˆæ¥è¿‘ï¼Œè¿™é—¨è¯¾ç”±æ•°æ®åº“é¢†åŸŸçš„å¤§ç‰›&lt;code&gt;Andy Pavlo&lt;/code&gt;è®²æˆï¼Œæœ‰æ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥å»çœ‹çœ‹è¿™å¥—è¯¾ï¼Œå¦‚æœè§‰å¾—ä¸é”™ä½ å¯ä»¥ç»™æˆ‘æŒ‰ä¸€é¢—å°æ˜Ÿ&lt;code&gt;â­&lt;/code&gt;è°¢è°¢ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å®‰è£…bottle&#34;&gt;
    &lt;a href=&#34;#%e5%ae%89%e8%a3%85bottle&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å®‰è£…Bottle
&lt;/h3&gt;
&lt;p&gt;ä½ åªéœ€è¦åœ¨ä½ çš„é¡¹ç›®ä¸­å®‰è£…&lt;code&gt;Bottle&lt;/code&gt;æ¨¡å—å³å¯ä½¿ç”¨ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;go get -u github.com/auula/bottle
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;åŸºæœ¬api&#34;&gt;
    &lt;a href=&#34;#%e5%9f%ba%e6%9c%acapi&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    åŸºæœ¬API
&lt;/h3&gt;
&lt;p&gt;å¦‚ä½•æ“ä½œä¸€ä¸ª&lt;code&gt;Bottle&lt;/code&gt;å®ä¾‹ä»£ç :&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;51
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;52
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;53
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;54
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;55
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;56
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;57
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;58
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;59
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;60
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;61
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;62
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;63
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;64
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;65
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
    &lt;span class=&#34;s&#34;&gt;&amp;#34;fmt&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;s&#34;&gt;&amp;#34;github.com/auula/bottle&amp;#34;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;init&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// é€šè¿‡é»˜è®¤é…ç½®æ‰“å¼€ä¸€ä¸ªå­˜å‚¨å®ä¾‹
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;bottle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;bottle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;DefaultOption&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// å¹¶ä¸”å¤„ç†ä¸€ä¸‹å¯èƒ½å‘ç”Ÿçš„é”™è¯¯
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;panic&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// Userinfo æµ‹è¯•æ•°æ®ç»“æ„
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Userinfo&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;Name&lt;/span&gt;  &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;Age&lt;/span&gt;   &lt;span class=&#34;kt&#34;&gt;uint8&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;Skill&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// PUT Data
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;bottle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Put&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([]&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;byte&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;foo&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;byte&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;66.6&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// å¦‚æœè½¬æˆstringé‚£ä¹ˆå°±æ˜¯å­—ç¬¦ä¸²
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Println&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;bottle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([]&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;byte&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;foo&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)).&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// å¦‚æœä¸å­˜åœ¨é»˜è®¤å€¼å°±æ˜¯0
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Println&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;bottle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([]&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;byte&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;foo&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)).&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// å¦‚æœä¸æˆåŠŸå°±æ˜¯false
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Println&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;bottle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([]&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;byte&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;foo&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)).&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Bool&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// å¦‚æœä¸æˆåŠŸå°±æ˜¯0.0
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Println&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;bottle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([]&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;byte&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;foo&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)).&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Float&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt;

    &lt;span class=&#34;nx&#34;&gt;user&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Userinfo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;Name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;  &lt;span class=&#34;s&#34;&gt;&amp;#34;Leon Ding&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;Age&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;   &lt;span class=&#34;mi&#34;&gt;22&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;Skill&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Java&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;Go&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;Rust&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;u&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Userinfo&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// é€šè¿‡Bsonä¿å­˜æ•°æ®å¯¹è±¡ï¼Œå¹¶ä¸”è®¾ç½®è¶…æ—¶æ—¶é—´ä¸º5ç§’ï¼ŒTTLè¶…æ—¶å¯ä»¥ä¸è®¾ç½®çœ‹éœ€æ±‚
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;bottle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Put&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([]&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;byte&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;user&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;bottle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Bson&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;bottle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;TTL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// é€šè¿‡Unwrapè§£æå‡ºç»“æ„ä½“
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;bottle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([]&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;byte&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;user&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)).&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Unwrap&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;u&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// æ‰“å°å–å€¼
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Println&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;u&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// åˆ é™¤ä¸€ä¸ªkey
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;bottle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Remove&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([]&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;byte&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;foo&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// å…³é—­å¤„ç†ä¸€ä¸‹å¯èƒ½å‘ç”Ÿçš„é”™è¯¯
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;bottle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Close&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Println&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;åŠ å¯†å™¨&#34;&gt;
    &lt;a href=&#34;#%e5%8a%a0%e5%af%86%e5%99%a8&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    åŠ å¯†å™¨
&lt;/h3&gt;
&lt;p&gt;æ•°æ®åŠ å¯†å™¨æ˜¯é’ˆå¯¹æ•°æ®çš„&lt;code&gt;value&lt;/code&gt;è®°å½•çš„ï¼Œä¹Ÿå°±æ˜¯é’ˆå¯¹å­—æ®µçº§åˆ«çš„åŒºå—åŠ å¯†ï¼Œå¹¶éæ˜¯æŠŠæ•´ä¸ªæ–‡ä»¶åŠ å¯†ä¸€éï¼Œé‚£æ ·è®¾è®¡ä¼šå¸¦æ¥æ€§èƒ½æ¶ˆè€—ï¼Œæ‰€ä»¥é‡‡ç”¨åŒºå—æ•°æ®æ®µæ–¹å¼åŠ å¯†çš„æ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢ä¾‹å­æ˜¯é€šè¿‡&lt;a href=&#34;https://github.com/auula/bottle/blob/main/option.go#L66&#34;&gt;&lt;code&gt;bottle.SetEncryptor(Encryptor,[]byte)&lt;/code&gt;&lt;/a&gt;
å‡½æ•°å»è®¾ç½®æ•°æ®åŠ å¯†å™¨å¹¶ä¸”é…ç½®&lt;code&gt;16&lt;/code&gt;ä½çš„æ•°æ®åŠ å¯†ç§˜é’¥ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;init&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;bottle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;SetEncryptor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;bottle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;AES&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(),&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;byte&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;1234567890123456&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä½ ä¹Ÿå¯ä»¥è‡ªå®šä¹‰å»å®ç°æ•°æ®åŠ å¯†å™¨çš„æ¥å£ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// SourceData for encryption and decryption
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;SourceData&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;Data&lt;/span&gt;   &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;byte&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;Secret&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;byte&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// Encryptor used for data encryption and decryption operation
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Encryptor&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;interface&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nf&#34;&gt;Encode&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;sd&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;SourceData&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt;
    &lt;span class=&#34;nf&#34;&gt;Decode&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;sd&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;SourceData&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¸‹é¢ä»£ç å°±æ˜¯å†…ç½®&lt;code&gt;AES&lt;/code&gt;åŠ å¯†å™¨çš„å®ç°ä»£ç ï¼Œå®ç°&lt;a href=&#34;https://github.com/auula/bottle/blob/main/encrypted.go#21&#34;&gt;&lt;code&gt;bottle.Encryptor&lt;/code&gt;&lt;/a&gt;
æ¥å£å³å¯ï¼Œæ•°æ®æºä¸º&lt;a href=&#34;https://github.com/auula/bottle/blob/main/encrypted.go#15&#34;&gt;&lt;code&gt;bottle.SourceData&lt;/code&gt;&lt;/a&gt; ç»“æ„ä½“å­—æ®µï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// AESEncryptor Implement the Encryptor interface
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;AESEncryptor&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{}&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// Encode source data encode
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;AESEncryptor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Encode&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;sd&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;SourceData&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;sd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Data&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;aesEncrypt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;sd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;sd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Secret&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// Decode source data decode
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;AESEncryptor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Decode&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;sd&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;SourceData&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;sd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Data&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;aesDecrypt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;sd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;sd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Secret&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å…·ä½“çš„åŠ å¯†å™¨å®ç°ä»£ç å¯ä»¥æŸ¥çœ‹&lt;a href=&#34;./encrypted.go&#34;&gt;&lt;code&gt;encrypted.go&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;æ•£åˆ—å‡½æ•°&#34;&gt;
    &lt;a href=&#34;#%e6%95%a3%e5%88%97%e5%87%bd%e6%95%b0&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    æ•£åˆ—å‡½æ•°
&lt;/h3&gt;
&lt;p&gt;å¦‚æœä½ éœ€è¦è‡ªå®šä¹‰å®ç°æ•£åˆ—å‡½æ•°ï¼Œå®ç°&lt;a href=&#34;https://github.com/auula/bottle/blob/main/hashed.go#10&#34;&gt;&lt;code&gt;bottle.Hashed&lt;/code&gt;&lt;/a&gt; æ¥å£å³å¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Hashed&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;interface&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nf&#34;&gt;Sum64&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;byte&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;uint64&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ç„¶åé€šè¿‡å†…ç½®çš„&lt;a href=&#34;https://github.com/auula/bottle/blob/main/option.go#85&#34;&gt;&lt;code&gt;bottle.SetHashFunc(hash Hashed)&lt;/code&gt;&lt;/a&gt; è®¾ç½®å³å¯å®Œæˆä½ çš„æ•£åˆ—å‡½æ•°é…ç½®ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ç´¢å¼•å¤§å°&#34;&gt;
    &lt;a href=&#34;#%e7%b4%a2%e5%bc%95%e5%a4%a7%e5%b0%8f&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    ç´¢å¼•å¤§å°
&lt;/h3&gt;
&lt;p&gt;ç´¢å¼•é¢„è®¾ç½®çš„å¤§å°å¾ˆå¤§ç¨‹åº¦ä¸Šä¼šå½±å“ä½ çš„ç¨‹åºå­˜å–å’Œè¯»å–æ•°æ®çš„é€Ÿåº¦ï¼Œå¦‚æœåœ¨åˆå§‹åŒ–çš„æ—¶å€™èƒ½å¤Ÿé¢„è®¡å‡ºç¨‹åºè¿è¡Œæ—¶éœ€è¦çš„ç´¢å¼•å¤§å°ï¼Œå¹¶ä¸”åœ¨åˆå§‹åŒ–çš„æ—¶å€™é…ç½®å¥½ï¼Œå¯ä»¥å‡å°ç¨‹åºåœ¨è¿è¡Œè¿‡ç¨‹ä¸­å¸¦æ¥çš„è¿è¡Œæ•°æ®è¿ç§»å’Œæ‰©å®¹å¸¦æ¥çš„æ€§èƒ½é—®é¢˜ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;init&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// è®¾ç½®ç´¢å¼•å¤§å° 
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;bottle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;SetIndexSize&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;é…ç½®ä¿¡æ¯&#34;&gt;
    &lt;a href=&#34;#%e9%85%8d%e7%bd%ae%e4%bf%a1%e6%81%af&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    é…ç½®ä¿¡æ¯
&lt;/h3&gt;
&lt;p&gt;ä½ ä¹Ÿå¯ä»¥ä¸ä½¿ç”¨é»˜è®¤é…ç½®ï¼Œä½ å¯ä»¥ä½¿ç”¨å†…ç½®çš„&lt;a href=&#34;https://github.com/auula/bottle/blob/main/option.go#14&#34;&gt;&lt;code&gt;bottle.Option&lt;/code&gt;&lt;/a&gt; çš„ç»“æ„ä½“åˆå§‹åŒ–ä½ å­˜å‚¨å¼•æ“ï¼Œé…ç½®å®ä¾‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;init&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// è‡ªå®šä¹‰é…ç½®ä¿¡æ¯
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;nx&#34;&gt;option&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;bottle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Option&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// å·¥ä½œç›®å½•
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;nx&#34;&gt;Directory&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;       &lt;span class=&#34;s&#34;&gt;&amp;#34;./data&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// ç®—æ³•å¼€å¯åŠ å¯†
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;nx&#34;&gt;Enable&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;          &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// è‡ªå®šä¹‰ç§˜é’¥ï¼Œå¯ä»¥ä½¿ç”¨å†…ç½®çš„ç§˜é’¥
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;nx&#34;&gt;Secret&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;          &lt;span class=&#34;nx&#34;&gt;bottle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Secret&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// è‡ªå®šä¹‰æ•°æ®å¤§å°ï¼Œå­˜å‚¨å•ä½æ˜¯kb
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;nx&#34;&gt;DataFileMaxSize&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1048576&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// é€šè¿‡è‡ªå®šä¹‰é…ç½®ä¿¡æ¯
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;bottle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;option&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨å†…ç½®çš„&lt;a href=&#34;https://github.com/auula/bottle/blob/main/bottle.go#157&#34;&gt;&lt;code&gt;bottle.Load(path string)&lt;/code&gt;&lt;/a&gt; å‡½æ•°åŠ è½½é…ç½®æ–‡ä»¶å¯åŠ¨&lt;code&gt;Bottle&lt;/code&gt;
ï¼Œé…ç½®æ–‡ä»¶æ ¼å¼ä¸º&lt;code&gt;yaml&lt;/code&gt;ï¼Œå¯é…ç½®é¡¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;c&#34;&gt;# Bottle config options&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Enable&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;TRUE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Secret&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;1234567890123456&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Directory&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;./testdata&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;DataFileMaxSize&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;536870912&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯å†…ç½®çš„åŠ å¯†å™¨å®ç°çš„ç§˜é’¥å¿…é¡»æ˜¯&lt;code&gt;16&lt;/code&gt;
ä½ï¼Œå¦‚æœä½ æ˜¯è‡ªå®šä¹‰å®ç°çš„åŠ å¯†å™¨å¯é€šè¿‡&lt;a href=&#34;https://github.com/auula/bottle/blob/main/option.go#L66&#34;&gt;&lt;code&gt;bottle.SetEncryptor(Encryptor,[]byte)&lt;/code&gt;&lt;/a&gt;
è®¾ç½®ä½ è‡ªå®šä¹‰çš„åŠ å¯†å™¨ï¼Œé‚£è¿™ä¸ªç§˜é’¥ä½æ•°å°†ä¸å—é™åˆ¶ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ•°æ®ç›®å½•&#34;&gt;
    &lt;a href=&#34;#%e6%95%b0%e6%8d%ae%e7%9b%ae%e5%bd%95&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    æ•°æ®ç›®å½•
&lt;/h3&gt;
&lt;p&gt;ç”±äº&lt;code&gt;bottle&lt;/code&gt;è®¾è®¡å°±æ˜¯åŸºäºä½†è¿›ç¨‹çš„ç¨‹åºï¼Œæ‰€ä»¥æ¯ä¸ªå­˜å‚¨å®ä¾‹å¯¹åº”æ˜¯ä¸€ä¸ªæ•°æ®ç›®å½•ï¼Œ&lt;code&gt;data&lt;/code&gt;ä¸ºæ—¥å¿—åˆå¹¶ç»“æ„æ•°æ®ç›®å½•ï¼Œ&lt;code&gt;index&lt;/code&gt;ä¸ºç´¢å¼•æ•°æ®ç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;æ—¥å¿—åˆå¹¶ç»“æ„æ•°æ®ç›®å‰ç‰ˆæœ¬æ˜¯æ¯æ¬¡æ•°æ®å¯åŠ¨æ—¶å€™è¿›è¡Œåˆå¹¶ï¼Œé»˜è®¤æ˜¯&lt;code&gt;data&lt;/code&gt;æ•°æ®æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ•°æ®æ–‡ä»¶å ç”¨æ€»å’Œè¶…è¿‡&lt;code&gt;1GB&lt;/code&gt;å°±ä¼šè§¦å‘ä¸€æ¬¡åˆå¹¶ï¼Œåˆå¹¶ä¹‹åæ²¡æœ‰ç”¨çš„æ•°æ®è¢«ä¸¢å¼ƒã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶å¦‚æœæœªè¾¾åˆ°è„æ•°æ®åˆå¹¶è¦æ±‚ï¼Œæ•°æ®æ–‡ä»¶ä¼šä»¥å¯åŠ¨æ—¶å€™é…ç½®çš„å¤§å°è¿›è¡Œå½’æ¡£ï¼Œæ¯ä¸ªæ•°æ®æœ‰ç‰ˆæœ¬å·ï¼Œå¹¶ä¸”è¢«è®¾ç½®ä¸ºåªè¯»æŒ‚è½½ï¼Œè¿›ç¨‹å·¥ä½œç›®å½•ç»“æ„å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;./testdata
â”œâ”€â”€ data
â”‚   â””â”€â”€ 1.data
â””â”€â”€ index
    â”œâ”€â”€ 1646378326.index
    â””â”€â”€ 1646378328.index

&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; directories, &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt; files
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å½“å­˜å‚¨å¼•æ“å¼€å§‹å·¥ä½œçš„æ—¶å€™ï¼Œè¿™ä¸ªç›®å½•ä¸‹çš„æ‰€ä»¥æ–‡ä»¶å¤¹å’Œæ–‡ä»¶åªèƒ½è¢«è¿™ä¸ªè¿›ç¨‹æ“ä½œï¼Œä¿è¯æ•°æ®å®‰å…¨ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åç»­ç»´æŠ¤&#34;&gt;
    &lt;a href=&#34;#%e5%90%8e%e7%bb%ad%e7%bb%b4%e6%8a%a4&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    åç»­ç»´æŠ¤
&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Bottle&lt;/code&gt;ç›®å‰ä¸æ”¯æŒå¤šæ•°æ®å­˜å‚¨åˆ†åŒºï¼Œåç»­ç‰ˆæœ¬ä¼šå¼•å…¥ä¸€ä¸ª&lt;code&gt;Bucket&lt;/code&gt;æ¦‚å¿µï¼Œæœªæ¥å¯ä»¥æŠŠæŒ‡å®šçš„æ•°æ®å­˜å‚¨åˆ°æŒ‡å®šçš„åˆ†åŒºä¸­ï¼Œæ¥é™ä½å¹¶å‘çš„æ—¶å€™ç´¢å¼•é”çš„é¢—ç²’åº¦ã€‚&lt;/li&gt;
&lt;li&gt;åç»­å°†å¼•å…¥&lt;code&gt;é›¶æ‹·è´æŠ€æœ¯&lt;/code&gt;ï¼Œå½“å‰æ–‡ä»¶æ“ä½œå¾ˆå¤§ç¨‹åº¦ä¸Šä¾èµ–äºæ“ä½œç³»ç»Ÿï¼Œå½“å‰æ–‡ä»¶å¿…é¡»&lt;code&gt;sync&lt;/code&gt;æ‰èƒ½ä¿è¯æ•°æ®ä¸€è‡´æ€§ã€‚&lt;/li&gt;
&lt;li&gt;è„æ•°æ®åˆå¹¶å¯ä»¥åœ¨è¿è¡Œä¸­è¿›è¡Œåˆå¹¶æ•´ç†ï¼ŒåŸºäº&lt;code&gt;ä¿¡å·é‡&lt;/code&gt;çš„æ–¹å¼é€šçŸ¥åƒåœ¾å›æ”¶å·¥ä½œçº¿ç¨‹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å…¶ä»–ä¿¡æ¯&#34;&gt;
    &lt;a href=&#34;#%e5%85%b6%e4%bb%96%e4%bf%a1%e6%81%af&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å…¶ä»–ä¿¡æ¯
&lt;/h3&gt;
&lt;p&gt;å¦‚æœä½ å‘ç°äº†&lt;code&gt;bug&lt;/code&gt;æ¬¢è¿æ&lt;code&gt;issue&lt;/code&gt;æˆ–è€…å‘èµ·&lt;code&gt;pull request&lt;/code&gt;ï¼Œæˆ‘æ”¶åˆ°äº†æ¶ˆæ¯ä¼šå°½å¿«å›å¤ä½ ï¼Œå¦å¤–æ¬¢è¿å„ä½&lt;code&gt;Gopher&lt;/code&gt;æå‡ºè‡ªå·±æ„è§ï¼Œæˆ–è€…è´¡çŒ®åšè‡ªå·±çš„ä»£ç ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œå¦å¤–æˆ‘ä»¬ä¹Ÿéå¸¸æ¬¢è¿å¤§å®¶è¿›è¡Œå­˜å‚¨ç›¸å…³æŠ€æœ¯äº¤æµï¼Œä¸é”™çš„è¯åˆ«å¿˜å»&lt;code&gt;Github&lt;/code&gt;ç‚¹ä¸€ä¸ª&lt;code&gt;â­&lt;/code&gt;Thanksâ™ª(ï½¥Ï‰ï½¥)ï¾‰ã€‚&lt;/p&gt;
&lt;p&gt;æ›´è¯¦ç»†çš„é—®é¢˜å¯ä»¥æŸ¥çœ‹ï¼š&lt;a href=&#34;https://github.com/auula/bottle&#34;&gt;https://github.com/auula/bottle&lt;/a&gt;&lt;/p&gt;

    </description>
    </item>
    
    <item>
    <title>Bottle Storage Engine Design</title>
    <link>http://blog.ibyte.me/post/bottle-storage-engine-design/</link>
    <pubDate>Sun, 20 Feb 2022 18:51:18 +0800</pubDate>
    
    <guid>http://blog.ibyte.me/post/bottle-storage-engine-design/</guid>
    <description>
        &lt;h2 id=&#34;ä»€ä¹ˆæ˜¯bottle&#34;&gt;
    &lt;a href=&#34;#%e4%bb%80%e4%b9%88%e6%98%afbottle&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    ä»€ä¹ˆæ˜¯Bottleï¼Ÿ
&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;é¦–å…ˆè¦è¯´æ˜çš„æ˜¯&lt;code&gt;Bottle&lt;/code&gt;æ˜¯ä¸€æ¬¾&lt;code&gt;KV&lt;/code&gt;åµŒå…¥å¼å­˜å‚¨å¼•æ“ï¼Œå¹¶éæ˜¯ä¸€æ¬¾&lt;code&gt;KV&lt;/code&gt;æ•°æ®åº“ï¼Œæˆ‘çŸ¥é“å¾ˆå¤šäººçœ‹åˆ°äº†&lt;code&gt;KV&lt;/code&gt;è®¤ä¸ºæ˜¯æ•°æ®åº“ï¼Œå½“ç„¶ä¸æ˜¯äº†ï¼Œå¾ˆå¤šäººä¼šæŠŠè¿™äº›ææ··æ·†æ‰ï¼Œ&lt;code&gt;KV&lt;/code&gt;å­˜å‚¨å¯ä»¥ç”¨æ¥å­˜å‚¨å¾ˆå¤šä¸œè¥¿ï¼Œè€Œå¹¶éæ˜¯æ•°æ®åº“è¿™ä¸€é¢†åŸŸã€‚å¯ä»¥è¿™ä¹ˆç†è§£æ•°æ®åº“æ˜¯ä¸€å°æ±½è½¦ï¼Œé‚£ä¹ˆ&lt;code&gt;Bottle&lt;/code&gt;æ˜¯ä¸€å°è½¦çš„å‘åŠ¨æœºã€‚å¯ä»¥ç®€å•ç†è§£&lt;code&gt;Bottle&lt;/code&gt;æ˜¯ä¸€ä¸ªå¯¹æ“ä½œç³»ç»Ÿæ–‡ä»¶ç³»ç»Ÿçš„&lt;code&gt;KV&lt;/code&gt;ç”¨æˆ·æ€æŠ½è±¡åŒ–å°è£…ï¼Œå¯ä»¥åŸºäº&lt;code&gt;Bottle&lt;/code&gt;åšä¸ºå­˜å‚¨å±‚ï¼Œåœ¨&lt;code&gt;Bottle&lt;/code&gt;å±‚ä¹‹ä¸Šå°è£…ä¸€äº›æ•°æ®ç»“æ„å’Œå¯¹å¤–æœåŠ¡çš„å­˜å‚¨åè®®å°±å¯ä»¥å®ç°ä¸€ä¸ªæ•°æ®åº“ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/e6c9d24egy1gzfrmt7qo4j21c20u0tai.jpg&#34; 
    alt=&#34;å±‚æ¬¡ç»“æ„&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆå«&lt;code&gt;Bottle&lt;/code&gt;ï¼Ÿæˆ‘è§‰å¾—è¿™ä¸ªé¡¹ç›®çš„ä¸»è¦çš„åŠŸèƒ½å°±æ˜¯å­˜å‚¨ï¼Œå­˜å‚¨ï¼Ÿå­˜å‚¨ä¸å°±æ˜¯å¯ä»¥è£…ä¸œè¥¿ï¼Œå­˜å‚¨æ•°æ®ï¼Œæ‰€ä»¥æˆ‘å°±è”æƒ³åˆ°äº†&lt;code&gt;é­”ç“¶&lt;/code&gt;è¿™ä¸ªè¯ï¼Œäºæ˜¯æˆ‘æƒ³åˆ°äº†&lt;code&gt;Klein Bottle&lt;/code&gt;ï¼Œå…‹è±å› ç“¶å¦‚æœæ˜¯ææ•°å­¦çš„åº”è¯¥å¾ˆç†Ÿæ‚‰ï¼Œå…‹è±å› ç“¶å¯ä»¥ä»ä¸€ä¸ªå¹³é¢è¾¾åˆ°å¦å¤–ä¸€ä¸ªå¹³é¢ï¼Œæ‰€ä»¥æˆ‘å°±é€‰æ‹©&lt;code&gt;Bottle&lt;/code&gt;ä½œä¸ºå­˜å‚¨å¼•æ“çš„åå­—ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å­˜å‚¨æ¨¡å‹æ—¥å¿—ç»“æ„åˆå¹¶æ ‘&#34;&gt;
    &lt;a href=&#34;#%e5%ad%98%e5%82%a8%e6%a8%a1%e5%9e%8b%e6%97%a5%e5%bf%97%e7%bb%93%e6%9e%84%e5%90%88%e5%b9%b6%e6%a0%91&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å­˜å‚¨æ¨¡å‹ï¼šæ—¥å¿—ç»“æ„åˆå¹¶æ ‘
&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;Bottle&lt;/code&gt;é‡‡ç”¨çš„æ˜¯ç±»ä¼¼äº&lt;code&gt;lsm tree&lt;/code&gt;æ•°æ®ç»“æ„ï¼Œä¹Ÿå°±æ˜¯&lt;code&gt;LSM-Tree&lt;/code&gt;ï¼Œå…¨ç§°&lt;code&gt;Log Structured-Merge Tree&lt;/code&gt;ï¼Œè¿™ç§å­˜å‚¨ç»“æ„ç‰¹ç‚¹å°±æ˜¯æ¯æ¡æ•°æ®è®°å½•éƒ½æ˜¯ä»¥é¡ºåºå†™çš„æ–¹å¼è¿½åŠ ï¼Œæˆ‘ç›¸ä¿¡å¤§å®¶éƒ½ç”¨è¿‡å„ä¸ªè¯­è¨€é‡Œé¢æ—¥å¿—è®°å½•åŒ…ï¼Œè¿™ä¸ªå­˜å‚¨æ¨¡å‹ä¹Ÿæ˜¯ç±»ä¼¼äºè¿™æ ·çš„ï¼Œè®°å½•å°±å’Œæ‰“å°æ—¥å¿—ä¸€æ ·è®°å½•åˆ°æ•°æ®å­˜å‚¨æ–‡ä»¶ä¸­ï¼Œè¿™ç§é¡ºåºå†™çš„æ–¹å¼èƒ½å……åˆ†å‘æŒ¥ç£ç›˜&lt;code&gt;IO&lt;/code&gt;æ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/e6c9d24egy1gzk6ej82y1j208c07ft8w.jpg&#34; 
    alt=&#34;æ€§èƒ½å¯¹æ¯”&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ•°æ®æ–‡ä»¶ç»„ç»‡ç»“æ„æœ€æ—©åº”ç”¨æœ‰&lt;code&gt;Google&lt;/code&gt;çš„&lt;code&gt;BigTable&lt;/code&gt;ï¼Œ&lt;code&gt;Facebook Cassandra&lt;/code&gt;å½“ç„¶ç›®å‰å±äº&lt;code&gt;Apache&lt;/code&gt;äº†ï¼Œ &lt;code&gt;LevelDB&lt;/code&gt;è¿™äº›å­˜å‚¨é¡¹ç›®ä¸Šã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;LSM&lt;/code&gt;çš„ç†è®ºæ˜¯ï¼šåœ¨å†…å­˜è¶³å¤Ÿå¤§çš„æ—¶å€™ï¼Œæ¯æ¬¡å†™å…¥çš„æ•°æ®è¢«å…ˆé›¶æ—¶æ”¾ç½®åœ¨å†…å­˜ä¸­ï¼Œå› æ­¤ä¸éœ€è¦æ¯æ¬¡æœ‰æ•°æ®æ›´æ–°å°±å¿…é¡»å°†æ•°æ®å†™å…¥åˆ°ç£ç›˜ä¸­ï¼Œå› æ­¤å¯ä»¥å…ˆå°†æœ€æ–°çš„æ•°æ®é©»ç•™åœ¨å†…å­˜ä¸­ï¼Œç­‰åˆ°ç§¯ç´¯åˆ°æœ€åå¤šä¹‹åï¼Œå†ä½¿ç”¨å½’å¹¶æ’åºçš„æ–¹å¼å°†å†…å­˜å†…çš„æ•°æ®åˆå¹¶è¿½åŠ åˆ°ç£ç›˜é˜Ÿå°¾ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/e6c9d24egy1gzj7hokxhpj219x0u00vn.jpg&#34; 
    alt=&#34;lsmè¯»å†™æµç¨‹&#34; 
     /&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å†™å…¥æµç¨‹å°±æ˜¯ï¼šå…ˆå°†æ“ä½œé€šè¿‡æ—¥å¿—è¿½åŠ çš„æ–¹å¼å†™å…¥åˆ°&lt;code&gt;wal&lt;/code&gt;é‡Œé¢ï¼Œè¿™ä¸ªæ˜¯é˜²æ­¢å®•æœºæ•°æ®æ¢å¤ä½¿ç”¨ï¼Œç„¶åå°†å†™å…¥çš„æ•°æ®å­˜å‚¨åˆ°å†…å­˜çš„&lt;code&gt;memtable&lt;/code&gt;ä¸­ï¼Œè¯¥è¡¨çš„å®ç°å¯ä»¥æ˜¯çº¢é»‘æ ‘æˆ–è€…è·³è·ƒè¡¨ï¼Œè¿™ç§å¯ä»¥æ–¹ä¾¿èŒƒå›´æŸ¥æ‰¾ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ•°æ®æ•´ç†ï¼šå½“&lt;code&gt;memtable&lt;/code&gt;è¾¾åˆ°å†…å­˜é˜ˆå€¼çš„æ—¶å€™ï¼Œä¼šå°†è¯¥éƒ¨åˆ†æ•°æ®å½¢æˆå¿«ç…§ï¼Œå¹¶æ–°ç”Ÿäº§ä¸€ä¸ª&lt;code&gt;memtable&lt;/code&gt;ç”¨æ¥å¤„ç†åç»­çš„è¯·æ±‚ï¼Œåœ¨ç£ç›˜çš„&lt;code&gt;sstable&lt;/code&gt;åˆ†äº†å‡ ä¸ªå±‚çº§ï¼Œè¢«å†™æ»¡çš„çš„&lt;code&gt;memtable&lt;/code&gt;å°†ä¼šå’Œè¿™äº›&lt;code&gt;sstable&lt;/code&gt;å±‚è¿›è¡Œåˆå¹¶ï¼Œæ¯å±‚çš„&lt;code&gt;sstable&lt;/code&gt;è¾¾åˆ°é˜ˆå€¼çš„æ—¶å€™ä¹Ÿä¼šä¸æ–­çš„å‘ä¸‹åˆå¹¶ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å°±æ˜¯åœ¨æ¸…é™¤æ‰è¢«æ ‡è®°åˆ é™¤æ‰çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŸ¥è¯¢è¿‡ç¨‹ï¼šå…ˆæŸ¥è¯¢&lt;code&gt;memtable&lt;/code&gt;ä»¥åŠ&lt;code&gt;immutable memtable&lt;/code&gt;ï¼Œæ‰¾åˆ°å°±è¿”å›æ¯•ç«Ÿå†…å­˜ä¸­æ˜¯æœ€æ–°çš„è®°å½•ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œé‚£ä¹ˆå°±ä¸€å±‚ä¸€å±‚å¾—å¾€ä¸‹æŸ¥æ‰¾åˆ°æ•°æ®ä¸ºæ­¢ï¼Œè¿™ä¸ªè¿‡ç¨‹æœ‰ç‚¹åƒä½ æŠŠä½ ä¸€å †ä¹¦å èµ·æ¥ï¼Œæ‰¾ä¸€æœ¬ä½ è¦çš„ä¹¦ï¼Œä½ åªèƒ½ä»æœ€ä¸Šå±‚å¾€ä¸‹é¢æŸ¥æ‰¾ï¼ŒçŸ¥é“æ‰¾åˆ°æˆ–è€…æ‰¾ä¸åˆ°è¿›è¡Œè¿”å›ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;çœ‹å®Œæˆ‘å†™çš„è¿™ä¸ªæµç¨‹ï¼Œå¾ˆæ˜æ˜¾&lt;code&gt;lsm&lt;/code&gt;çš„ç‰¹ç‚¹å°±æ˜¯å¯¹å†™å‹å¥½ï¼Œä½†æ˜¯ä¼šå­˜åœ¨ç£ç›˜æ–‡ä»¶å ç”¨ä¸æ–­åŠ å¤§é—®é¢˜ï¼Œéœ€è¦å®šæœŸåˆå¹¶æ¸…ç†ï¼Œä½†æ˜¯æŸ¥æ‰¾çš„æ€§èƒ½å°±ä¸€èˆ¬äº†ï¼Œå¦‚æœæ•°æ®æ¯”è¾ƒæ–°è¿˜å¥½ï¼Œå¦‚æœå†™å…¥çš„æ¯”è¾ƒä¹…ï¼Œé‚£ä¹ˆä¸èƒ½åƒ&lt;code&gt;B+Tree&lt;/code&gt;é‚£æ ·æ‰¾ä¸€æ¬¡å°±èƒ½ç¡®å®šï¼Œå¾ˆæœ‰å¯èƒ½è¦ä¸æ–­çš„ä¸‹æ¨æŸ¥æ‰¾ï¼Œå¯ä»¥ä½¿ç”¨&lt;code&gt;Bloom filter&lt;/code&gt;è¿›è¡Œå‹åŒ–ï¼Œåœ¨æŸ¥è¯¢çš„æ—¶å€™å…ˆç»è¿‡å¸ƒéš†è¿‡æ»¤å™¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;bottleå­˜å‚¨æ¨¡å‹è®¾è®¡&#34;&gt;
    &lt;a href=&#34;#bottle%e5%ad%98%e5%82%a8%e6%a8%a1%e5%9e%8b%e8%ae%be%e8%ae%a1&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    Bottleå­˜å‚¨æ¨¡å‹è®¾è®¡
&lt;/h2&gt;
&lt;p&gt;çœ‹å®Œä¸Šé¢çš„&lt;code&gt;lsm tree&lt;/code&gt;çš„è®¾è®¡ï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆåŠæ³•åœ¨å†™å’Œè¯»æ–¹é¢åšåˆ°å¹³è¡¡å‘¢ï¼Œä¹Ÿå°±æ˜¯å†™æ€§èƒ½ä¹Ÿå¿«ï¼Œè¯»æ€§èƒ½ä¹Ÿå¿«ï¼Œèƒ½ä¸èƒ½è¯»å–çš„æ—¶å€™åªç»è¿‡ä¸€æ¬¡ç´¢å¼•æŸ¥æ‰¾å°±èƒ½å®šä½åˆ°æ•°æ®æ‰€å­˜åœ¨çš„æ–‡ä»¶å‘¢ï¼Ÿç„¶åä¸€æ¬¡&lt;code&gt;io&lt;/code&gt;æ“ä½œå°±å°±è¯»å–åˆ°æ•°æ®å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æˆ‘æƒ³å¤§å®¶éƒ½äº†è§£è¿‡æ•°æ®ç»“æ„å§ï¼Œæ•°æ®ç»“æ„é‡Œé¢ä»€ä¹ˆç»“æ„åœ¨å¤§æ•°æ®é‡ä¸‹æŸ¥è¯¢é€Ÿåº¦æœ€å¿«å‘¢ï¼Ÿå¦‚æœæˆ‘è¯´åŸºäºæ•£åˆ—ç®—æ³•çš„å“ˆå¸Œè¡¨ï¼Œåº”è¯¥æ²¡æœ‰äººåå¯¹å§ï¼Œåªè¦ä½ çš„æ•£åˆ—ç®—æ³•å’Œä½ çš„æ•£åˆ—æ§½ä½ï¼Œå’Œæ‰©å®¹ç­–ç•¥è®¾è®¡çš„å¤Ÿå¥½ï¼Œæˆ‘ç›¸ä¿¡æ€§èƒ½ä¹Ÿä¸ä¼šå¤ªå·®ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å…¶å®æˆ‘ä»¬æ‰€è¯´çš„è¿™ä¸ª&lt;code&gt;kv&lt;/code&gt;å­˜å‚¨ï¼Œå…¶å®è¿™ä¸ª&lt;code&gt;key&lt;/code&gt;æ˜¯ä¸æ˜¯ç›¸å½“äºæˆ‘ä»¬å¸¸ç”¨çš„ç¼–ç¨‹è¯­è¨€é‡Œé¢çš„&lt;code&gt;map&lt;/code&gt;çš„é”®ï¼Œç„¶å&lt;code&gt;value&lt;/code&gt;çš„å°±æ˜¯å­˜å‚¨æ–¹å¼ä¸åŒäº†ï¼Œç»“åˆä¸Šé¢çš„&lt;code&gt;lsm tree&lt;/code&gt;çš„ç‰¹å¾ï¼Œæˆ‘ä»¬æ˜¯ä¸æ˜¯å¯ä»¥ä¼˜åŒ–ä¸€ä¸‹ï¼Œæˆ–è€…è¯´é‡æ–°è®¾è®¡ä¸€ä¸‹ï¼ŒæŠŠç´¢å¼•æ¢æˆåŸºäºæ•£åˆ—ç®—æ³•çš„ç´¢å¼•ï¼Œé€šè¿‡æ•£åˆ—è®¡ç®—å¾—åˆ°&lt;code&gt;value&lt;/code&gt;çš„ä½ç½®å‘¢ï¼Ÿ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¿™æ–¹é¢å­˜å‚¨å¼•æ“è®¾è®¡ï¼Œå·²ç»æœ‰å‰äººåšè¿‡å°è¯•å¹¶ä¸”åº”ç”¨ï¼Œ&lt;code&gt;Riak&lt;/code&gt;è¿™ä¸ªæ•°æ®åº“å°±æ˜¯åŸºäºä»¥ä¸Šæƒ³æ³•ï¼Œè®¾è®¡ä¸€ä¸ª&lt;code&gt;bitcask&lt;/code&gt;å­˜å‚¨æ¨¡å‹ï¼Œä»–ä»¬è®¾è®¡è®ºæ–‡æœ‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://riak.com/assets/bitcask-intro.pdf&#34;&gt;https://riak.com/assets/bitcask-intro.pdf&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;Bottle&lt;/code&gt;çš„å®ç°å°±æ˜¯åŸºäºè¿™ç¯‡è®ºæ–‡é‡Œé¢æ‰€æå‡ºçš„å­˜å‚¨è§£å†³æ–¹æ¡ˆï¼Œä¸€ä¸ª&lt;code&gt;Bottle&lt;/code&gt;çš„å®ä¾‹å…¶å®å°±æ˜¯ä¸€ä¸ªç›®å½•ï¼Œ&lt;code&gt;Bottle&lt;/code&gt;é‚£ä¸ªè¿›ç¨‹ä¼šå¯¹è¿™ä¸ªç›®å½•æœ‰æ“ä½œæ‰€æœ‰æƒï¼Œåœ¨ä»»ä½•æ—¶å€™éƒ½åªæœ‰ä¸€ä¸ªæ–‡ä»¶æ˜¯&lt;code&gt;active&lt;/code&gt;çŠ¶æ€ç”¨äºè¢«ä¸»çº¿ç¨‹æ¥å†™å…¥æ•°æ®è®°å½•ã€‚&lt;/p&gt;
&lt;p&gt;å½“&lt;code&gt;active&lt;/code&gt;æ–‡ä»¶è¾¾åˆ°ç©ºé—´é˜ˆå€¼å®ƒå°†è¢«å…³é—­ï¼Œç„¶åä¸€ä¸ªæ–°çš„æ–‡ä»¶è®¾ç½®ä¸º&lt;code&gt;active&lt;/code&gt;ç»§ç»­æ¥æ”¶æ–°çš„å†™å…¥è¯·æ±‚ï¼Œè¢«å…³é—­çš„æ–‡ä»¶çŠ¶æ€è¢«è®¾ç½®ä¸ºåªè¯»å¹¶ä¸”æŠŠæ“ä½œç³»ç»Ÿçš„æ–‡ä»¶å¥æŸ„åœ¨å†…å­˜é‡Œé¢æ·»åŠ å¯¹åº”æ˜ å°„ï¼Œæ–¹ä¾¿åé¢æ•°æ®æŸ¥è¯¢è¯»å–ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/e6c9d24egy1gzjby5wxv3j219e0u0gnt.jpg&#34; 
    alt=&#34;ä¸€ä¸ªBottleå®ä¾‹&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæˆ‘å°±ä¸è®²åºŸè¯äº†ï¼Œå¦‚æœå¯¹&lt;code&gt;bitcask&lt;/code&gt;å·¥ä½œåŸç†æ„Ÿå…´è¶£çš„è¯ï¼Œå¯ä»¥å»æŸ¥çœ‹è¿™ç¯‡æ–‡ç« ï¼š&lt;a href=&#34;https://blog.ibyte.me/post/bitcask-kvbase/&#34;&gt;https://blog.ibyte.me/post/bitcask-kvbase/&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;ç´¢å¼•æ€ä¹ˆé€‰&#34;&gt;
    &lt;a href=&#34;#%e7%b4%a2%e5%bc%95%e6%80%8e%e4%b9%88%e9%80%89&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    ç´¢å¼•æ€ä¹ˆé€‰ï¼Ÿ
&lt;/h2&gt;
&lt;p&gt;å¦‚æœè¯»è€…çœ‹å®Œæˆ‘ä¸Šé¢ç»™å‡ºçš„é“¾æ¥é‡Œé¢çš„èµ„æ–™ï¼Œä½ ä¼šå‘ç°ï¼Œ&lt;code&gt;ç´¢å¼•&lt;/code&gt;å¯¹å­˜å‚¨çš„æ€§èƒ½èµ·åˆ°å…³é”®ä½œç”¨ï¼Œæ•°æ®çš„è¯»å–å­˜å‚¨å¿«æ…¢ï¼Œéƒ½ä¾èµ–äºç´¢å¼•ï¼Œåƒç›®å‰é‡‡ç”¨çš„&lt;code&gt;bitcask&lt;/code&gt;è®ºæ–‡ä¸­è¯´çš„åŸºäºæ•£åˆ—å®šä½çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¯»å®Œå®ƒæœ€å¤§ç¼ºç‚¹å°±æ˜¯ç´¢å¼•æ•°æ®å…¨éƒ¨åœ¨å†…å­˜ï¼Œè®¾è®¡å†…å­˜æ•°æ®ç´¢å¼•ç»“æ„æ—¶è¦è€ƒè™‘æ¯ä¸€ä¸ªç´¢å¼•å’Œè®°å½•å…³ç³»å ç”¨ï¼Œç„¶åè®¡ç®—é¢„è®¡ç³»ç»Ÿæ•´ä½“æ•°æ®çš„é‡å ç”¨çš„å†…å­˜å¤§å°ï¼Œç„¶åç´¢å¼•æ•°æ®è¦æŒä¹…åŒ–ï¼Œå¹¶ä¸”å¦‚æœæ˜¯åŸºäºæ•£åˆ—ç´¢å¼•é‚£ä¹ˆä¸ä¸æ”¯æŒèŒƒå›´æ‰«æï¼Œå¦‚æœè¦æ”¯æŒèŒƒå›´æ‰«æå¯ä»¥è€ƒè™‘&lt;code&gt;Adaptive Radix Tree(è‡ªé€‚åº”å‰ç¼€æ ‘)&lt;/code&gt;ï¼Œæˆ–è€…è·³è¡¨è¿™æ ·çš„ç»“æ„åšç´¢å¼•ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç´¢å¼•æœ‰ä»€ä¹ˆé€‰æ‹©ï¼Ÿ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Adaptive Radix Tree&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Skip List&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Hash Table&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Adaptive Hash Index, AHI&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/e6c9d24egy1gzk5mvnwzej215a0cywft.jpg&#34; 
    alt=&#34;ä¸åŒç»“æ„å¯¹æ¯”&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;åŸºæ•°æ ‘è¿™ä¸ªåœ¨ä¸€äº›&lt;code&gt;web&lt;/code&gt;è·¯ç”±æ¡†æ¶é‡Œé¢ç”¨çš„æ¯”è¾ƒå¤šï¼Œæ–‡ä»¶ç›®å½•å•Šï¼Œç½‘ç«™è·¯å¾„ï¼Œåšè·¯ç”±åŒ¹é…çš„ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ¥æå­˜å‚¨ç´¢å¼•ï¼Œä½†æ˜¯å·¥ä½œé‡ä»£ç é‡å¾ˆå¤§ï¼Œä¹Ÿä¸è½»é‡çº§ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;github.com/gammazero/radixtree&#34;&gt;github.com/gammazero/radixtree&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/e6c9d24egy1gzk5ra5825j20m80dwdgy.jpg&#34; 
    alt=&#34;åŸºæ•°æ ‘&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;radix tree&lt;/code&gt;å¯ä»¥è¢«è®¤ä¸ºæ˜¯ä¸€æ£µç®€æ´ç‰ˆçš„å‰ç¼€æ ‘ï¼Œæ‹¥æœ‰å…±åŒå‰ç¼€çš„èŠ‚ç‚¹ä¹Ÿå…±äº«åŒä¸€ä¸ªçˆ¶èŠ‚ç‚¹ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ª&lt;code&gt;GET&lt;/code&gt;æ–¹æ³•å¯¹åº”çš„è·¯ç”±æ ‘çš„ç»“æ„ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;nx&#34;&gt;Priority&lt;/span&gt;   &lt;span class=&#34;nx&#34;&gt;Path&lt;/span&gt;             &lt;span class=&#34;nx&#34;&gt;Handle&lt;/span&gt;
&lt;span class=&#34;mi&#34;&gt;9&lt;/span&gt;          &lt;span class=&#34;err&#34;&gt;\&lt;/span&gt;                &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;          &lt;span class=&#34;err&#34;&gt;â”œ&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;               &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;
&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;          &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;â”œ&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;earch&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;\&lt;/span&gt;         &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;          &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;â””&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;upport&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;\&lt;/span&gt;        &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;          &lt;span class=&#34;err&#34;&gt;â”œ&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;blog&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;\&lt;/span&gt;           &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;          &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;    &lt;span class=&#34;err&#34;&gt;â””&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;post&lt;/span&gt;      &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;
&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;          &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;         &lt;span class=&#34;err&#34;&gt;â””\&lt;/span&gt;     &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;          &lt;span class=&#34;err&#34;&gt;â”œ&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;about&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;us&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;\&lt;/span&gt;       &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;          &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;        &lt;span class=&#34;err&#34;&gt;â””&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;team&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;\&lt;/span&gt;  &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;          &lt;span class=&#34;err&#34;&gt;â””&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;contact&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;\&lt;/span&gt;        &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;*&amp;lt;num&amp;gt;&lt;/code&gt;æ˜¯æ–¹æ³•&lt;code&gt;handler&lt;/code&gt;å¯¹åº”çš„æŒ‡é’ˆï¼Œä»æ ¹èŠ‚ç‚¹éå†åˆ°å¶å­èŠ‚ç‚¹æˆ‘ä»¬å°±èƒ½å¾—åˆ°å®Œæ•´çš„è·¯ç”±è¡¨ï¼Œå›¾ä¸­çš„ç¤ºä¾‹å®ç°äº†ä»¥ä¸‹è·¯ç”±ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;nf&#34;&gt;GET&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;func1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;GET&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/search/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;func2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;GET&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/support/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;func3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;GET&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/blog/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;func4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;GET&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/blog/:post/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;func5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;GET&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/about-us/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;func6&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;GET&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/about-us/team/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;func7&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;GET&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/contact/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;func8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ€ä¹ˆæ‰¹é‡é…ï¼Œä¾‹å¦‚ä¸‹é¢ä¸€ä¸ªä¾‹å­ï¼Œæˆ‘å»è®¿é—®æˆ‘çš„ä»“åº“åœ°å€ï¼Œ&lt;code&gt;GitHub&lt;/code&gt;æœåŠ¡å™¨æ˜¯æ€ä¹ˆçŸ¥é“çš„æˆ‘ä»“åº“çš„ï¼Ÿ ä¾‹å¦‚ï¼š&lt;code&gt;github.com/auula/:repo&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;:repo&lt;/code&gt;æ˜¯çœŸå®çš„&lt;code&gt;:repo&lt;/code&gt;çš„ä¸€ä¸ªå ä½ç¬¦ï¼ˆå°±æ˜¯ä¸€ä¸ªå‚æ•°ï¼Œè¿™é‡Œä½“ç°äº†&lt;code&gt;radix tree&lt;/code&gt;ç›¸è¾ƒäº&lt;code&gt;hash-map&lt;/code&gt;çš„ä¸€ä¸ªä¼˜ç‚¹ï¼Œæ ‘ç»“æ„å…è®¸æˆ‘ä»¬çš„è·¯å¾„ä¸­å­˜åœ¨åŠ¨æ€çš„éƒ¨åˆ†&lt;code&gt;å‚æ•°&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¦‚æœè¦æ”¯æŒèŒƒå›´æœç´¢ï¼Œé‚£ä¹ˆåŸºæ•°æ ‘æ˜¯ä¸€ä¸ªå¾ˆå¥½é€‰æ‹©ï¼Œä½†æ˜¯å·¥ä½œé‡ä»£ç é‡éš¾åº¦ï¼Œè¿œè¶…äºåŸºäº&lt;code&gt;Hash Table&lt;/code&gt;çš„ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&#34;è„æ•°æ®åˆå¹¶æ€ä¹ˆæ&#34;&gt;
    &lt;a href=&#34;#%e8%84%8f%e6%95%b0%e6%8d%ae%e5%90%88%e5%b9%b6%e6%80%8e%e4%b9%88%e6%90%9e&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    è„æ•°æ®åˆå¹¶æ€ä¹ˆæ?
&lt;/h2&gt;

    </description>
    </item>
    
    <item>
    <title>GWS System Design</title>
    <link>http://blog.ibyte.me/post/gws-system-design/</link>
    <pubDate>Mon, 07 Feb 2022 19:42:49 +0800</pubDate>
    
    <guid>http://blog.ibyte.me/post/gws-system-design/</guid>
    <description>
        &lt;h2 id=&#34;æ¦‚-è¿°&#34;&gt;
    &lt;a href=&#34;#%e6%a6%82-%e8%bf%b0&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    æ¦‚ è¿°
&lt;/h2&gt;
&lt;p&gt;å‰é¢ä¸€ç¯‡æ–‡ç« æˆ‘ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨&lt;code&gt;gws&lt;/code&gt;æ¥ç®¡ç†çš„ä½ çš„&lt;code&gt;session&lt;/code&gt;ï¼Œä½†æ˜¯ç›®å‰&lt;code&gt;session&lt;/code&gt;æ€»ä½“æˆ‘è‡ªå·±&lt;code&gt;code review&lt;/code&gt;ä¸‹æ¥å‘ç°äº†ä¸€äº›åˆ†å¸ƒå¼ç³»ç»Ÿæ‰ä¼šå‡ºç°çš„æ•°æ®ä¸€è‡´æ€§é—®é¢˜ï¼Œè¿™ä¸ªæˆ‘ä¼šåœ¨æœ¬æ–‡é‡Œé¢ä»‹ç»ä¸€ä¸‹ï¼Œå¹¶ä¸”ä¼šç»™å‡ºè§£å†³æ–¹æ¡ˆï¼Œåœ¨ä¸€ä¸‹ç‰ˆæœ¬é‡Œé¢è§£å†³ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬ç¯‡æ–‡ç« æˆ‘ä¸»è®²å•æœºçš„å®ç°å’Œæ€»ä½“&lt;code&gt;gws&lt;/code&gt;ä¸€äº›è®¾è®¡ç›¸å…³çš„å†…å®¹ï¼Œæœ¬æ–‡ä¼šä»ä»€ä¹ˆæ˜¯&lt;code&gt;session&lt;/code&gt;ï¼Ÿä¸ºä»€ä¹ˆè¦æœ‰&lt;code&gt;session&lt;/code&gt;ï¼Ÿ&lt;code&gt;session&lt;/code&gt;æ€ä¹ˆå·¥ä½œçš„ï¼Ÿ&lt;code&gt;gws&lt;/code&gt;æ˜¯å¦‚ä½•ç®¡ç†&lt;code&gt;session&lt;/code&gt;çš„ï¼Ÿè¿™äº›æ–¹é¢æ¥å…¨é¢å‰–æå…·ä½“çš„å®ç°ï¼Œå¹¶ä¸”åœ¨æ–‡æœ«ä»‹ç»ä»»ä½•è§£å†³åˆ†å¸ƒå¼åœºæ™¯ä¸‹æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;h2 id=&#34;sessionæ˜¯ä»€ä¹ˆ&#34;&gt;
    &lt;a href=&#34;#session%e6%98%af%e4%bb%80%e4%b9%88&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    sessionæ˜¯ä»€ä¹ˆï¼Ÿ
&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;æå§†Â·æŸå…§èŒ²-ææ–¼&lt;/code&gt;1989å¹´åœ¨æ­æ´²æ ¸å­ç ”ç©¶çµ„ç¹”æ‰€å‘æ˜äº†&lt;code&gt;HTTP&lt;/code&gt;åè®®ï¼Œç”±äºåœ¨è®¾è®¡ä¹‹åˆå°±æ˜¯æ— çŠ¶æ€çš„ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨é€šè®¯ï¼ŒæœåŠ¡å™¨æ˜¯æ— æ³•ç¡®è®¤è¯·æ±‚æ˜¯ä»å“ªä¸ªå®¢æˆ·ç«¯å‘è¿‡æ¥çš„ï¼Œå½“æˆ‘ä»¬å‘æœåŠ¡å™¨å‘é€è¯·æ±‚åï¼ŒæœåŠ¡å™¨è§£ææ­¤è¯·æ±‚ï¼Œç„¶åè¿”å›å¯¹åº”çš„å“åº”ï¼ŒæœåŠ¡å™¨è´Ÿè´£å®Œæˆæ•´ä¸ªè¿‡ç¨‹ã€‚ è¿™ä¸ªè¿‡ç¨‹æ˜¯å®Œå…¨ç‹¬ç«‹çš„ï¼ŒæœåŠ¡å™¨ä¸ä¼šè®°å½•å‰åçŠ¶æ€çš„å˜åŒ–ï¼Œä¹Ÿå°±æ˜¯ç¼ºå°‘çŠ¶æ€è®°å½•ï¼Œæ‰€ä»¥æœ‰äº†&lt;code&gt;session&lt;/code&gt;è¿™ä¸ªæ¦‚å¿µï¼Œ&lt;code&gt;session&lt;/code&gt;ä¼šå€ŸåŠ©æµè§ˆå™¨çš„&lt;code&gt;cookie&lt;/code&gt;æ¥é…åˆå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„èº«ä»½é‰´æƒå·¥ä½œï¼Œæˆ‘ä¸ä¼šå»è®²ä¸€äº›ç»†èŠ‚ï¼Œäº†è§£è¿™äº›ä¸ç®¡ä½ æ˜¯å‰ç«¯å·¥ç¨‹å¸ˆè¿˜æ˜¯åç«¯å·¥ç¨‹å¸ˆï¼Œè¿™äº›åŸºç¡€çŸ¥è¯†å¿…é¡»æŒæ¡çš„ï¼Œåªæœ‰ä½ çŸ¥é“å®ƒå·¥ä½œæœºåˆ¶äº†ï¼Œä½ æ‰èƒ½åŠ¨æ‰‹å»è§£å†³é—®é¢˜ï¼Œå½“ç„¶&lt;code&gt;API&lt;/code&gt;æ“ä½œå‘˜å¯ä»¥ä¸éœ€è¦äº†è§£ã€‚ã€‚&lt;/p&gt;
&lt;h2 id=&#34;sessionè¯·æ±‚è¿‡ç¨‹&#34;&gt;
    &lt;a href=&#34;#session%e8%af%b7%e6%b1%82%e8%bf%87%e7%a8%8b&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    sessionè¯·æ±‚è¿‡ç¨‹
&lt;/h2&gt;
&lt;p&gt;å½“æµè§ˆå™¨æ‰“å¼€æˆ‘ä»¬ç¼–å†™çš„æœåŠ¡çš„æ—¶å€™ï¼Œå¦‚æœè¿™ä¸ªè¯·æ±‚æ˜¯ç¬¬ä¸€æ¬¡è¿‡æ¥ï¼Œ&lt;code&gt;gws&lt;/code&gt;ä¼šå»æŸ¥è¯¢è¯·æ±‚é‡Œé¢çš„&lt;code&gt;sessionid&lt;/code&gt;ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ª&lt;code&gt;session&lt;/code&gt;æ•°æ®ï¼Œä¼šé©¬ä¸Šç”Ÿæˆä¸€ä¸ª&lt;code&gt;sessionid&lt;/code&gt;å¹¶ä¸”åœ¨å­˜å‚¨ä»‹è´¨ä¸Šåˆ›å»ºä¸€ä¸ªä¼šè¯æ•°æ®ä¿å­˜ï¼Œç„¶åé€šçŸ¥æµè§ˆå™¨å‘Šè¯‰ä¸‹æ¬¡è¯·æ±‚å¸¦ä¸Š&lt;code&gt;sessionid&lt;/code&gt;æ–¹ä¾¿æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´é‰´æƒå·¥ä½œã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gz53tu399mj317g0u0dhe.jpg&#34; 
    alt=&#34;ä¸€ä¸ªè¯·æ±‚è¿‡ç¨‹&#34; 
     /&gt;&lt;/p&gt;
&lt;h2 id=&#34;gwså¦‚ä½•è®¾è®¡çš„&#34;&gt;
    &lt;a href=&#34;#gws%e5%a6%82%e4%bd%95%e8%ae%be%e8%ae%a1%e7%9a%84&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    gwså¦‚ä½•è®¾è®¡çš„
&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;GWS&lt;/code&gt;åœ¨è®¾è®¡çš„æ—¶å€™å°±è€ƒè™‘åˆ°è¦æ”¯æŒå¤šç§å­˜å‚¨ï¼Œç„¶åå¯¹å¤–è°ƒç”¨è€…æš´éœ²çš„å°±æ˜¯&lt;code&gt;GetSession&lt;/code&gt;å‡½æ•°ï¼Œæˆ–è€…å†…ç½®çš„&lt;code&gt;NewSession&lt;/code&gt;è¿™ä¸¤ä¸ªå‡½æ•°ï¼Œå…·ä½“çš„å®ç°å¯ä»¥å»çœ‹æºä»£ç ï¼Œåªèƒ½é€šè¿‡è¿™ä¸¤ä¸ªå‡½æ•°å¾—åˆ°&lt;code&gt;Session&lt;/code&gt;æ“ä½œå¯¹è±¡ï¼Œé˜²æ­¢å¼€å‘è€…è‡ªå®šä¹‰åˆ›å»ºï¼Œå¿…é¡»æŒ‰ç…§&lt;code&gt;gws&lt;/code&gt;è§„åˆ™æ¥ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gz53y33hzwj317g0u00un.jpg&#34; 
    alt=&#34;GWSå±‚æ¬¡æ¶æ„å›¾&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;GetSession&lt;/code&gt;å±‚è´Ÿè´£ä»&lt;code&gt;request&lt;/code&gt;é‡Œé¢è§£æå¾—åˆ°å…·ä½“çš„&lt;code&gt;session&lt;/code&gt;ï¼Œå…·ä½“å­˜å‚¨å®ç°ä¹Ÿæ˜¯é€šè¿‡æ¥å£åˆ†ç¦»çš„ï¼Œå…·ä½“å®ç°è¦çœ‹å…·ä½“çš„&lt;code&gt;Session&lt;/code&gt;çš„&lt;code&gt;gws.Storage&lt;/code&gt;çš„æ¥å£äº†ï¼Œè®©ç¬¬ä¸‰æ–¹å¼€å‘è€…æ–¹ä¾¿å®ç°è‡ªå·±çš„&lt;code&gt;å­˜å‚¨ä»‹è´¨&lt;/code&gt;ï¼Œå•æœºå­˜å‚¨æ˜¯æ²¡æœ‰ä»€ä¹ˆæŠ€æœ¯å«é‡çš„ï¼Œé‡ç‚¹æ˜¯åˆ†å¸ƒå¼è¿™ä¸€å—ã€‚&lt;/p&gt;
&lt;h2 id=&#34;åˆ†å¸ƒå¼ä¼šè¯&#34;&gt;
    &lt;a href=&#34;#%e5%88%86%e5%b8%83%e5%bc%8f%e4%bc%9a%e8%af%9d&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    åˆ†å¸ƒå¼ä¼šè¯
&lt;/h2&gt;
&lt;p&gt;å½“æˆ‘ä»¬å•ä¸ªåº”ç”¨èŠ‚ç‚¹ï¼Œä¸èƒ½å¾ˆå¥½æ”¯æŒä¸šåŠ¡å‘å±•çš„æ—¶å€™ï¼Œå¾€å¾€å¤§éƒ¨åˆ†ç³»ç»Ÿéƒ½ä¼šå¾€åˆ†å¸ƒå¼ç³»ç»Ÿæ¶æ„å‘å±•ï¼Œä¾‹å¦‚æœ€ç®€å•è§£å†³æ–¹æ¡ˆå°±æ˜¯&lt;code&gt;NGINX&lt;/code&gt;åŠ &lt;code&gt;Web Service&lt;/code&gt;ç»„æˆä¸€ä¸ªå¤§è§„æ¨¡è´Ÿè½½å‡è¡¡é›†ç¾¤ï¼Œè™½ç„¶&lt;code&gt;NGINX&lt;/code&gt;è§£å†³äº†&lt;code&gt;c10k&lt;/code&gt;é—®é¢˜äº†ï¼Œä½†æ˜¯åˆ†å¸ƒå¼ä¼šè¯é—®é¢˜åˆæ¥äº†ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¦éœ€è¦åˆ†å¸ƒå¼ä¼šè¯å…±äº«ï¼Œä¸€ä¸ªæµè§ˆå™¨è¯·æ±‚æ‰“è¿‡æ¥ï¼Œå¯èƒ½è¢«&lt;code&gt;NGINX&lt;/code&gt;è´Ÿè½½å‡è¡¡ç®—æ³•æ‰“åˆ°ä¸åŒçš„åº”ç”¨èŠ‚ç‚¹ä¸Šï¼Œè¿™æ—¶å°±å¸¦æ¥æ¥äº†åˆ†å¸ƒå¼å…±äº«ä¼šè¯é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gz55f5phqwj31890u0mz6.jpg&#34; 
    alt=&#34;åˆ†å¸ƒå¼ä¼šè¯&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;gws&lt;/code&gt;è™½ç„¶æä¾›äº†&lt;code&gt;redis&lt;/code&gt;å»å…±äº«ä¼šè¯æ•°æ®é—®é¢˜ï¼Œä½†æ˜¯æˆ–è€…è‡ªå®šä¹‰æ•°æ®å…±äº«å­˜å‚¨å®ç°ï¼Œä½†æ˜¯åªè¦æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œåˆä¼šå¼•å…¥æ•°æ®ä¸ä¸€è‡´é—®é¢˜ï¼Œçœ‹ä¸‹é¢è¿™å¼ å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gz55w2lpn2j31890u041e.jpg&#34; 
    alt=&#34;åˆ†å¸ƒå¼ä¼šè¯æ•°æ®ç«äº‰&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;çœ‹ä¸Šå›¾é»„è‰²éƒ¨åˆ†ï¼Œæˆ‘ä»¬æœ‰å®¢æˆ·ç«¯è¯·æ±‚åŒæ—¶å»è¯·æ±‚æœåŠ¡å™¨ï¼Œå½“ç„¶è¿™ä¸ªæƒ…å†µå¾ˆå°‘è§ï¼Œä½†æ˜¯ä¸æ˜¯ä¸å¯èƒ½å‡ºç°çš„ï¼Œæ‹¿åˆ°çš„æ•°æ®&lt;code&gt;session&lt;/code&gt;ç›¸åŒçš„ï¼Œä½†æ˜¯çº¢è‰²éƒ¨åˆ†ï¼Œå®¢æˆ·ç«¯ï¼ˆè¿™ä¸ªå®¢æˆ·ç«¯ä¸å•æ˜¯æŒ‡å®šæ˜¯æµè§ˆå™¨ï¼Œä¹Ÿå¯èƒ½æ˜¯&lt;code&gt;gws&lt;/code&gt;é‡Œé¢çš„å­˜å‚¨å±‚å®ç°çš„å®¢æˆ·ç«¯ï¼‰ï¼Œç„¶åå»è®¾ç½®å­˜å‚¨æœåŠ¡å™¨ï¼Œå¦‚æœæ²¡æœ‰åˆ†å¸ƒå¼é”æ§åˆ¶çš„è¯ï¼Œé©¬ä¸Šæ•°æ®ä¼šè¢«åé¢å“ªä¸€ä¸ªè¦†ç›–æ‰ã€‚&lt;/p&gt;
&lt;p&gt;é’ˆå¯¹åˆ†å¸ƒå¼æ•°æ®ç«äº‰é—®é¢˜ï¼Œè¦ä¹ˆå¼•å…¥åˆ†å¸ƒå¼æ•°æ®ä¸€è‡´æ€§ç®—æ³•ï¼Œè¦ä¹ˆå¼•å…¥ä¸€ä¸ªå…¬å…±çš„åˆ†å¸ƒå¼é”ç­¾å‘æœåŠ¡å™¨ï¼Œå½“ç„¶å¦‚æœä½ å¯ä»¥åœ¨&lt;code&gt;session&lt;/code&gt;ä¿å­˜ä¸€äº›ä¸å¸¸ç”¨çš„æ•°æ®ä¿¡æ¯ï¼Œåªæ˜¯ä¸€ä¸ªæ ‡è¯†ç¬¦é‰´æƒé—®é¢˜ä¸å»å­˜å‚¨å¼ºä¸€è‡´æ€§çš„æ•°æ®ï¼Œå¯ä»¥å…è®¸æ•°æ®ä¸ä¸€è‡´æƒ…å†µï¼Œå¯ä»¥å»ç¼“è§£æ•°æ®ä¸ä¸€è‡´å¸¦æ¥çš„æ•°æ®ä¸ä¸€è‡´é—®é¢˜ï¼Œé’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘å‡†å¤‡åœ¨åé¢çš„å®ç°åŠ å…¥ç‰ˆæœ¬æ§åˆ¶å’Œç»­ç§Ÿï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ª&lt;code&gt;session&lt;/code&gt;é‡Œé¢æœ‰ä¸€æ¡å”¯ä¸€çš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œç±»ä¼¼äº&lt;code&gt;git&lt;/code&gt;é‚£æ ·çš„è®¾è®¡ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å°-ç»“&#34;&gt;
    &lt;a href=&#34;#%e5%b0%8f-%e7%bb%93&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å° ç»“
&lt;/h2&gt;
&lt;p&gt;ä¸è¦çœ‹å°±ä¸€ä¸ªå°±ä¸€ä¸ª&lt;code&gt;session&lt;/code&gt;é—®é¢˜ï¼Œå¦‚æœç‰µæ‰¯åˆ°åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡é—®é¢˜ï¼Œåˆæ˜¯ä¸€ä¸ªå¾ˆå¤§çš„é—®é¢˜ï¼Œå¦‚æœèƒ½è§£å†³åˆ†å¸ƒå¼&lt;code&gt;session&lt;/code&gt;æ•°æ®ä¸€è‡´æ€§é—®é¢˜ï¼Œå»å®ç°ä¸€ä¸ª&lt;code&gt;åˆ†å¸ƒå¼ä¼šè¯&lt;/code&gt;æ§åˆ¶ä¸­å¿ƒï¼Œä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„æƒ³æ³•ï¼Œå¸Œæœ›æœ¬ç¯‡æ–‡ç« èƒ½å¸®åŠ©åˆ°è¯»è€…ï¼Œå¦å¤–&lt;code&gt;gws&lt;/code&gt;åé¢ä¼šæŒç»­æ›´æ–°ä¸­ï¼Œæœ‰ä»€ä¹ˆæƒ³æ³•æœ‹å‹å¯ä»¥å…³æ³¨ä¸€ä¸‹&lt;code&gt;https://github.com/auula/gws&lt;/code&gt;è¿™ä¸ªé¡¹ç›®ï¼Œæœ¬é¡¹ç›®ä½¿ç”¨&lt;code&gt;go&lt;/code&gt;è¯­è¨€å®ç°ï¼Œç›®å‰æ¥çœ‹è¿˜æ˜¯ä¸€ä¸ª&lt;code&gt;go&lt;/code&gt;çš„&lt;code&gt;session&lt;/code&gt;åº“ï¼Œä½†æ˜¯ç¬”è€…åé¢æƒ³å‘å±•æˆä¸€ä¸ªåˆ†å¸ƒå¼ä¼šè¯ç®¡ç†å™¨é¡¹ç›®ã€‚&lt;/p&gt;

    </description>
    </item>
    
    <item>
    <title>Gws Design Instruction</title>
    <link>http://blog.ibyte.me/post/gws-design-instruction/</link>
    <pubDate>Sat, 05 Feb 2022 23:09:23 +0800</pubDate>
    
    <guid>http://blog.ibyte.me/post/gws-design-instruction/</guid>
    <description>
        &lt;blockquote&gt;
&lt;p&gt;å„ä½æ–°å¹´å¿«ä¹ï¼Œè¿™å‡ å¤©æŠŠä¹‹å‰å†™çš„ä¸€ä¸ª&lt;code&gt;session&lt;/code&gt;åº“é‡æ„äº†ä¸€ä¸‹ï¼Œé¡ºä¾¿å†™ä¸€ä¸‹å‡çº§å’Œä½¿ç”¨è¯´æ˜ï¼Œå¦‚æœä½ æ˜¯ä¸€ä¸ªèŒæ–°&lt;code&gt;Gopher&lt;/code&gt;ï¼Œå¯ä»¥çœ‹çœ‹æºä»£ç å¯ä»¥å¸®åŠ©ä½ å¯¹&lt;code&gt;Go&lt;/code&gt;ç¼–ç æŠ€èƒ½æå‡ï¼Œæºä»£ç ä¹Ÿå°±ä¸åˆ°&lt;code&gt;800&lt;/code&gt;è¡Œå·¦å³ï¼Œå¦‚æœå¯¹ä½ æœ‰å¸®åŠ©ç‚¹ä¸€ä¸ª&lt;code&gt;star&lt;/code&gt;â­ï¸ï¼Œè°¢è°¢ğŸ¤— ~&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/auula/gws&#34;&gt;https://github.com/auula/gws&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;gws&#34;&gt;
    &lt;a href=&#34;#gws&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    GWS
&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;Go&amp;rsquo;s web session library.&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;ä»‹-ç»&#34;&gt;
    &lt;a href=&#34;#%e4%bb%8b-%e7%bb%8d&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    ä»‹ ç»
&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;GWS&lt;/code&gt;æ˜¯ä¸€ä¸ª&lt;code&gt;Go&lt;/code&gt;è¯­è¨€å®ç°çš„&lt;code&gt;WEB&lt;/code&gt;ä¼šè¯åº“ï¼Œæ”¯æŒæœ¬åœ°ä¼šè¯å­˜å‚¨ï¼Œä¹Ÿæ”¯æŒ&lt;code&gt;Redis&lt;/code&gt;è¿œç¨‹æœåŠ¡å™¨åˆ†å¸ƒå¼å­˜å‚¨ï¼Œå¹¶ä¸”ä¸ºäº†å¯æ‰©å±•å­˜å‚¨å®ç°ï¼Œé¢„ç•™å·¥å‚ï¼Œæ–¹ä¾¿å¼€å‘è€…è‡ªå®šä¹‰å®ç°å­˜å‚¨æ¥ä¿å­˜ä¼šè¯æ•°æ®ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å®‰-è£…&#34;&gt;
    &lt;a href=&#34;#%e5%ae%89-%e8%a3%85&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å®‰ è£…
&lt;/h3&gt;
&lt;p&gt;å¼€å‘è€…ä½ åªéœ€è¦å®‰è£…æœ¬åº“åˆ°ä½ åˆ°é¡¹ç›®é‡Œé¢ï¼Œåœ¨ä½ çš„é¡¹ç›®é‡Œé¢æ‰§è¡Œä¸‹é¢å‘½ä»¤å³å¯å®‰è£…ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;go get -u github.com/auula/gws
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;ä½¿ç”¨ç¤ºä¾‹&#34;&gt;
    &lt;a href=&#34;#%e4%bd%bf%e7%94%a8%e7%a4%ba%e4%be%8b&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    ä½¿ç”¨ç¤ºä¾‹
&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆè¦å£°æ˜ä¸€ç‚¹ï¼Œ&lt;code&gt;gws&lt;/code&gt;æ˜¯æ”¯æŒå¤šç§å­˜å‚¨ä»‹è´¨ä¿å­˜&lt;code&gt;session&lt;/code&gt;æ•°æ®çš„ï¼Œä½ å¯ä»¥è‡ªå®šä¹‰å®ç°&lt;a href=&#34;./storage.go&#34;&gt;&lt;code&gt;gws.Storage&lt;/code&gt;&lt;/a&gt;å­˜å‚¨æ¥å£ï¼Œæ¥ä½¿ç”¨ä½ è‡ªå®šä¹‰å­˜å‚¨ï¼Œæ¥å£ä»£ç å¦‚ä¸‹:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// Storage global session data store interface.
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// You can customize the storage medium by implementing this interface.
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Storage&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;interface&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// Read data from store
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nf&#34;&gt;Read&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// Write data to storage
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nf&#34;&gt;Write&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// Remove data from storage
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nf&#34;&gt;Remove&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä½ åªéœ€è¦å®ç°&lt;a href=&#34;./storage.go&#34;&gt;&lt;code&gt;gws.Storage&lt;/code&gt;&lt;/a&gt;æ¥å£ï¼Œå°±å¯ä»¥è‡ªå®šä¹‰å­˜å‚¨ä¼šè¯æ•°æ®ï¼Œç„¶åé€šè¿‡&lt;code&gt;gws.StoreFactory(opt Options, store Storage)&lt;/code&gt;å·¥å‚æ³¨å†Œè‡ªå®šä¹‰å­˜å‚¨å®ç°æ¥å£é…ç½®ï¼Œä¾‹å¦‚ä¸‹é¢æˆ‘åœ¨æ¼”ç¤ºä»£ç é‡Œé¢ä¸€ä¸ªä¾‹å­:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;49
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
    &lt;span class=&#34;s&#34;&gt;&amp;#34;fmt&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;s&#34;&gt;&amp;#34;net/http&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// å¯¼å…¥gwsæ¨¡å—
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;s&#34;&gt;&amp;#34;github.com/auula/gws&amp;#34;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;init&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// æ˜¯å¦å¼€å¯debugè°ƒè¯•æ¨¡å¼ï¼Œå¦‚æœå¼€å¯åˆ™å¼€å‘è€…å¯ä»¥åœ¨æ§åˆ¶å°çœ‹åˆ°ä¼šè¯é“¾è·¯æ—¥å¿—
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// å¥½çš„å¼€å‘è€…åº”è¯¥çœ‹æ—¥å¿—å»åˆ†æç¨‹åºè¿è¡ŒçŠ¶æ€ï¼Œè€Œä¸æ˜¯é›†æˆå¼€å‘ç¯å¢ƒé‡Œé¢çš„debugåŠŸèƒ½
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;gws&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Debug&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// é€šè¿‡é»˜è®¤é…ç½®ï¼Œå¹¶ä¸”æ³¨å†Œè‡ªå®šä¹‰å­˜å‚¨å®ç°
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;gws&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;StoreFactory&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;gws&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;NewOptions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(),&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;FileStore&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{})&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// è‡ªå®šä¹‰çš„æ–‡ä»¶å­˜å‚¨å®ç°
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;FileStore&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;fs&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;FileStore&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Read&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;gws&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;panic&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;implement me&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;fs&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;FileStore&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Write&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;gws&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;panic&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;implement me&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;fs&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;FileStore&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Remove&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;gws&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;panic&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;implement me&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;c1&#34;&gt;// æµ‹è¯•è‡ªå®šä¹‰å­˜å‚¨
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;HandleFunc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/panic&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ResponseWriter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;request&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// gws.GetSession ä¼šè¿”å›æœ¬æ¬¡è¯·æ±‚çš„session
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;gws&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;GetSession&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// é€šè¿‡session.Values ä¿å­˜éœ€è¦å­˜å‚¨ä¼šè¯çš„æ•°æ®
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Values&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;foo&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;bar&amp;#34;&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// é€šè¿‡Syncæ–¹æ³•åŒæ­¥æ•°æ®æŒä¹…åŒ–ï¼Œå½“ç„¶è¿™é‡Œå¦‚æœæ˜¯é»˜è®¤å†…å­˜å­˜å‚¨å¯ä»¥ä¸è°ƒç”¨
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;c1&#34;&gt;// å¦‚æœæ˜¯è¿œç¨‹æœåŠ¡å™¨æˆ–è€…è‡ªå®šä¹‰å­˜å‚¨ä¸€å®šè¦æ‰§è¡Œæ­¤æ–¹æ³•åŒæ­¥æ•°æ®åˆ°å…¶ä»–åˆ†å¸ƒå¼ç«¯
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Sync&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;

        &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Fprintln&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;set value successful.&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;

    &lt;span class=&#34;nx&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;ListenAndServe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;:8080&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä»¥ä¸Šç¤ºä¾‹ä»£ç ï¼Œå±•ç¤ºå¦‚ä½•è‡ªå®šä¹‰å®ç°ä¸€ä¸ªå­˜å‚¨ï¼Œå…·ä½“ç¤ºä¾‹ä»£ç è¯·æŸ¥çœ‹ï¼š&lt;a href=&#34;./example/store_example.go&#34;&gt;./example/store_example.go&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å¦‚æœåªæ˜¯å•æœºä½¿ç”¨ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªå°ä½“ç§¯&lt;code&gt;Web Service&lt;/code&gt;åº”ç”¨ï¼Œä½ å¯ä»¥ä½¿ç”¨é»˜è®¤çš„æœ¬åœ°å†…å­˜å­˜å‚¨ï¼Œä¼šè¯å­˜å‚¨ä¼šä¿å­˜åœ¨æœ¬åœ°æœåŠ¡å™¨å†…å­˜é‡Œé¢ï¼Œè¿™ä¸ªç¼ºç‚¹å°±æ˜¯ç¨‹åºé‡å¯ä¼šè¯æ•°æ®ä¸èƒ½æ¢å¤ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæƒ³æ”¯æŒæŒä¹…åŒ–ä½ å¯ä»¥è‡ªå®šä¹‰ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨&lt;code&gt;gws&lt;/code&gt;é»˜è®¤æä¾›çš„&lt;code&gt;Redis&lt;/code&gt;æ–¹æ¡ˆå»è§£å†³ä¼šè¯åˆ†å¸ƒå¼å­˜å‚¨ï¼Œ&lt;code&gt;Redis&lt;/code&gt;åœ¨å•ç‚¹æ•…éšœæ—¶ï¼Œåªè¦ä¼šè¯æ²¡æœ‰è¿‡æœŸï¼Œåº”ç”¨èŠ‚ç‚¹æ¢å¤æ­£å¸¸ä¹‹åï¼Œæ•°æ®ä¾æ—§ä¼šåŒæ­¥åˆ°ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;init&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// è‡ªå®šä¹‰é…ç½®é€‰é¡¹å‚æ•°ï¼Œå…·ä½“å“ªäº›å‚æ•°å¯ä»¥æŸ¥çœ‹go.devä¸Šé¢çš„æ–‡æ¡£ï¼Œæˆ–è€…çœ‹æºä»£ç å§
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// var opt gws.RAMOption
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// opt.Domain = &amp;#34;www.ibyte.me&amp;#34;
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// gws.Open(opt)
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// ä½ å¯ä»¥ä½¿ç”¨é»˜è®¤é…ç½®åˆå§‹åŒ–ï¼Œé€šè¿‡option functionæ¨¡å¼åˆå§‹åŒ–
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// gws.Open(gws.NewOptions())
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// gws.Open(gws.NewOptions(gws.Domain(&amp;#34;&amp;#34;), gws.CookieName(&amp;#34;&amp;#34;)))
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// æ¨èç›´æ¥é»˜è®¤é…ç½®
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;gws&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;gws&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;DefaultRAMOptions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// è¿™ä¸ªæ˜¯åˆå§‹åŒ–Redisåˆ†å¸ƒå¼å­˜å‚¨çš„
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// gws.Open(gws.NewRDSOptions(&amp;#34;127.0.0.1&amp;#34;, 6379, &amp;#34;redis.nosql&amp;#34;))
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¸‹é¢çš„ç¤ºä¾‹ä»£ç ï¼Œæˆ‘ä¼šæ¼”ç¤ºå¦‚ä½•é€šè¿‡&lt;code&gt;gws&lt;/code&gt;ç®¡ç†ä½ çš„ä¼šè¯æ•°æ®ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// ä¸ºäº†æ¼”ç¤ºæ•°æ®å˜åŒ–ï¼Œæˆ‘å®šä¹‰çš„ä¸€ä¸ªUserInfoç»“æ„ä½“
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;UserInfo&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;UserName&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;`json:&amp;#34;user_name,omitempty&amp;#34;`&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;Email&lt;/span&gt;    &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;`json:&amp;#34;email,omitempty&amp;#34;`&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;Age&lt;/span&gt;      &lt;span class=&#34;kt&#34;&gt;uint8&lt;/span&gt;  &lt;span class=&#34;s&#34;&gt;`json:&amp;#34;age,omitempty&amp;#34;`&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æˆ‘é…ç½®äº†ä¸€ä¸ª&lt;code&gt;set&lt;/code&gt;è·¯ç”±ï¼Œå¦‚ä½•åœ¨ä¼šè¯é‡Œé¢å­˜å‚¨ä¸€ä¸ª&lt;code&gt;user&lt;/code&gt;çš„å€¼ï¼Œå­˜å‚¨å€¼ç›´æ¥ä½¿ç”¨&lt;code&gt;Values&lt;/code&gt;å­—æ®µèµ‹å€¼ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ª&lt;code&gt;map[string]interface{}&lt;/code&gt;å˜ä½“ç»“æ„ï¼Œæ³¨æ„è¿™é‡Œçš„&lt;code&gt;Values&lt;/code&gt;ä¸æ˜¯å¹¶å‘å®‰å…¨çš„ï¼Œå…¶å®æˆ‘åœ¨å¼€å‘&lt;code&gt;gws&lt;/code&gt;å°±è€ƒè™‘åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œå¹¶ä¸”æƒ³è®¾è®¡å¹¶å‘å®‰å…¨çš„&lt;code&gt;api&lt;/code&gt;ï¼Œä½†æ˜¯è€ƒè™‘åˆ°&lt;code&gt;api&lt;/code&gt;å¤ªå¤šäº†ä¹Ÿä¸å¥½ï¼Œå†™&lt;code&gt;Go&lt;/code&gt;è¦ä¿æŒå¤§é“è‡³ç®€ï¼Œå¹¶ä¸æ˜¯åƒ&lt;code&gt;Java&lt;/code&gt;é‚£æ ·è¦é€šè¿‡&lt;code&gt;get&lt;/code&gt;å’Œ&lt;code&gt;set&lt;/code&gt;å„ç§æŠ½è±¡ï¼Œé‚£æ ·åªä¼šè®©ä½ çš„ä»£ç åº“å˜å¾—åºå¤§ï¼Œæ‚ä¹±æ— ç« ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥åœ¨æ–‡æ¡£æˆ‘æ˜ç¡®è¯´æ˜äº†å¦‚æœæ˜¯å¹¶å‘æ“ä½œ&lt;code&gt;Values&lt;/code&gt;å¹¶ä¸”è‡ªå®šä¹‰åŠ é”ï¼ï¼ï¼ç¤ºä¾‹ä»£ç ä¹Ÿä¼šåœ¨åé¢æ·»åŠ ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;HandleFunc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/set&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ResponseWriter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;request&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;gws&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;GetSession&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Values&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;user&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;UserInfo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;UserName&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;Leon Ding&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;Email&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;    &lt;span class=&#34;s&#34;&gt;&amp;#34;ding@ibyte.me&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;Age&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;      &lt;span class=&#34;mi&#34;&gt;21&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// ramæ¨¡å¼å¯ä»¥ä¸ç”¨æ‰§è¡Œï¼Œå› ä¸ºæ˜¯å†…å­˜æŒ‡é’ˆå¼•ç”¨
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Sync&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;

    &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Fprintln&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;set value successful.&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å¦‚æœè¦ä»ä¼šè¯é‡Œé¢è¯»å–æ•°æ®ï¼Œå¯ä»¥çœ‹ç¤ºä¾‹ä»£ç ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;HandleFunc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/get&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ResponseWriter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;request&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;gws&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;GetSession&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// è¯»å–æ•°æ®å’Œæ£€æµ‹mapä¸€æ ·çš„æ“ä½œï¼Œä½ å¦‚æœèƒ½ç¡®ä¿è¿™ä¸ªä¸€å®šæœ‰å€¼ï¼Œä½ å¯ä»¥çœå»è¿™ä¸ªifæ“ä½œ
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// ç›´æ¥å–å€¼ä¹Ÿè¡Œ
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;bytes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ok&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Values&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;user&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ok&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;jsonstr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;json&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Marshal&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;bytes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Fprintln&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;jsonstr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Fprintln&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;no data&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;åˆ é™¤æ“ä½œåŠå…¶ç®€å•ï¼Œå¦‚æœä½ æ˜¯è€å¸æœºå¼€å‘è€…ï¼Œæˆ‘ç›¸ä¿¡ä½ å·²ç»ä¸éœ€è¦çœ‹ç¤ºä¾‹ä»£ç äº†ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;HandleFunc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/del&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ResponseWriter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;request&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;gws&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;GetSession&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;delete&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Values&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;user&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// ä¸€å®šåŒæ­¥ï¼Œå¦‚æœæ˜¯è‡ªå®šä¹‰å­˜å‚¨æˆ–è€…æ˜¯Redisåˆ†å¸ƒå¼å­˜å‚¨çš„è¯
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Sync&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Fprintln&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;successful&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¸Šé¢éƒ½æ˜¯åŸºæœ¬çš„å¢åˆ æ”¹æŸ¥æ“ä½œï¼Œå¦‚æœä½ ä½œä¸ºä¸€å&lt;code&gt;API&lt;/code&gt;è°ƒç”¨å·¥ç¨‹å¸ˆæˆ–è€…æ˜¯&lt;code&gt;API&lt;/code&gt;æ“ä½œå‘˜ï¼Œé‚£ä½ çœ‹åˆ°è¿™ä¼°è®¡å°±å·®ä¸å¤šäº†ï¼Œå¯ä»¥å®Œæˆä½ æ—¥å¸¸çš„å¼€å‘éœ€æ±‚äº†ï¼Œä½ ä¹Ÿä¸éœ€è¦å»äº†è§£å†…éƒ¨å®ç°ï¼Œå¦‚æœè¦äº†è§£å†…éƒ¨å®ç°ï¼Œæˆ‘åé¢æœ‰ç©ºä¼šå»è®²å†…éƒ¨å®ç°ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å¹¶è¡Œå®‰å…¨&#34;&gt;
    &lt;a href=&#34;#%e5%b9%b6%e8%a1%8c%e5%ae%89%e5%85%a8&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å¹¶è¡Œå®‰å…¨
&lt;/h2&gt;
&lt;p&gt;ç”±äºæˆ‘åœ¨è®¾è®¡&lt;code&gt;API&lt;/code&gt;çš„æ—¶å€™ï¼Œæ²¡æœ‰æ‰“ç®—å»å†™ä¸€ä¸ª&lt;code&gt;getã€setã€del&lt;/code&gt;ï¼Œç„¶ååœ¨é‡Œé¢æä¾›ä¸€ä¸ªå†…éƒ¨é”å»ä¿è¯å¹¶è¡Œå®‰å…¨ï¼Œæ‰€æœ‰è°ƒç”¨è€…å¿…é¡»åœ¨æœ‰æ•°æ®ç«äº‰çš„æƒ…å†µä¸‹è‡ªè¡ŒåŠ é”ï¼Œæˆ–è€…ä½ &lt;code&gt;go&lt;/code&gt;å†™çš„æºœï¼Œä½ å¯ä»¥è‡ªå®šä¹‰å»åŒ…è£…å¹¶è¡Œå®‰å…¨çš„ï¼Œä¸‹é¢è¿™æ®µä»£ç æˆ‘æ¼”ç¤ºäº†å¦‚ä½•å¹¶è¡Œå®‰å…¨çš„æ“ä½œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;HandleFunc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/race&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ResponseWriter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;request&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;gws&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;GetSession&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

    &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Values&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;count&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;wg&lt;/span&gt;  &lt;span class=&#34;nx&#34;&gt;sync&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;WaitGroup&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// å¦‚æœä½ æ˜¯å¹¶å‘æ“ä½œè¯·åŠ é”
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;nx&#34;&gt;mux&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;sync&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Mutex&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;10000&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;wg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Add&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;go&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Sleep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Second&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
            &lt;span class=&#34;nx&#34;&gt;mux&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ok&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Values&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;count&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ok&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Values&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;count&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;v&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
            &lt;span class=&#34;nx&#34;&gt;wg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Done&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
            &lt;span class=&#34;nx&#34;&gt;mux&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Unlock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}()&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;go&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Sleep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Second&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
            &lt;span class=&#34;nx&#34;&gt;mux&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ok&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Values&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;count&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ok&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Values&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;count&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;v&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
            &lt;span class=&#34;nx&#34;&gt;wg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Done&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
            &lt;span class=&#34;nx&#34;&gt;mux&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Unlock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}()&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;wg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Wait&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Fprintln&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Values&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;count&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;åœ¨æ•°æ®ç«äº‰çŠ¶æ€ä¸‹ï¼Œå…¶ä»–çš„è°ƒç”¨è€…ï¼Œå¯ä»¥æ­£å¸¸å–å€¼ï¼Œä½†æ˜¯ä½ è¦ä¿è¯ä½ è‡ªå®šä¹‰çš„é”çš„æ§åˆ¶èŒƒå›´ï¼Œä½ è¦ç”¨ä»€ä¹ˆç±»å‹çš„é”ï¼Œä¾‹å¦‚è¯»å†™é”è¿˜æ˜¯äº’æ–¥é”ï¼Œè¿™ä¸ªè¦çœ‹ä½ å¯¹&lt;code&gt;go&lt;/code&gt;çš„äº†è§£ç¨‹åº¦äº†ï¼Œæˆ–è€…ä½ å¾ˆå¼ºï¼Œä½ å¯ä»¥é€šè¿‡&lt;code&gt;channel&lt;/code&gt;è§£å†³æ•°æ®ç«äº‰ï¼Œæˆ‘åœ¨è®¾è®¡&lt;code&gt;API&lt;/code&gt;çš„æ—¶å€™ï¼Œæˆ‘æ˜¯ä¿æŒç€å°½å¯èƒ½å°‘é‡çš„å»å½±å“æˆ–è€…é™åˆ¶è°ƒç”¨è€…ä¸€äº›æ“ä½œä½“éªŒçš„ï¼Œä¸Šé¢å’Œä¸‹é¢çš„ç¤ºä¾‹æ˜¯åœ¨&lt;code&gt;race&lt;/code&gt;åœ¨è¯·æ±‚çš„æƒ…å†µä¸‹ï¼Œ&lt;code&gt;result&lt;/code&gt;ä¸ä¼šé˜»å¡å¹¶ä¸”è¿˜èƒ½å–å€¼çš„æ¼”ç¤ºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;HandleFunc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/result&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ResponseWriter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;request&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;gws&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;GetSession&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Fprintln&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Values&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;count&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;ä¼šè¯åŠ«æŒ&#34;&gt;
    &lt;a href=&#34;#%e4%bc%9a%e8%af%9d%e5%8a%ab%e6%8c%81&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    ä¼šè¯åŠ«æŒ
&lt;/h2&gt;
&lt;p&gt;ä¼šè¯å›ºå®šæ”»å‡»ï¼Œè¿™ä¸ªè¿‡ç¨‹ï¼Œæ­£å¸¸ç”¨æˆ·åœ¨é€šè¿‡æµè§ˆå™¨è®¿é—®æˆ‘ä»¬ç¼–å†™çš„ç½‘ç«™ï¼Œä½†æ˜¯è¿™ä¸ªæ—¶å€™æœ‰ä¸ª&lt;code&gt;hack&lt;/code&gt;é€šè¿‡&lt;code&gt;arp&lt;/code&gt;æ¬ºéª—ï¼ŒæŠŠè·¯ç”±å™¨çš„æµé‡åŠ«æŒåˆ°ä»–çš„ç”µè„‘ä¸Šï¼Œç„¶åé»‘å®¢é€šè¿‡ä¸€äº›ç‰¹æ®Šçš„è½¯ä»¶æŠ“åŒ…ä½ çš„ç½‘ç»œè¯·æ±‚æµé‡ä¿¡æ¯ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å¦‚æœä½ &lt;code&gt;sessionid&lt;/code&gt;å¦‚æœå­˜æ”¾åœ¨&lt;code&gt;cookie&lt;/code&gt;ä¸­ï¼Œå¾ˆæœ‰å¯èƒ½è¢«é»‘å®¢æå–å¤„ç†ï¼Œå¦‚æœä½ è¿™ä¸ªæ—¶å€™ç™»å½•äº†ç½‘ç«™ï¼Œè¿™æ˜¯é»‘å®¢å°±æ‹¿åˆ°ä½ çš„ç™»å½•å‡­è¯ï¼Œç„¶ååœ¨ç™»å½•è¿›è¡Œé‡æ”¾ä¹Ÿå°±æ˜¯ä½¿ç”¨ä½ çš„&lt;code&gt;sessionid&lt;/code&gt;ï¼Œä»è€Œè¾¾åˆ°è®¿é—®ä½ è´¦æˆ·ç›¸å…³çš„æ•°æ®ç›®çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºæ­¤æˆ‘åœ¨&lt;code&gt;gws&lt;/code&gt;é‡Œé¢æ·»åŠ ä¸€ä¸ª&lt;code&gt;gws.Migrate(write http.ResponseWriter, old *Session) (*Session, error)&lt;/code&gt;å†…ç½®å‡½æ•°ï¼Œä½¿ç”¨ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;HandleFunc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/migrate&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ResponseWriter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;request&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;gws&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt;     &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

    &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;gws&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;GetSession&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;old session %p \n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// è¿ç§»ä¼šè¯æ•°æ®ï¼Œå¹¶ä¸”åˆ·æ–°å®¢æˆ·ç«¯ä¼šè¯ï¼Œä¸¢å¼ƒæ‰è€çš„session
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;gws&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Migrate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Fprintln&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;old session %p \n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;jsonstr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;json&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Marshal&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Values&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;user&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Fprintln&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;jsonstr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;gws.Migrate&lt;/code&gt;ä¼šå¸®åŠ©ä½ è¿ç§»ä¼šè¯æ•°æ®ï¼Œä½ ä¹Ÿå¯ä»¥é…åˆ&lt;code&gt;https&lt;/code&gt;åè®®ä½¿ç”¨ï¼Œå½“ç„¶è¯¥æœ‰çš„&lt;code&gt;API&lt;/code&gt;æˆ‘åœ¨è®¾è®¡&lt;code&gt;gws&lt;/code&gt;çš„æ—¶å€™å°±å·²ç»è€ƒè™‘åˆ°äº†ï¼Œæ‰€æœ‰éƒ½æä¾›äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä»¥ä¸Šç¤ºä¾‹ä»£ç ç›®å½•ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;./example/store_example.go&#34;&gt;./example/store_example.go&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;./example/ram_example.go&#34;&gt;./example/ram_example.go&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;./example/redis_example.go&#34;&gt;./example/redis_example.go&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;PS: å¦‚æœä½ æ˜¯å¾®ä¿¡å…¬ä¼—å·çœ‹åˆ°è¿™ç¯‡æ–‡ç« ï¼Œé‚£ä¼°è®¡ä½ ä¸èƒ½æ­£å¸¸è·³è½¬ï¼Œå› ä¸ºè…¾è®¯çš„å¹³å°å°±è¿™ä¸ªæ ·å­ï¼Œå¦‚æœå¯¹ä½ æœ‰å¸®åŠ©ä½ å¯ä»¥æŒ‰ä¸€ä¸ª&lt;code&gt;star&lt;/code&gt;å†èµ°ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/auula/gws&#34;&gt;https://github.com/auula/gws&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚æœä½ å‘ç°äº†ä»€ä¹ˆ&lt;code&gt;bug&lt;/code&gt;æ¬¢è¿&lt;code&gt;pr&lt;/code&gt;æˆ–è€…&lt;code&gt;issues&lt;/code&gt;ï¼Œæˆ‘å¯¹ä»£ç è´¨é‡è¦æ±‚æ¯”è¾ƒé«˜ï¼Œ&lt;code&gt;gws&lt;/code&gt;ä»£ç æ˜¯é€šè¿‡æœºå™¨è¿›è¡Œ&lt;code&gt;code review&lt;/code&gt;çš„ï¼Œç›®å‰ä»£ç æµ‹è¯•è¦†ç›–ç‡å’Œæ–‡æ¡£æ­£åœ¨å®Œå–„ä¸­ï¼Œç›®å‰è¿˜åœ¨&lt;code&gt;dev&lt;/code&gt;åˆ†æ”¯ï¼Œå¯èƒ½ç›®å‰å¤§éƒ¨åˆ†&lt;code&gt;go get&lt;/code&gt;æ‹‰ä¸åˆ°ä»£ç ï¼Œè¿‡å‡ å¤©åº”è¯¥ä¼šåŒæ­¥åˆ°ä¸»åˆ†æ”¯ä¸Šç„¶åå‘å¸ƒï¼Œå¦‚æœä½ æ·»åŠ å…¶ä»–ç±»å‹çš„å­˜å‚¨å®ç°ï¼Œè¯·ç¡®ä¿ä½ çš„ä»£ç æœ‰æ³¨é‡Šå’Œæµ‹è¯•è¦†ç›–ä»£ç ï¼Œä¸ç„¶å¦‚æœ&lt;code&gt;action&lt;/code&gt;æ˜¾çº¢å¹¶ä¸ç»™äºˆåˆå¹¶ï¼Œè°¢è°¢ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gz0qljglhpj31bz0u0wh2.jpg&#34; 
    alt=&#34;code review&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gz0rtgibacj30vk0u0ju6.jpg&#34; 
    alt=&#34;æµ‹è¯•è¦†ç›–ç‡&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gz0rue1cyyj313b0k6q5v.jpg&#34; 
    alt=&#34;ä»£ç ç›‘æ§&#34; 
     /&gt;&lt;/p&gt;
&lt;h2 id=&#34;å°-ç»“&#34;&gt;
    &lt;a href=&#34;#%e5%b0%8f-%e7%bb%93&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å° ç»“
&lt;/h2&gt;
&lt;p&gt;è®¾è®¡ä¸€æ¬¾å¥½çš„&lt;code&gt;api&lt;/code&gt;ç»™åˆ«äººç”¨ æ¯”å†™æ™®é€š&lt;code&gt;crud&lt;/code&gt;è¦éš¾å¾—å¤šï¼Œä½ è¦è€ƒè™‘åˆ°åˆ«äººå„ç§è°ƒï¼Œå„ç§ä¸æŒ‰å¸¸ç†å‡ºç‰Œ ï¼Œå¹¶ä¸”è¿˜è¦é™åˆ¶åˆ«äººå¯¹ä¸€äº›æ ‡è¯†ç¬¦çš„è®¿é—®æƒé™ï¼Œæˆ‘è¿™ä¸¤å¤©æŠŠä¹‹å‰å†™çš„&lt;code&gt;session&lt;/code&gt;åº“é‡æ„äº†ä¸€ä¸‹ï¼Œè¦åšä¸€ä¸ªèƒ½å†™å‡ºä¼˜é›…ä»£ç å·¥ç¨‹å¸ˆï¼Œè€Œä¸æ˜¯åšä¸€ä¸ªç³Šæ‹¼çƒ‚å‡‘çš„&lt;code&gt;api&lt;/code&gt;è°ƒç”¨æ“ä½œå‘˜ï¼Œåœ¨ä½ å†™å‡ºä»£ç é‚£ä¸€åˆ»ä½ è¦ä¸ºä»¥åç»´æŠ¤ä½ ä»£ç é‚£ä¸ªäººæƒ³ä¸€æƒ³ï¼Œè¿˜è¦è€ƒè™‘è¿™æ ·è®¾è®¡&lt;code&gt;api&lt;/code&gt;åˆä¸åˆç†ã€‚&lt;/p&gt;

    </description>
    </item>
    
    <item>
    <title>Distributed System CAP Theory</title>
    <link>http://blog.ibyte.me/post/distributed-system-cap-theory/</link>
    <pubDate>Wed, 26 Jan 2022 23:26:59 +0800</pubDate>
    
    <guid>http://blog.ibyte.me/post/distributed-system-cap-theory/</guid>
    <description>
        &lt;h2 id=&#34;å‰è¨€&#34;&gt;
    &lt;a href=&#34;#%e5%89%8d%e8%a8%80&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å‰è¨€
&lt;/h2&gt;
&lt;p&gt;åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å¤§éƒ¨åˆ†åº”ç”¨ç¨‹åºçš„éƒ¨ç½²æ–¹å¼æ˜¯åˆ†æ•£çš„ï¼Œç³»ç»Ÿæœ‰å¤šä¸ªèŠ‚ç‚¹åˆ†æ•£åœ¨ä¸ªåŒºåŸŸï¼Œç›¸äº’ä¹‹é—´é€šè¿‡ç½‘ç»œè¿›è¡Œé€šè®¯ã€‚ä¸€ä¸ªè®¡ç®—è¯·æ±‚å¯èƒ½éœ€è¦ç»è¿‡é›†ç¾¤ä¸­çš„å¤šä¸ªèŠ‚ç‚¹ï¼Œç„¶åå†è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œä½†æ˜¯å½±å“è¿™ä¸ªè¯·æ±‚çš„å¯èƒ½æ˜¯ç½‘ç»œé€Ÿåº¦ï¼Œéƒ¨åˆ†èŠ‚ç‚¹å®•æœºï¼Œæ— å“åº”ï¼Œå“åº”è¿‡æ…¢ï¼Œæ¥è‡³è„æ•°æ®äº¤å‰æ±¡æŸ“ï¼Œè¿™äº›é—®é¢˜å°±ç»™åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡è€…å¸¦æ¥è®¸å¤šæŒ‘æˆ˜ï¼Œä¾‹å¦‚ï¼š&lt;code&gt;æ•…éšœæ¢å¤&lt;/code&gt;å’Œ&lt;code&gt;æ•…éšœæå–å‘ç°&lt;/code&gt;ï¼Œ&lt;code&gt;èŠ‚ç‚¹å­˜æ´»æ£€æµ‹&lt;/code&gt;ç­‰ç­‰&amp;hellip;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gx4gtovtv9j308c08c0st.jpg&#34; 
    alt=&#34;distributed system&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;æœ¬äººæœ€è¿‘ä¸€ä¸ªå¤šæœˆä¹Ÿåœ¨ç ”ç©¶ç›¸å…³é¢†åŸŸçš„è®ºæ–‡èµ„æ–™ï¼Œè¿™ä¹ˆçœ‹ä¸‹æ¥ï¼Œæˆ‘æ€»ç»“å‡ å¥è¯ï¼š&lt;code&gt;è¯¥å‡ºé—®é¢˜çš„è‚¯å®šä¼šå‡ºé—®é¢˜ï¼Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯æŠŠå‡ºé”™ç‡é™ä½ï¼Œåªè¦æ˜¯ä¸ªç¨‹åºè‚¯å®šå°±ä¼šæœ‰é—®é¢˜å‡ºç°ï¼Œæ¯•ç«Ÿç¨‹åºè¿™ä¸ªä¸œè¥¿æ˜¯è·‘åœ¨è®¡ç®—æœºä¸Šçš„ï¼Œæ•°æ®ä¹Ÿæ˜¯åŠ¨æ€çš„æœªçŸ¥çš„ï¼Œåˆ†å¸ƒå¼æ›´æ˜¯ä¾èµ–äºç½‘ç»œï¼Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯åœ¨è®¾è®¡çš„æ—¶å€™è€ƒè™‘æœªæ¥ç³»ç»Ÿæˆ–è€…åœ¨å‡ºé”™æˆ–è€…å‡ºé—®é¢˜çš„æ—¶å€™æ€ä¹ˆè§£å†³ï¼ŒæŠŠå‡ºé”™ç‡é™ä½ï¼Œæé«˜å¯ç”¨æ€§ã€‚&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä»€ä¹ˆåŸå› ä¼šå¼•å‘æ•…éšœ&#34;&gt;
    &lt;a href=&#34;#%e4%bb%80%e4%b9%88%e5%8e%9f%e5%9b%a0%e4%bc%9a%e5%bc%95%e5%8f%91%e6%95%85%e9%9a%9c&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    ä»€ä¹ˆåŸå› ä¼šå¼•å‘æ•…éšœï¼Ÿ
&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆéœ€è¦æ˜ç¡®çš„æ˜¯ï¼Œåªæœ‰å½“å•ä¸ªèŠ‚ç‚¹çš„å¤„ç†èƒ½åŠ›æ— æ³•æ»¡è¶³æ—¥ç›Šå¢é•¿çš„è®¡ç®—ã€å­˜å‚¨ä»»åŠ¡çš„æ—¶å€™ï¼Œä¸”ç¡¬ä»¶çš„æå‡ï¼ˆåŠ å†…å­˜ã€åŠ ç£ç›˜ã€ä½¿ç”¨æ›´å¥½çš„&lt;code&gt;CPU&lt;/code&gt;ï¼‰é«˜æ˜‚åˆ°å¾—ä¸å¿å¤±çš„æ—¶å€™ï¼Œåº”ç”¨ç¨‹åºä¹Ÿä¸èƒ½è¿›ä¸€æ­¥ä¼˜åŒ–çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ‰éœ€è¦è€ƒè™‘åˆ†å¸ƒå¼ç³»ç»Ÿã€‚åˆ†å¸ƒå¼ç³»ç»Ÿå®¹é”™æ€§ï¼Œä¸ªäººè®¤ä¸ºæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡ä¸­æœ€é‡è¦çš„éƒ¨åˆ†ï¼Œæ‰“ä¸ªæ¯”æ–¹ï¼Œä¸€ä¸ªé›†ç¾¤æœ‰ä¸€ä¸ªèŠ‚ç‚¹å‡ºç°é—®é¢˜ï¼Œä¸å¯èƒ½è¯´å¯¼è‡´æˆ‘æ•´ä¸ªç³»ç»Ÿéƒ½ä¸èƒ½ä½¿ç”¨äº†ã€‚æ‰€ä»¥åé¢å‡ºç°äº†ä¸€äº›åˆ†å¸ƒå¼æ•…éšœæ£€æµ‹æœºåˆ¶ï¼Œå¯ä»¥æ ¹æ®æ•…éšœç±»å‹æ¥ç»™å‡ºè§£å†³æ–¹æ¡ˆï¼Œç„¶åå‡ºç°äº†åˆ†å¸ƒå¼æ•°æ®ä¸€è‡´æ€§ç®—æ³•ã€‚&lt;/p&gt;
&lt;p&gt;åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„ä¸€äº›æ•°æ®ä¸€è‡´æ€§é—®é¢˜å¯ä»¥çœ‹æˆå¹³æ—¶åœ¨å†™å•æœºç¨‹åºå‡ºç°çš„å¹¶å‘å’Œå¹¶è¡Œèµ„æºç«äº‰é—®é¢˜ä¸€æ ·ï¼Œä¸çŸ¥é“å¤§å®¶æœ‰æœ¨æœ‰å†™è¿‡&lt;code&gt;go&lt;/code&gt;è¯­è¨€ï¼Œ&lt;code&gt;goè¯­è¨€&lt;/code&gt;åœ¨å¤„ç†æ•°æ®ç«äº‰æˆ–è€…è¯´å¹¶è¡Œä»»åŠ¡é€šè®¯çš„æ—¶å€™ï¼Œé‡‡ç”¨äº†&lt;code&gt;CSP&lt;/code&gt;æ¥å…±äº«çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯é€šè¿‡æ¶ˆæ¯æ¥å…±äº«ç¨‹åºé‡Œé¢çš„çº¿ç¨‹æˆ–è€…åç¨‹çŠ¶æ€çš„è®¾è®¡ï¼Œç”¨æ¶ˆæ¯æ¥äº’ç›¸é€šè®¯ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆæ£’ğŸ‘ğŸ»çš„è®¾è®¡ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡ä¸­ä¹Ÿæ˜¯è¿™æ ·çš„ï¼Œä¸€ä¸ªé›†ç¾¤é‡Œé¢çš„èŠ‚ç‚¹é€šè¿‡ç½‘ç»œäº’ç›¸æ¥é€šè®¯ï¼Œå¯æ˜¯ç”¨ç½‘ç»œæ€ä¹ˆåšåˆ°ä¸ä¸¢æ¶ˆæ¯ï¼Ÿç½‘ç»œæ•°æ®åŒ…é¡ºåºé—®é¢˜ï¼Ÿå“åº”é€Ÿåº¦é—®é¢˜ï¼Œä¸€ä¸ªè¯·æ±‚è¿›æ¥äº†ï¼Œä½†æ˜¯è¿™ä¸ªè¯·æ±‚å¤„ç†é€Ÿåº¦è¦ä¾èµ–äºé›†ç¾¤ä¸­å¤„ç†è®¡ç®—æœ€æ…¢é‚£ä¸ªèŠ‚ç‚¹çš„é€Ÿåº¦ï¼Œç„¶ååœ¨è¿”å›ï¼Œè¿™ä¹ˆä¸€æŠ˜è…¾ï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿå‘å¤ªå¤šäº†ã€‚ã€‚è¿™é‡Œè¿˜æ²¡æœ‰è¯´åˆ°åˆ†å¸ƒå¼æ•°æ®ä¸€è‡´æ€§é—®é¢˜ï¼Œè¿˜æ˜¯å•å•åŸºäºç½‘ç»œé€šä¿¡å‡ºç°çš„é—®é¢˜å’Œå„ä¸ªèŠ‚ç‚¹æœ¬èº«çš„é—®é¢˜ã€‚ã€‚ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1. è¯·æ±‚å¤„ç†&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¤§éƒ¨åˆ†åº”ç”¨éƒ½æ˜¯æ¥åˆ°å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚ï¼Œç„¶åå¤„ç†è¯·æ±‚ï¼Œå¦‚æœæ˜¯ç®€å•çš„è®¡ç®—è¯·æ±‚ï¼Œå¯èƒ½å°±å‡ æ¯«ç§’å°±å¤„ç†å®Œæˆäº†ï¼Œä½†æ˜¯ä¸€ä¸ªéœ€è¦æ¶ˆè€—æ—¶é—´çš„è¯·æ±‚å°±éœ€è¦è€—è´¹å¤§é‡æ—¶é—´å¤„ç†ï¼Œä¸€ä¸ªè¯·æ±‚è¿˜å¥½ï¼Œå¦‚æœæ˜¯å¤§é‡çš„è€—æ—¶è¯·æ±‚ï¼Œé‚£ä¹ˆå†å°çš„é—®é¢˜ï¼Œä¹Ÿéšç€è¯·æ±‚æµé‡å¢å¤šï¼Œè€ŒåŠ å¤§ã€‚æ­¤æ—¶å³ä½¿åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œæœ€ç»ˆå¤„ç†ä¹Ÿæ˜¯åœ¨æ¯ä¸ªè®¡ç®—èŠ‚ç‚¹ä¸Šå®Œæˆçš„ï¼Œè¿˜æ˜¯ä¼šè½åˆ°å½“ä¸ªèŠ‚ç‚¹ä¸Šï¼Œç„¶åæ±‡æ€»è¿”å›ç»“æœç»™å®¢æˆ·ç«¯ã€‚&lt;/p&gt;
&lt;p&gt;å¤§å®¶éƒ½çŸ¥é“ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…æ¨¡å‹ï¼Œåœ¨äºŒè€…ä¸­é—´åŠ ä¸€ä¸ªç¼“å†²åŒºï¼Œæ¥ç¼“è§£å½“å‰å¤„ç†ç³»ç»Ÿå‹åŠ›ï¼Œåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸Šï¼Œä¹Ÿé‡‡ç”¨è¿™ä¸ªè®¾è®¡ï¼Œæ ¹æ®ç”Ÿäº§è€…ç”Ÿæˆæ•°æ®é€Ÿåº¦ï¼ŒåŠ¨æ€è°ƒæ•´ç¼“å­˜é˜Ÿåˆ—å¤§å°ï¼ŒæŠŠè¯·æ±‚å¤„ç†ç®¡é“åŒ–ï¼Œä¹Ÿå¯ä»¥å¸æ”¶ä¸€ç¬é—´äº§ç”Ÿçš„å·¨å¤§æµé‡ï¼Œä¹Ÿä½¿å¾—æ¥æ”¶å’Œå¤„ç†åœ¨æ—¶é—´ä¸Šåˆ†å¼€ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. æ—¶é—´å’Œæ•°æ®åŒ…é¡ºåº&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é›†ç¾¤ä¸­çš„èŠ‚ç‚¹éƒ½æ˜¯åˆ†å¼€çš„ï¼Œæ—¶é—´è¿™ä¸ªä¹Ÿä¼šå½±å“è®¡ç®—ï¼Œå¯èƒ½&lt;code&gt;A&lt;/code&gt;èŠ‚ç‚¹å‘&lt;code&gt;B&lt;/code&gt;èŠ‚ç‚¹å‘é€äº†&lt;code&gt;2&lt;/code&gt;ä¸ªæ•°æ®åŒ…ï¼Œä½†æ˜¯è¿™&lt;code&gt;2&lt;/code&gt;æ•°æ®åŒ…ï¼Œè¾¾åˆ°&lt;code&gt;B&lt;/code&gt;èŠ‚ç‚¹æ—¶å‘ç°é¡ºåºåäº†ï¼Œæ¢å¥è¯è¯´å°±æ˜¯è¿™ä¸¤ä¸ªæ•°æ®åŒ…éœ€è¦æŒ‰ç…§å‰åé¡ºåºå¤„ç†ï¼Œå¯ä»¥åœ¨æ•°æ®åŒ…é‡Œæ ‡è®°åºå·è§£å†³ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€äº›å¼ºä¾èµ–äºæ—¶é—´çš„ç¨‹åºï¼Œå°±å¯¹æ—¶é—´é—®é¢˜æœ‰å¾ˆé«˜è¦æ±‚ï¼Œå¯ä»¥æŠ½å‡ºä¸€ä¸ªç»Ÿä¸€çš„æ—¶é—´ç­¾å‘é¢†å¯¼èŠ‚ç‚¹ï¼Œè´Ÿè´£æ•´ä¸ªé›†ç¾¤çš„æ—¶é—´ç®¡ç†å·¥ä½œï¼Œå½“ç„¶è¿™æ˜¯çœ‹å®Œç›¸å…³è®ºæ–‡ç¬”è®°ï¼Œå¦‚æœè¯»è€…å¯¹è¿™äº›æ„Ÿå…´è¶£ï¼Œä½ ä»¬ç›´æ¥ç ”ç©¶å§ï¼Œè¿™å—ç¡®å®æ°´æ·±å•Šã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3. çº§è”å’Œå…³è”æ•…éšœ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç›¸ä¿¡å¤§å®¶å¦‚æœåšä¸ªå¾®æœåŠ¡å¼€å‘ï¼Œæˆ–è€…å¯¹å¾®æœåŠ¡æœ‰äº†è§£çš„åº”è¯¥çŸ¥é“ç†”æ–­æœºåˆ¶ï¼Œå°±å’Œç”µæµé‡Œé¢çš„ä¿é™©ä¸ä¸€æ ·ï¼Œèµ·åˆ°ä¿æŠ¤ä½œç”¨ã€‚&lt;code&gt;å…³è”æ•…éšœ&lt;/code&gt;åˆ†å¸ƒå¼ç³»ç»Ÿé€ƒä¸å¼€çš„è¯é¢˜ï¼Œç”±äºç³»ç»Ÿæ˜¯é›†ç¾¤æ¨¡å¼ï¼Œä¸€ä¸ªèŠ‚ç‚¹å‡ºç°çš„æ•…éšœï¼Œå¯èƒ½å°±ä¼šè”ç³»åˆ°ä¸å®ƒå…³è”çš„èŠ‚ç‚¹ä¸Šï¼Œä»ä¸€ä¸ªç³»ç»Ÿä¼ æ’­åˆ°å¦å¤–ä¸€ä¸ªç³»ç»Ÿï¼Œå¦‚æœä¸åšå¤„ç†ï¼Œæœ€åå¯èƒ½å°±ä¼šæ±¡æŸ“æ•´ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿæ¥è‡³å´©æºƒã€‚å½“ä¸€å°æœåŠ¡å™¨æ— å“åº”çš„æ—¶å€™ï¼Œå¯èƒ½ä¸€ä¸ªå®¢æˆ·ç«¯ä¼šæ— æ•°æ¬¡çš„å¾ªç¯å‘å‡ºè¯·æ±‚ï¼Œå¯ä»¥è®¾ç½®è¯·æ±‚é‡è¯•æ—¶é—´çª—å£æ¥æ¶ˆå¤„æŠ–åŠ¨ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ•…éšœç›‘æµ‹&#34;&gt;
    &lt;a href=&#34;#%e6%95%85%e9%9a%9c%e7%9b%91%e6%b5%8b&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    æ•…éšœç›‘æµ‹
&lt;/h2&gt;
&lt;p&gt;è™½ç„¶å•ä¸ªèŠ‚ç‚¹çš„æ•…éšœæ¦‚ç‡è¾ƒä½ï¼Œä½†èŠ‚ç‚¹æ•°ç›®è¾¾åˆ°ä¸€å®šè§„æ¨¡ï¼Œå‡ºæ•…éšœçš„æ¦‚ç‡å°±å˜é«˜äº†ï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿéœ€è¦ä¿è¯æ•…éšœå‘ç”Ÿçš„æ—¶å€™ï¼Œç³»ç»Ÿä»ç„¶æ˜¯å¯ç”¨çš„ï¼Œè¿™å°±éœ€è¦ç›‘æ§èŠ‚ç‚¹çš„çŠ¶æ€ï¼Œåœ¨èŠ‚ç‚¹æ•…éšœçš„æƒ…å†µä¸‹å°†è¯¥èŠ‚ç‚¹è´Ÿè´£çš„è®¡ç®—ã€å­˜å‚¨ä»»åŠ¡è½¬ç§»åˆ°å…¶ä»–èŠ‚ç‚¹ä¸Šç»§ç»­å¤„ç†æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†ç³»ç»Ÿæ›´åŠ å¯ç”¨ï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿå¼•å…¥æ•…éšœæ£€æµ‹æ˜¯å¿…é¡»çš„ï¼Œåœ¨ç¨‹åºè¿è¡Œçš„æ—¶å€™æˆ‘ä»¬å¼€å‘è€…æ˜¯æ ¹æœ¬ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™ä¼šå‡ºé”™ï¼Œè¿è¡Œæ—¶å€™çš„ç¨‹åºé‡Œé¢çš„æ•°æ®éƒ½æ˜¯åŠ¨æ€çš„ã€‚&lt;code&gt;æ•…éšœæ£€æµ‹å™¨&lt;/code&gt;å‡ ä¹æ˜¯æ¯ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿå¿…ä¸å¯ç¼ºçš„ç»„ä»¶ï¼Œèƒ½å¸®åŠ©æ•´ä¸ªç³»ç»Ÿå»åˆ†è¾¨å…¶ä»–èŠ‚ç‚¹æ˜¯æŒ‚äº†è¿˜æ˜¯å¡ä½äº†ï¼Œè¿˜æ˜¯å´©æºƒäº†ã€‚ã€‚ã€‚ã€‚ç”±äºæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿé ç€ç½‘ç»œé€šè®¯ï¼Œæ‰€ä»¥æœ€å¸¸è§çš„åŠæ³•å°±æ˜¯é€šè¿‡&lt;code&gt;å¿ƒè·³åŒ…&lt;/code&gt;æ¥è§£å†³ï¼Œä½†æ˜¯æˆ‘ä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰äº†è§£è¿‡ç½‘ç»œä¼ è¾“åè®®ï¼Œ&lt;code&gt;tcp&lt;/code&gt;å’Œ&lt;code&gt;udp&lt;/code&gt;ï¼Œæˆ–è€…å¤§å®¶åœ¨å¼€å‘çš„æ—¶å€™ï¼Œä¸¤ä¸ªç‹¬ç«‹è¿è¡Œçš„ç³»ç»Ÿä¸ºä»€ä¹ˆè¦ç”¨å»&lt;code&gt;kafka&lt;/code&gt;å»ä¼ é€’æ¶ˆæ¯ï¼Œè€Œä¸æ˜¯è‡ªå·±ç”¨&lt;code&gt;tcp&lt;/code&gt;å»å†™ä¸€ä¸ªæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯äº’ç›¸ä¼ é€’æ¶ˆæ¯ï¼Ÿç½‘ç»œè¿™ä¸ªä¸œè¥¿æœ¬æ¥å°±æ˜¯ä¸å¯é çš„ï¼Œæˆ‘å‘é€ä¸€ä¸ªæ•°æ®åŒ…ï¼Œç„¶åè¿™ä¸ªæ•°æ®åŒ…ä¸¢äº†ï¼Œæˆ–è€…ä¸¾ä¸ªæ¯”è¾ƒå¥‡è‘©çš„ä¾‹å­ï¼šä¸€ä¸ªç›—å¢“çš„æŠŠä½ ä¸¤ä¸ªæœºæˆ¿ä¹‹é—´çš„å…‰ç¼†æŒ–æ–­äº†ã€‚ã€‚ã€‚éƒ½æ˜¯ä¸å¯é çš„ã€‚ã€‚&lt;/p&gt;
&lt;p&gt;è¯´åˆ°äº†&lt;code&gt;kafka&lt;/code&gt;ï¼Œæ­£å¥½å†™ä¸€ä¸‹ï¼Œ&lt;code&gt;kafka&lt;/code&gt;æ¶ˆæ¯ä¹Ÿæ˜¯åŸºäºç½‘ç»œä¼ è¾“ï¼Œåªæ˜¯ä»–ä½œä¸ºä¸€ä¸ªæ¶ˆæ¯ä¸­é—´ä»¶ï¼Œåœ¨åŸæœ‰çš„ç½‘ç»œåè®®ä¸Šï¼Œå¢åŠ äº†ä¸€äº›ç‰¹æ®Šçš„ç­–ç•¥å»ä¿è¯æ¶ˆæ¯åœ¨ç½‘ç»œä¸Šä¼ é€’æ˜¯å¯é çš„ã€‚&lt;/p&gt;
&lt;p&gt;è¨€å½’æ­£ä¼ ï¼Œæ•…éšœæ£€æµ‹è¿™ä¸ªåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¹Ÿæ˜¯ä¸€ä¸ªå¤§å‘ï¼Œå¸¸è§ä¹Ÿå°±æ˜¯ä¸€ä¸ªå¿ƒè·³åŒ…å»æ£€æŸ¥èŠ‚ç‚¹ï¼Œé»˜è®¤å¯èƒ½èŠ‚ç‚¹è®¾ç½®çš„æœ‰å¿ƒè·³åŒ…ç”Ÿå‘½å‘¨æœŸçš„ï¼Œä¸€ä¸ªå¿ƒè·³åŒ…å‘é€å‡ºå»äº†ï¼Œå¯èƒ½æˆ‘éœ€è¦&lt;code&gt;3&lt;/code&gt;ç§’å†…å¾—åˆ°å›å¤ï¼Œä½†æ˜¯å·§å¥½ç½‘ç»œé—®é¢˜ï¼Œè¿™ä¸ªå¿ƒè·³åŒ…æ˜¯&lt;code&gt;5&lt;/code&gt;ç§’é’Ÿå›å¤çš„ï¼Œæ­¤æ—¶å…¶ä»–èŠ‚ç‚¹ç”Ÿå‘½å‘¨æœŸè¿‡äº†ï¼Œè®¤ä¸ºè¿™ä¸ªèŠ‚ç‚¹å¯èƒ½æŒ‚äº†ï¼Œä½†æ˜¯å…¶å®åˆæ²¡æœ‰æŒ‚ã€‚ã€‚ã€‚ç„¶åæœ‰å‡ºç°äº†ä¸€ç§æ— è¶…æ—¶çš„å¿ƒè·³æ£€æµ‹æœºåˆ¶ï¼Œæ¯ä¸ªèŠ‚ç‚¹ç»´æŠ¤è€…ä¸€ä¸ªç›¸é‚»èŠ‚ç‚¹ä¿¡æ¯åˆ—è¡¨å’Œè®¡æ•°å™¨ï¼Œæ¯ä¸ªå¿ƒè·³åŒ…éƒ½åŒ…å«ç€è®¡æ•°å™¨çš„å€¼ã€‚&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ç§å¹¿æ’­æœºåˆ¶ï¼Œç±»ä¼¼ä¸Šå­¦çš„æ—¶å€™ï¼Œè€å¸ˆå‘äº†ä¸€å¼ ç­¾åè¡¨ï¼Œç„¶åä»é—¨å£åº§ä½ç¬¬ä¸€ä¸ªåŒå­¦å“ªé‡Œå¼€å§‹ä¼ ï¼Œç›´åˆ°å…¨éƒ¨ç­¾å¥½åä¼ å›ä¸ºæ­¢ï¼Œè¿™ç§æ–¹æ³•å°±ç±»ä¼¼äº&lt;code&gt;gossip&lt;/code&gt;åè®®ã€‚&lt;/p&gt;
&lt;h2 id=&#34;kvbaseä½•å»ä½•ä»&#34;&gt;
    &lt;a href=&#34;#kvbase%e4%bd%95%e5%8e%bb%e4%bd%95%e4%bb%8e&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    KVBaseä½•å»ä½•ä»ï¼Ÿ
&lt;/h2&gt;
&lt;p&gt;ä¸€å¼€å§‹æ‰“ç®—ç”¨&lt;code&gt;raft&lt;/code&gt;ç®—æ³•å»è§£å†³çš„ï¼Œä½†æ˜¯å‘ç°æˆ‘è¦çš„æ˜¯èŠ‚ç‚¹å­˜å‚¨çš„æ—¶å€™éƒ½æ˜¯ä¸€éƒ¨åˆ†æ•°æ®ï¼Œè€Œä¸æ˜¯å…¨é‡å¤åˆ¶ï¼Œæˆ–è€…æ˜¯è¯´ä¸æ˜¯&lt;code&gt;å¼ºä¸€è‡´çš„æ•°æ®&lt;/code&gt;ï¼Œæ‰€ä»¥æ‰“ç®—ç”¨&lt;code&gt;gossip&lt;/code&gt;åè®®å’Œ&lt;code&gt;ä¸€è‡´æ€§å“ˆå¸Œ&lt;/code&gt;å»åšåˆ†å¸ƒå¼ç³»ç»Ÿåˆæ­¥éª¨æ¶ï¼Œæˆ‘ç›®å‰æ¥çœ‹æˆ‘è§‰å¾—&lt;code&gt;kvbase&lt;/code&gt;æ³¨é‡&lt;code&gt;æœ€ç»ˆä¸€è‡´æ€§&lt;/code&gt;ï¼Œç±»ä¼¼äº&lt;code&gt;Apache Cassandra&lt;/code&gt;çš„æ¶æ„é‚£æ ·ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ€»ç»“&#34;&gt;
    &lt;a href=&#34;#%e6%80%bb%e7%bb%93&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    æ€»ç»“
&lt;/h2&gt;
&lt;p&gt;ä¸Šé¢è¿™äº›å¸¸è§çš„é—®é¢˜ï¼Œå½“ç„¶ä¸Šé¢æˆ‘è¿˜æ²¡æœ‰è¯¦ç»†å†™ï¼Œå¦‚æœçœŸçš„è¦æ·±æŒ–çš„è¯ï¼Œæˆ‘ä¼°è®¡éƒ½èƒ½è‡ªå·±å†™ä¸€æœ¬ä¹¦å‡ºæ¥äº†ï¼Œç³»ç»Ÿè®¾è®¡å°±è¦åœ¨è®¾è®¡çš„æ—¶å€™è€ƒè™‘åˆ°è¿™äº›é—®é¢˜ï¼Œè£…ä¸Šç†”æ–­ã€é€€é¿ã€éªŒè¯ã€åè°ƒã€æ•°æ®ç‰ˆæœ¬ä¸€è‡´ç­‰ç­‰æ•…éšœæ£€æµ‹æœºåˆ¶ï¼Œè¿™ä¹Ÿå¼€å‘è€…å¸¦æ¥å¾ˆå¤§çš„æŒ‘æˆ˜ï¼Œå½“ç„¶æˆ‘ä¸ªäººæ˜¯è¿™ä¹ˆè®¤ä¸ºçš„ï¼Œå¦‚æœæœ‰æœ‹å‹å¯¹è¿™å—æ„Ÿå…´è¶£å¯ä»¥å»çœ‹çœ‹ä¸€æœ¬ä¹¦ã€Šæ•°æ®åº“ç³»ç»Ÿå†…å¹•ã€‹ï¼Œæœ¬æ–‡æˆ‘å°±æ˜¯å¯¹é˜…è¯»è¿™æœ¬ä¹¦åçš„æ€»ç»“å’Œç¬”è®°æ•´ç†ï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿè¿™å¦‚æœçœŸçš„æƒ³åšå¥å…¨å¯ç”¨çœŸçš„æ˜¯ä¸€ä»¶å¾ˆæœ‰æŒ‘æˆ˜çš„äº‹æƒ…ï¼Œå› ä¸ºæ”¹å‡ºé”™åœ°æ–¹è‚¯å®šä¼šå‡ºé”™ï¼ï¼ï¼&lt;/p&gt;

    </description>
    </item>
    
    <item>
    <title>Open Source My Opinion</title>
    <link>http://blog.ibyte.me/post/open-source-my-opinion/</link>
    <pubDate>Fri, 21 Jan 2022 18:05:44 +0800</pubDate>
    
    <guid>http://blog.ibyte.me/post/open-source-my-opinion/</guid>
    <description>
        &lt;blockquote&gt;
&lt;p&gt;æœ€è¿‘ä¸€ä¸¤å¹´&lt;code&gt;å¼€æºè½¯ä»¶&lt;/code&gt;è¿™ä¸ªè¯ï¼Œå·²ç»è¢«ç‚’ç€å¾ˆçƒ­äº†ï¼Œçƒ­åº¦å¾ˆé«˜äº†ï¼Œå›½å†…ä¹Ÿæ¶Œç°äº†ä¸€æ‰¹é ç€&lt;code&gt;å¼€æº&lt;/code&gt;åšå•†ä¸šåŒ–çš„å…¬å¸ï¼Œä¹Ÿæœ‰ä¸å°‘é£é™©æŠ•èµ„ä¹Ÿåœ¨æŠ•èµ„è¿™äº›å…¬å¸ã€‚&lt;code&gt;å¼€æºè½¯ä»¶&lt;/code&gt;çœŸçš„èƒ½èµšé’±å—ï¼Ÿ&lt;code&gt;å¼€æºè½¯ä»¶&lt;/code&gt;çš„å•†ä¸šæ¨¡å¼åœ¨å“ªé‡Œï¼Ÿå¦‚ä½•è¿è¥ä¸€ä¸ª&lt;code&gt;å¼€æºç¤¾åŒº&lt;/code&gt;ï¼Ÿæ€ä¹ˆå»æ¨å¹¿è‡ªå·±çš„é¡¹ç›®ï¼Ÿå’Œé—­æºè½¯ä»¶çš„ä¼˜åŠ¿åœ¨å“ªé‡Œï¼Ÿæœ€è¿‘çœ‹åˆ°ä¸€äº›æœ‹å‹åœ¨è®¨è®ºå¼€æºè½¯ä»¶ä¸€äº›é—®é¢˜ï¼Œæˆ‘ä¸ªäººæ³¡ä¸€äº›æŠ€æœ¯ç¤¾åŒºä¹Ÿå¥½ä¹…äº†ï¼Œäºæ˜¯æˆ‘æƒ³å†™å†™æˆ‘å¯¹å¼€æºè½¯ä»¶ä¸€äº›çœ‹æ³•ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æˆ‘ç¬¬ä¸€å°ä¸ªäººç”µè„‘æ˜¯æˆ‘&lt;code&gt;5&lt;/code&gt;å¹´çº§çš„æ—¶å€™ï¼Œæˆ‘æ˜¯ä¸€ä¸ªå…¸å‹çš„&lt;code&gt;Zæ—¶ä»£&lt;/code&gt;ï¼Œæˆ‘çˆ¸ç»™æˆ‘ä¹°çš„ï¼Œæˆ‘ç°åœ¨ä½¿ç”¨çš„ç”µè„‘æ˜¯ç¬¬&lt;code&gt;5&lt;/code&gt;å°ç”µè„‘äº†ï¼Œè¯»è€…å¯ä»¥ç®—ä¸€ä¸‹é—´éš”å¤šå°‘å¹´äº†ï¼Œå½“æ—¶æˆ‘å¯¹ç”µè„‘é”®ç›˜éƒ½ä¸ä¼šç”¨ï¼Œè™½ç„¶å­¦æ ¡æœ‰å¾®æœºè¯¾ï¼Œä½†æ˜¯ä¸­å›½çš„å¾®æœºè¯¾å°±æ˜¯ç”¨æ¥çœ‹ç”µå½±çš„ï¼Œå¤§å®¶æ‡‚å¾—ã€‚ã€‚ã€‚ç„¶åæˆ‘çˆ¸æœ‰ä¸€ä¸ªåŒäº‹ä»¥å‰åœ¨æ–°ç–†å¼€ç½‘å§çš„ï¼Œç„¶åç‰¹åœ°è®©ä»–æ¥æ•™æˆ‘ç©ç”µè„‘&amp;hellip;åæ­£æˆ‘ä¹Ÿä¸çŸ¥é“å½“æ—¶æˆ‘ä»¬æ€ä¹ˆæƒ³çš„&amp;hellip;é¬¼çŸ¥é“å‘¢&amp;hellip;æˆ‘è®°å¾—å½“æ—¶é‚£ä¸ªå”å”è¿˜å¯¹æˆ‘çˆ¸çˆ¸è¯´äº†ä¸€å¥è¯&lt;code&gt;ä½ ä¸æƒ³ä½ å„¿å­ä»¥åå¥½å¥½ä¸Šå­¦äº†å—ï¼Ÿç°åœ¨å°±ç»™ä»–ä¹°ç”µè„‘ï¼Ÿ&lt;/code&gt;&amp;hellip;æˆ‘å½“æ—¶è¿˜æ˜¯ä¸Šçš„ç§ç«‹åŒè¯­å­¦æ ¡&amp;hellip;ç°åœ¨æƒ³æƒ³ç¡®å®æˆ‘æ²¡æœ‰å¥½å¥½ä¸Šå­¦&amp;hellip;å½“ç„¶æˆ‘ä»¬ç­ä¸Šå…¨æ˜¯è¿™æ ·çš„&amp;hellip;å¯èƒ½æœ‰ç‚¹æœºç¼˜å§&amp;hellip;å½“ç„¶å‰é¢å‡ å¹´æ”¾å‡å›å®¶å°±æ˜¯åœ¨å®¶æ‰“æ¸¸æˆï¼Œç¬¬ä¸€æ¬¡å†™ä»£ç å½“æ—¶ç”¨çš„æ˜¯&lt;code&gt;Eè¯­è¨€&lt;/code&gt;ï¼Œåº”è¯¥åœ¨åˆäºŒçš„æ—¶å€™ï¼Œåæ­£æ²¡æœ‰äººæ•™æˆ‘ï¼Œå°±å•çº¯è‡ªå·±å†™ï¼ŒåŠ äº†ä¸€äº›&lt;code&gt;QQ&lt;/code&gt;ç¾¤å­¦ä¹ æ‰€è°“çš„ä»€ä¹ˆé»‘å®¢æŠ€æœ¯å’Œæ³¡å›½å†…æœ€å¤§çš„é»‘å®¢è®ºå›&lt;code&gt;é»‘åŸºç½‘&lt;/code&gt;ï¼Œè¿˜å†™äº†ä¸€äº›é”æœºç—…æ¯’å’Œç›—å·ç¨‹åºï¼Œé­”æ”¹ä¸€ä¸‹åˆ«äººå†™å¥½çš„å¤–æŒ‚æ’ä»¶&amp;hellip; ä¸Šä¼ åˆ°ä¸€äº›æ¸¸æˆå¤–æŒ‚è®ºå›ä¸Šï¼Œç„¶ååˆ«äººä¸­é©¬äº†ï¼Œç”µè„‘å°±è¢«é”æœºäº†ï¼Œç„¶åä»–ä»¬ä¼šä¸»åŠ¨è”ç³»æˆ‘ï¼Œç„¶åæˆ‘å°±æ‰¾ä»–ä»¬è¦èµé‡‘ï¼Œè®©ä»–ä»¬ç»™æˆ‘å……&lt;code&gt;Qå¸&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gygye2fa6wj30hs0nomxv.jpg&#34; 
    alt=&#34;ä¸­é©¬çš„ç”µè„‘ä¼šç«‹å³é‡å¯ï¼Œç„¶åå¼€æœºç”»é¢è¢«æ›´æ”¹æˆ‘çš„è”ç³»æ–¹å¼&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;å…¶ä¸­è¿˜æœ‰äººè¦æŠ¥è­¦ï¼Œå“å¾—æˆ‘èµ¶ç´§æŠŠå¯†ç ç»™ä»–äº†ã€‚ã€‚ã€‚ã€‚ç°åœ¨çœ‹çœ‹çœŸæ˜¯æ²¡æœ‰ä»€ä¹ˆæŠ€æœ¯å«é‡ï¼Œè„šæœ¬å°å­è¡Œä¸ºï¼Œåç¼–è¯‘å°±èƒ½çœ‹åˆ°æ˜æ–‡å¯†ç ï¼Œæˆ–è€…è¿›å…¥&lt;code&gt;pe&lt;/code&gt;æ¨¡å¼æ¸…æ¥šå¯†ç ï¼Œå› ä¸ºè¿™äº›å®è´¨åé¢è¿˜è®¤è¯†äº†æ¥è§¦åˆ°äº†ä¸€äº›å¤´éƒ¨å®‰å…¨çš„å…¬å¸æŠ€æœ¯äººå‘˜ï¼Œä¸ºä»€ä¹ˆè¯´è¿™ä¸ªï¼Œå› ä¸ºè¿™ä¸ªæ–¹å¼ä½ å¯ä»¥å’Œä¸šç•ŒæŠ€æœ¯å¤§ä½¬äº¤æµï¼Œè™½ç„¶æ˜¯é€šè¿‡äº’è”ç½‘ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ç¬¬ä¸€æ¬¡æ¥è§¦å¼€æºè½¯ä»¶æ˜¯&lt;code&gt;2016&lt;/code&gt;å¹´çš„æ—¶å€™ï¼Œä¸å¯¹å¯èƒ½ä¹‹å‰ä½¿ç”¨è¿‡å¼€æºè½¯ä»¶ï¼Œåœ¨è¿™ä¹‹å‰æˆ‘ç©è¿‡&lt;code&gt;Kali Linux&lt;/code&gt;é‡Œé¢æœ‰å¼€æºè½¯ä»¶ï¼Œææ¸—é€æµ‹è¯•ï¼Œåªæ˜¯æˆ‘å½“æ—¶ä¸çŸ¥é“è€Œå·²ã€‚å½“æ—¶æˆ‘è¿˜åœ¨ä½¿ç”¨&lt;code&gt;Java&lt;/code&gt;è¯­è¨€ï¼Œå½“æ—¶ç»™æˆ‘ä¸Šè¯¾çš„è€å¸ˆéƒ½æ˜¯ä»ä¸€äº›ä¼ä¸šè¿‡æ¥çš„è®²å¸ˆï¼Œç»™æˆ‘ä»¬ç­ä¸Šè®²ä¸€äº›ä¸šåŠ¡å¼€å‘è¯¾ï¼Œå½“æ—¶äº†è§£åˆ°&lt;code&gt;Spring&lt;/code&gt;å’Œ&lt;code&gt;MyBatis&lt;/code&gt;è¿™å‡ ä¸ªæ¡†æ¶ï¼Œè€å¸ˆè¯´è¿™äº›éƒ½æ˜¯å¼€æºè½¯ä»¶ï¼Œè¿˜è¯´&lt;code&gt;Spring&lt;/code&gt;æ¡†æ¶æ—©æœŸä½œè€…æ˜¯ä¸€ä¸ªç©éŸ³ä¹å‡ºç”Ÿçš„ï¼Œæˆ‘å½“æ—¶å¬äº†å°±å‘µå‘µğŸ˜‘ç¬‘äº†ç¬‘ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨äº†è¿™äº›æ¡†æ¶åšå¼€å‘åï¼Œç›¸æ¯”è‡ªå·±çº¯æ‰‹æ’¸&lt;code&gt;JDBC&lt;/code&gt;å’Œ&lt;code&gt;Servlet&lt;/code&gt;ï¼Œæ”¹æ”¹é…ç½®ï¼Œæ’¸ä¸€ç‚¹æ ¸å¿ƒé€»è¾‘ä»£ç ï¼Œå°±å¯ä»¥è·‘èµ·æ¥ä¸€ä¸ª&lt;code&gt;Web Service&lt;/code&gt;ï¼ŒçœŸæ˜¯å¤ªçˆ½äº†ï¼Œå½“æ—¶å¹´çºªè¿˜å¾ˆå°åªæ˜¯è§‰å¾—æŒºå¥½ç©çš„ï¼Œæˆ‘ä»¥åè¦æ˜¯å†™å‡ºè¿™ä¹ˆç‰›é€¼çš„æ¡†æ¶å°±å¥½äº†ï¼Œå½“æ—¶å¯¹å¼€æºç†è§£å°±æ˜¯&lt;code&gt;ç¨‹åºçš„ä»£ç æ˜¯å…¬å¼€çš„&lt;/code&gt;ï¼Œç„¶åå°±æ˜¯å¯ä»¥éšä¾¿ä½¿ç”¨ã€‚ã€‚ã€‚ç°åœ¨çœ‹çœ‹ï¼Œç¬¬ä¸€æ¡åº”è¯¥æ˜¯å¯¹çš„ï¼Œåé¢é‚£ä¸ªè¦çœ‹é¡¹ç›®ä½¿ç”¨çš„ä»€ä¹ˆå¼€æºåè®®äº†ã€‚&lt;/p&gt;
&lt;p&gt;çœŸæ­£å‚å…¥ä¸€ä¸ªå¼€æºé¡¹ç›®æ˜¯&lt;code&gt;2017&lt;/code&gt;å¹´äº†ï¼Œå½“æ—¶é‡åˆ°äº†æˆ‘å¤§å¸ˆå…„ï¼Œä¹Ÿå°±æ˜¯&lt;code&gt;Blade&lt;/code&gt;æ¡†æ¶çš„ä½œè€…ï¼Œåé¢åœ¨ä»–å¸¦é¢†ä¹‹ä¸‹å¼€å§‹åŒæ€§äº¤å‹äº†ï¼Œå½“ç„¶æˆ‘å†™è½¯ä»¶å®Œå…¨æ˜¯é å…´è¶£ï¼Œå’Œç©ä¸€æ ·ï¼ŒæŠŠå†™ä»£ç å½“æˆä¹è¶£ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä»€ä¹ˆæ˜¯å¼€æºè½¯ä»¶&#34;&gt;
    &lt;a href=&#34;#%e4%bb%80%e4%b9%88%e6%98%af%e5%bc%80%e6%ba%90%e8%bd%af%e4%bb%b6&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    ä»€ä¹ˆæ˜¯å¼€æºè½¯ä»¶ï¼Ÿ
&lt;/h2&gt;
&lt;p&gt;å¼€æºè½¯ä»¶æ˜¯é€šè¿‡ç‰¹å®šç±»å‹çš„è®¸å¯è¯å‘å¸ƒçš„è½¯ä»¶ï¼Œè¿™ç§è®¸å¯è¯èƒ½è®©æœ€ç»ˆç”¨æˆ·åˆæ³•åœ°ä½¿ç”¨å…¶æºä»£ç ï¼Œæ­¤ç±»è®¸å¯è¯æœ‰è®¸å¤šç§ï¼Œä½†é€šå¸¸å¼€æºè½¯ä»¶å¿…é¡»ç¬¦åˆä»¥ä¸‹æ¡ä»¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»¥æºä»£ç å½¢å¼æä¾›ï¼Œæ— éœ€é¢å¤–è´¹ç”¨ï¼šè¿™æ„å‘³ç€ç”¨æˆ·å¯ä»¥æŸ¥çœ‹ç»„æˆè¯¥è½¯ä»¶çš„ä»£ç å¹¶å¯¹å…¶è¿›è¡Œæ‰€éœ€çš„ä»»ä½•æ›´æ”¹ã€‚&lt;/li&gt;
&lt;li&gt;æºä»£ç å¯é‡æ–°ç”¨äºå…¶ä»–æ–°è½¯ä»¶ï¼šè¿™æ„å‘³ç€ä»»ä½•äººéƒ½å¯ä»¥è·å–æºä»£ç å¹¶åˆ©ç”¨å®ƒæ¥åˆ†å‘è‡ªå·±çš„ç¨‹åºã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å¼€æºè½¯ä»¶æ˜¯å…è´¹çš„å—&#34;&gt;
    &lt;a href=&#34;#%e5%bc%80%e6%ba%90%e8%bd%af%e4%bb%b6%e6%98%af%e5%85%8d%e8%b4%b9%e7%9a%84%e5%90%97&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å¼€æºè½¯ä»¶æ˜¯å…è´¹çš„å—ï¼Ÿ
&lt;/h2&gt;
&lt;p&gt;ä¸æ˜¯ï¼Œå¼€æºä¸ç­‰äºå…è´¹ï¼ï¼ï¼ å…·ä½“æ¥è¯´è¿™ä¸å¼€æºè½¯ä»¶é‡‡ç”¨çš„è®¸å¯åè®®/è®¸å¯è¯æœ‰å…³ï¼Œå¼€æºè½¯ä»¶å…è®¸ä½¿ç”¨è€…ä¿®æ”¹æºä»£ç ï¼Œä½†æ˜¯ä¸å…è®¸ä¿®æ”¹ç‰ˆæƒä¿¡æ¯ï¼Œé™¤éæˆæƒæ–¹å®£å¸ƒæ”¾å¼ƒç‰ˆæƒï¼Œä¸€äº›å¼€æºè½¯ä»¶å¯èƒ½ä¼šé‡‡å–åŒè®¸å¯è¯ï¼Œå¯¹äºå•†ä¸šåº”ç”¨å¾€å¾€éœ€è¦è´­ä¹°å•†ä¸šè®¸å¯è¯å¹¶æ”¯ä»˜è´¹ç”¨ã€‚å…¸å‹çš„ä¾‹å­å°±æ˜¯çº¢å¸½&lt;code&gt;RedHat&lt;/code&gt;ï¼Œä»»ä½•äººéƒ½å¯ä»¥å…è´¹æ‹¿åˆ°&lt;code&gt;çº¢å¸½Linux&lt;/code&gt;çš„æºä»£ç ï¼Œä½†æ˜¯è¦å°†æºä»£ç è½¬æ¢æˆå¯è¿è¡Œçš„ä»£ç ï¼Œåˆ™éœ€è¦ç›¸åº”çš„ä¸“ä¸šçŸ¥è¯†ï¼Œä¾‹å¦‚å¤§å®¶ç»å¸¸ä½¿ç”¨çš„&lt;code&gt;centos&lt;/code&gt;å°±æ˜¯åˆæ³•åŒ–çš„æ¢æ‰å•†æ ‡çš„çº¢å¸½ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å¼€æºè½¯ä»¶çœŸçš„èƒ½èµšé’±å—&#34;&gt;
    &lt;a href=&#34;#%e5%bc%80%e6%ba%90%e8%bd%af%e4%bb%b6%e7%9c%9f%e7%9a%84%e8%83%bd%e8%b5%9a%e9%92%b1%e5%90%97&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å¼€æºè½¯ä»¶çœŸçš„èƒ½èµšé’±å—ï¼Ÿ
&lt;/h2&gt;
&lt;p&gt;èƒ½ï¼Œè‚¯å®šæ˜¯èƒ½ï¼Œä½†è¿™ä¸ª&lt;code&gt;èƒ½&lt;/code&gt;å¾—çœ‹ç¤¾åŒºå’Œè¿è¥å’Œç”¨æˆ·ç¾¤ä½“äº†ï¼Œå¼€æºæœ‰åšåˆ°ä¸Šå¸‚çš„å…¬å¸ï¼Œå…¸å‹ä¾‹å­å°±æ˜¯&lt;code&gt;ElasticSearch&lt;/code&gt;ï¼Œæ— å¿ƒæ’æŸ³æŸ³æˆè«ï¼Œè¿™é‡Œé¢è¿˜æœ‰ä¸€ä¸ªæ•…äº‹ï¼Œ&lt;code&gt;Elasticsearch&lt;/code&gt;åˆ›å§‹äºº&lt;code&gt;Shay Banon&lt;/code&gt;è·Ÿéšè‡ªå·±çš„æ–°å©šå¦»å­æ¥åˆ°ä¼¦æ•¦æ—¶ï¼Œä»–è¿˜æ˜¯ä¸€ä¸ªå¾…ä¸šçš„å·¥ç¨‹å¸ˆï¼Œå¦»å­æƒ³é€šè¿‡å­¦ä¹ æˆä¸ºä¸€åå¨å¸ˆï¼Œè€Œä»–åˆ™æƒ³ä¸ºå¦»å­å¼€å‘ä¸€ä¸ªæ–¹ä¾¿æœç´¢èœè°±çš„åº”ç”¨ï¼Œç»è¿‡ä¸€ç³»åˆ—æœºç¼˜å·§åˆçš„ç»å†åï¼Œ&lt;code&gt;Shay Banon&lt;/code&gt;æˆåŠŸåŸºäº&lt;code&gt;Apache Lucene&lt;/code&gt;æ‰“é€ äº†ä¸€ä¸ªæ˜“ç”¨çš„ã€é«˜æ€§èƒ½ã€å®æ—¶ã€åˆ†å¸ƒå¼æœç´¢å¼•æ“&lt;code&gt;Elasticsearch&lt;/code&gt;ï¼Œé€šè¿‡å¼€æºï¼Œ&lt;code&gt;Elasticsearch&lt;/code&gt;ç®—æ˜¯å¼€æºä»‹ç‹¬è§’å…½å…¬å¸äº†ï¼Œå…¬å¸å¸‚å€¼è¾¾åˆ°&lt;code&gt;150&lt;/code&gt;äº¿ç¾å…ƒã€‚&lt;/p&gt;
&lt;p&gt;å›½å†…åšå¼€æºçš„å…¬å¸ä¾‹å¦‚&lt;code&gt;deepin&lt;/code&gt;ç®—æ˜¯å›½å†…æœ€æ—©ä»äº‹è¿™æ–¹é¢çš„å…¬å¸äº†ï¼Œä»–ä»¬çš„&lt;code&gt;CTO&lt;/code&gt;ç‹å‹‡å‰è¾ˆï¼ˆå½“ç„¶ç›®å‰å·²ç»ç¦»èŒäº†ï¼‰ä¹Ÿç®—æ˜¯å›½å†…æœ€æ—©æ¥è§¦å¼€æºè½¯ä»¶çš„ï¼Œæœ‰å…´è¶£å¯ä»¥å»çœ‹çœ‹è¿™ä¸ªå¸–å­ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.deepin.org/zh/2012/08/13/interview-with-andy-stewart-from-linux-deepin-team/&#34;&gt;https://www.deepin.org/zh/2012/08/13/interview-with-andy-stewart-from-linux-deepin-team/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿˜æœ‰&lt;code&gt;pingcap&lt;/code&gt;è¿™ç§&lt;code&gt;newsql&lt;/code&gt;å…¬å¸ï¼Œå¦‚æœä½ ç•™æ„è§‚å¯Ÿä¸€ä¸‹è¿™äº›å…¬å¸ï¼Œ&lt;code&gt;pingcap&lt;/code&gt;å…¬å¸ä¼šç§¯æå‚åŠ ä¸€äº›æŠ€æœ¯åˆ†äº«çš„æ´»åŠ¨ï¼Œå’Œç»„ç»‡ä¸€äº›æŠ€æœ¯äº¤æµæ´»åŠ¨ï¼Œè¿˜åœ¨çº¿ä¸Šæ¨å‡ºç›¸å…³çš„æŠ€æœ¯è®¤è¯è¯¾ç¨‹ï¼Œè¿™ä¸ªæ¨¡å¼å°±æœ‰ç‚¹åƒæ—©äº›å¹´çš„&lt;code&gt;Oracle&lt;/code&gt;çš„æŠ€æœ¯è®¤è¯ä¸€æ ·ï¼Œæˆ‘è®°å¾—ä¸Šå­¦çš„æ—¶å€™è€å¸ˆè¯´å¦‚æœ&lt;code&gt;Java&lt;/code&gt;å­¦çš„ä¸å¥½ï¼Œè¿˜å¯ä»¥å»ä¸“æ”»æ•°æ®åº“ï¼Œå†™å¾—ä¸€æ‰‹å¥½&lt;code&gt;SQL&lt;/code&gt;å®‰è£…å®‰è£…&lt;code&gt;ä»€ä¹ˆ Oracle 11g&lt;/code&gt;å•¥çš„ï¼Œç©æºœäº†ï¼Œä¹Ÿå¯ä»¥æœ‰é¥­åƒçš„ï¼Œè€ƒä¸€ä¸ª&lt;code&gt;Oracleè®¤è¯&lt;/code&gt;æˆ–è€…åŠ ä¸€ä¸ª&lt;code&gt;çº¢å¸½è®¤è¯&lt;/code&gt;ï¼Œå½“ç„¶æˆ‘ç®—ç­ä¸Š&lt;code&gt;Java&lt;/code&gt;ç©çš„æºœçš„äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä»ä¸Šé¢è¿™äº›ä¾‹å­æ¥çœ‹ï¼Œä¸€é¡¹æŠ€æœ¯ç«ä¸ç«ï¼Œçƒ­ä¸çƒ­ï¼Œç¤¾åŒºå’Œç”¨æˆ·ç¾¤ï¼Œè¿˜æœ‰å¼€å‘è€…å’Œå®˜æ–¹è¿è¥èµ·åˆ°äº†å¾ˆå¤§ä½œç”¨ï¼Œæœ‰äº†ç”¨æˆ·è¿˜æ€•æ²¡æœ‰é’±èµšå—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;åŒ…æ‹¬ç°åœ¨&lt;code&gt;Github&lt;/code&gt;å¼€é€šäº†èµ„åŠ©åŠŸèƒ½ï¼Œä¸€ä¸ªä¸ªäººå¼€å‘è€…ä¹Ÿä¼šæ”¶åˆ°ä»–ä»¬ç²‰ä¸å‘æ¥çš„æ‰“èµï¼Œæ—©æœŸ&lt;code&gt;Github&lt;/code&gt;æ²¡æœ‰è¿™ä¸ªåŠŸèƒ½ï¼Œå¼€å‘è€…å¯èƒ½éœ€è¦åœ¨ä»“åº“é‡Œé¢ç²˜è´´&lt;code&gt;PayPal&lt;/code&gt;æ”¶æ¬¾ç ï¼Œç°åœ¨æ–¹ä¾¿å¤šäº†ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæ’ä¸€å˜´ï¼Œç©ä¸€ä¸ªæ¢—ï¼Œæœ‰äººé—®æ€ä¹ˆçœ‹ä¸€ä¸ªæŠ€æœ¯ç«ä¸ç«ï¼Ÿæˆ‘çš„å›ç­”æ˜¯çœ‹çœ‹å¸‚é¢ä¸Šï¼Œå­¦æ ¡å¼€æ²¡å¼€ç›¸å…³è¯¾ç¨‹ï¼Œå¦‚æœå¼€äº†ï¼Œé‚£è¿™ä¸ªæŠ€æœ¯è‚¯å®šç«ğŸ”¥ã€‚ã€‚ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å’Œé—­æºè½¯ä»¶çš„ä¼˜åŠ¿åœ¨å“ªé‡Œ&#34;&gt;
    &lt;a href=&#34;#%e5%92%8c%e9%97%ad%e6%ba%90%e8%bd%af%e4%bb%b6%e7%9a%84%e4%bc%98%e5%8a%bf%e5%9c%a8%e5%93%aa%e9%87%8c&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å’Œé—­æºè½¯ä»¶çš„ä¼˜åŠ¿åœ¨å“ªé‡Œï¼Ÿ
&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;è½¯ä»¶åå™¬ä¸–ç•Œï¼Œå¼€æºåå™¬è½¯ä»¶&lt;/code&gt;ï¼Œè¿™å¥è¯æ­£åœ¨è¢«åº”éªŒï¼Œç›¸ä¿¡å¤§å®¶åšå¼€å‘ï¼Œæ—¥å¸¸å¼€å‘ä¸­ä½¿ç”¨çš„æŠ€æœ¯æ ˆè‚¯å®šæœ‰å¼€æºè½¯ä»¶ã€‚å‰ä¸ä¹…&lt;code&gt;é£ä¹¦&lt;/code&gt;å®˜æ–¹ä¸æ˜¯æœ‰ä¸€ä¸ªè§†é¢‘å—ï¼Ÿæˆ‘çœ‹äº†å¥½åƒæ˜¯ä»–ä»¬äº§å“ç»ç†åœ¨ä¸Šé¢è¯´ï¼Œ&lt;code&gt;é£ä¹¦&lt;/code&gt;å­—èŠ‚è·³åŠ¨æŠ•å…¥äº†å¤šå°‘å¤šå°‘äº§ç ”ï¼ŒäººåŠ›ç‰©åŠ›ï¼Œå¯æˆ‘æƒ³è¯´çš„æ˜¯ï¼Œä½ ä»¬é£ä¹¦æ²¡æœ‰ç”¨å¼€æºè½¯ä»¶å—ï¼Ÿå¦‚æœæ²¡æœ‰å¼€æºè½¯ä»¶æˆ‘ç›¸ä¿¡å¼€å‘æŠ•å…¥ä¼šæ›´å¤§ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥å‰å¯èƒ½æŠŠæºä»£ç é—­æºæ˜¯ç§‘æŠ€å…¬å¸çš„æ ¸å¿ƒç«äº‰åŠ›ï¼Œäº§å“çš„æ ¸å¿ƒç«äº‰åŠ›ï¼Œæˆ–è€…å‡ºä¸€å¥—ä¼ä¸šçº§è§£å†³æ–¹æ¡ˆï¼Œæå•†ä¸šæˆæƒï¼Œä¾‹å¦‚&lt;code&gt;Oracle&lt;/code&gt;ä¼ä¸šçº§å¼€å‘å…¨å®¶æ¡¶ï¼Œ&lt;code&gt;Oracle Linux&lt;/code&gt;å’Œ&lt;code&gt;Oracleæ•°æ®åº“&lt;/code&gt;ã€&lt;code&gt;JavaEE&lt;/code&gt;ä¸€æ•´å¥—ï¼Œå’Œè¿™ä¸ªå¯¹åº”å°±æ˜¯å¾®è½¯çš„&lt;code&gt;C#&lt;/code&gt;ã€&lt;code&gt;SQLServer&lt;/code&gt;ã€&lt;code&gt;Windows Server IIS&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ç›¸å¯¹äºä¸Šé¢è¿™äº›&lt;code&gt;PHP&lt;/code&gt;å°±æ˜¯&lt;code&gt;LAMP&lt;/code&gt;å’Œ&lt;code&gt;LNMP&lt;/code&gt;å°±å¯ä»¥è·‘èµ·æ¥äº†ï¼Œè™½ç„¶æˆ‘æ²¡æœ‰å†™è¿‡&lt;code&gt;PHP&lt;/code&gt;ä½†æ˜¯æˆ‘è¿˜æ˜¯äº†è§£ä¸€ç‚¹çš„ï¼Œè¿™äº›æ–¹æ¡ˆå°±æ˜¯é€‰æ‹©ç”¨å¼€æºçš„è½¯ä»¶ä½œä¸ºåŸºç¡€è®¾æ–½æ¥è·‘&lt;code&gt;PHP&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;éšç€&lt;code&gt;nodejs&lt;/code&gt;çš„å‡ºç°ï¼Œ&lt;code&gt;PHP&lt;/code&gt;ç›®å‰å¸‚åœºå æœ‰ç‡ä¹Ÿåœ¨ä¸‹é™ï¼Œ&lt;code&gt;nodejs&lt;/code&gt;æ²¡æœ‰å‡ºç°å‰ï¼Œå“ªé‡Œæ¥çš„å¤§å‰ç«¯ï¼Ÿé‚£ä¸ªæ—¶å€™&lt;code&gt;javascript&lt;/code&gt;èƒ½å¹²ä»€ä¹ˆï¼Ÿç°åœ¨æ˜¯&lt;code&gt;PHP&lt;/code&gt;èƒ½åšçš„ï¼Œ&lt;code&gt;JavaScript&lt;/code&gt;å†™èµ·æ¥éƒ½æ¯”ä»–æºœã€‚ã€‚&lt;/p&gt;
&lt;p&gt;è¿™å°±æ˜¯&lt;code&gt;nodejs&lt;/code&gt;å‡ºç°é¢ è¦†å‰ç«¯ï¼Œå°±åƒä½ &lt;code&gt;2000&lt;/code&gt;å¹´æƒ³è¿‡ç°åœ¨æ‰‹æœºæ˜¯è¿™ä¸ªæ ·å­å—ï¼Ÿé‚£ä¸ªæ—¶å€™æœ‰ä¸€å°æ‰£æœºå°±ä¸é”™äº†ï¼Œåªæ˜¯æ²¡æœ‰äººå‡ºæ¥é¢ è¦†è€Œå·²ï¼Œå°±åƒä¹”å¸ƒæ–¯æå‡º&lt;code&gt;iPhone &lt;/code&gt;é‚£ä¸€åˆ»ï¼Œå…¨åœº&lt;code&gt;woc&lt;/code&gt;ï¼Œ&lt;code&gt;woc&lt;/code&gt;&amp;hellip; ç›´æ¥é¢ è¦†äº†è¯ºåŸºäºšæ—¶ä»£ã€‚ã€‚ã€‚ã€‚æœ‰äº†&lt;code&gt;nodejs&lt;/code&gt;å‡ºç°ï¼Œæ‰è¯ç”Ÿäº†&lt;code&gt;vue&lt;/code&gt;å’Œ&lt;code&gt;react&lt;/code&gt;è¿™æ ·çš„é¡¹ç›®ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥å¾€å¾ˆå¤šå…¬å¸æŠŠé—­æºå½“åšæ ¸å¿ƒç«äº‰åŠ›ï¼Œä¸è¿‡ä¸ªäººè®¤ä¸ºä½ åšçš„æ˜¯å®¢æˆ·ç«¯åº”ç”¨è¿™ç§è¿˜å¥½ï¼Œé—­æºæ˜¯ä¸€ç§é€‰æ‹©ã€‚ä½†æ˜¯ç°åœ¨å¼€å‘è€…é‚£ä¹ˆå¤šï¼Œæœ‰èƒ½åŠ›å¼€å‘è€…é‚£ä¹ˆå¤šï¼Œé—­æºä¸ä¸€å®šæ˜¯ä½ çš„æ ¸å¿ƒç«äº‰åŠ›ï¼Œæˆ‘ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œä¾‹å¦‚&lt;code&gt;Google&lt;/code&gt;ä»–ä»¬çš„&lt;code&gt;Googleä¸‰é©¾é©¬è½¦&lt;/code&gt;çš„ä»£ç æ²¡æœ‰å¼€æºï¼Œä½†æ˜¯ä»–ä»¬å…¬å¸ƒäº†&lt;code&gt;è®¾è®¡è®ºæ–‡&lt;/code&gt;ï¼Œç„¶åæœ‰äººé€šè¿‡ä»–ä»¬çš„è®ºæ–‡å®ç°äº†&lt;code&gt;Hadoop&lt;/code&gt;ï¼Œäº§ç”Ÿäº†&lt;code&gt;Hadoop&lt;/code&gt;è¿™æ ·çš„é¡¶çº§é¡¹ç›®ï¼Œ&lt;code&gt;Hadoop&lt;/code&gt;å®ç°å°±æ˜¯åŸºäºä»–ä»¬çš„è®ºæ–‡å®ç°çš„ï¼Œ&lt;code&gt;Hadoop&lt;/code&gt;ç›®å‰åœ¨å¤§æ•°æ®é¢†åŸŸä¸çŸ¥é“è¢«å¤šå°‘å…¬å¸ä½¿ç”¨ï¼Œæ‰€ä»¥æ–‡ç« ä¹Ÿæ˜¯ä¸€ç§å¼€æºã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸ªäººæ€ä¹ˆæ¨å¹¿è‡ªå·±é¡¹ç›®æ€ä¹ˆè¿è¥&#34;&gt;
    &lt;a href=&#34;#%e4%b8%aa%e4%ba%ba%e6%80%8e%e4%b9%88%e6%8e%a8%e5%b9%bf%e8%87%aa%e5%b7%b1%e9%a1%b9%e7%9b%ae%e6%80%8e%e4%b9%88%e8%bf%90%e8%90%a5&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    ä¸ªäººæ€ä¹ˆæ¨å¹¿è‡ªå·±é¡¹ç›®ï¼Ÿæ€ä¹ˆè¿è¥ï¼Ÿ
&lt;/h2&gt;
&lt;p&gt;ç¬¬ä¸€ç‚¹ä½ çš„é¡¹ç›®ä½¿ç”¨ä»€ä¹ˆæŠ€æœ¯å®ç°çš„ï¼Œä¾‹å¦‚&lt;code&gt;Go&lt;/code&gt;è¯­è¨€å®ç°çš„ï¼Œé‚£å°±ä¸€å®šæ‰¾åˆ°å®˜æ–¹ç¤¾åŒºç„¶åå»æ³¡ç¤¾åŒºï¼Œå› ä¸ºç¤¾åŒºé‡Œé¢ä¸“ä¸šç›¸å…³çš„é¢†åŸŸå¼€å‘è€…æ˜¯æœ€å¤šçš„ï¼Œä¸€å®šè¦æ•¢äºè¯´è¯ï¼Œä¿æŒè‡ªå·±çš„è§‚ç‚¹ï¼Œæœ‰äº‰è®ºä¹Ÿåˆ«æ€‚ï¼Œä½ å¯ä»¥é€šè¿‡è®²é“ç†æ–¹å¼è§£å†³ã€‚å…¶æ¬¡å°±æ˜¯ä¸€å®šè¦åˆ©ç”¨å¥½è‡ªåª’ä½“å¹³å°ï¼Œä»–ä»¬çš„ç®—æ³•ä¼šå¸®åŠ©ä½ çš„é¡¹ç›®æ‰¾åˆ°å¯¹åº”çš„ç›®æ ‡ç”¨æˆ·ï¼Œç„¶åå°±æ˜¯ä¸è¦ç›¯ç€å›½å†…è¿™å—åœ°æ–¹ï¼Œé¡¹ç›®è¦å®šä¸ºå›½é™…åŒ–çš„é¡¹ç›®ï¼Œå¤šå»æ³¡å›½å¤–çš„ç¤¾åŒºï¼Œæ³¨å†Œå®˜æ–¹&lt;code&gt;æ¨ç‰¹&lt;/code&gt;ï¼Œå»&lt;code&gt;hacker news&lt;/code&gt;ä¸Šå‘å¸–å­ã€‚&lt;/p&gt;
&lt;p&gt;å¼€æºä¸ç­‰äºä½ æŠŠé¡¹ç›®ä»£ç å¾€å…¬å…±ä»£ç ä»“åº“ä¸€æäº¤ï¼Œç„¶åä»€ä¹ˆä¹Ÿä¸ç®¡äº†ï¼Œé‚£æ ·çœŸåªèƒ½å«æºä»£ç å…¬å¼€è€Œå·²ï¼Œå¼€æºä½ éƒ½å¼€å§‹åšäº†ï¼Œé‚£ä¹ˆå°±åº”è¯¥å¥½å¥½è¿è¥èµ·æ¥è¿™ä¸ªé¡¹ç›®ï¼Œä¿®å¤&lt;code&gt;bug&lt;/code&gt;ï¼Œç•™æ„åˆ«äººç»™ä½ å‘çš„&lt;code&gt;pr&lt;/code&gt;æˆ–è€…&lt;code&gt;issues&lt;/code&gt;å“ªæ€•åªæœ‰ä¸€ä¸ªç”¨æˆ·ï¼Œä¸€å®šè¦å®Œäº‹æ–‡æ¡£ï¼Œä¸€å®šè¦é•¿æœŸç»´æŠ¤ï¼Œæ—¶é—´ä¹…äº†ä½ ä¼šå‘ç°ç»™ä½ æ&lt;code&gt;pr&lt;/code&gt;å¯èƒ½æ˜¯ä¸€ä¸ªå°å­©æˆ–è€…ä¸€ä¸ªä¸–ç•Œé¡¶çº§å…¬å¸çš„å¤§ä½¬ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gyh43h4zclj31860u0td9.jpg&#34; 
    alt=&#34;ä¸€ä¸ª05å¹´çš„å°ä¼™å­&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šé¢è¿™å¹…æˆªå›¾æ˜¯ä¸€ä¸ª&lt;code&gt;05&lt;/code&gt;å¹´çš„å°æœ‹å‹çš„è´¦æˆ·ï¼Œè¿™æ˜¯æˆ‘å‰å¹´ç–«æƒ…æœŸé—´ï¼Œè®¤è¯†çš„ï¼Œ&lt;code&gt;05&lt;/code&gt;å¹´çš„éƒ½è¿™ä¹ˆå·äº†ï¼Œå½“æ—¶æˆ‘ä»¬æ˜¯åœ¨åšä¸€ä¸ªåŸºäº&lt;code&gt;Linux&lt;/code&gt;çš„&lt;code&gt;desktop&lt;/code&gt;é¡¹ç›®ï¼Œè¿™ä¸ªå°æœ‹å‹å‚å…¥è¿›æ¥è´¡çŒ®äº†ï¼Œå¼€æºæ˜¯ä¸€ä¸ªä¸åˆ†å¹´é¾„æ®µï¼Œä¸åˆ†ä½ æ˜¯ä¸æ˜¯å¤§ä½¬ï¼Œä¸åˆ†ä½ æ˜¯ä¸æ˜¯é¡¶çº§åæ ¡æ¯•ä¸šï¼Œä½ å¯ä»¥ç”¨ä»£ç è¯´è¯çš„ï¼Œä½ å†™ä»£ç è¿˜å¯ä»¥è¢«å¤§ä½¬&lt;code&gt;code review&lt;/code&gt;ï¼Œå¤§ä½¬è¿˜èƒ½å¸®åŠ©ä½ æ”¹æ­£ä»£ç ï¼Œåœ¨æ­¤ä¹‹é—´æˆ‘ä»¬æ”¶åˆ°äº†æ¥è‡ªå¾·å›½ğŸ‡©ğŸ‡ª&lt;code&gt;App image&lt;/code&gt;ä½œè€…çš„å¸®åŠ©ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ç¤¾åŒºé‡Œä½ å¯ä»¥é‡åˆ°ä½ å·¥ä½œä¸­æˆ–è€…ä½ å¹³æ—¶æ¥è§¦ä¸åˆ°çš„å¤§ä½¬ï¼Œæˆ–è€…æŠ€æœ¯æ¯”ä½ ç‰›é€¼çš„å¤§ä½¬ï¼Œè¿™æ ·ä¸€æ¥äºŒå»ä½ ä»¬å°±æ··æˆåŸºå‹äº†ã€‚&lt;/p&gt;
&lt;p&gt;æˆ–è€…ä½ å¾—ä¸»åŠ¨å»å‚åŠ ä¸€äº›ç°æœ‰çš„å¼€æºé¡¹ç›®ï¼Œæä¸ª&lt;code&gt;pr&lt;/code&gt;ä»€ä¹ˆçš„ï¼Œè®°ä½å¾—ä½¿ç”¨&lt;code&gt;github&lt;/code&gt;ï¼Œè€Œä¸æ˜¯å›½å†…ä»€ä¹ˆç äº‘ï¼Œä¸€å®šæ˜¯ä¸ªå›½é™…åŒ–å¹³å°ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘æ³¡ä¸€äº›ç¤¾åŒºé‚£ä¹ˆä¹…ï¼Œå‘ç°ä¸€äº›é—®é¢˜ï¼Œå›½å†…åšå¼€æºçš„é¡¹ç›®ï¼Œç„¶åæƒ³é ç€å¼€æºåšå•†ä¸šåŒ–çš„å…¬å¸ï¼Œéƒ½æ˜¯åœ¨è¿™æ–¹é¢æ‘¸ç´¢ç€ï¼Œç°åœ¨çš„é—®é¢˜æ˜¯ï¼Œéƒ½æƒ³åšå¥½ï¼Œåˆä¸çŸ¥é“æ€ä¹ˆå»åšçš„æ„Ÿè§‰ã€‚ã€‚ã€‚ã€‚ã€‚&lt;/p&gt;

    </description>
    </item>
    
    <item>
    <title>Pretty Terminal</title>
    <link>http://blog.ibyte.me/post/iterm2-zsh/</link>
    <pubDate>Fri, 07 Jan 2022 23:44:05 +0800</pubDate>
    
    <guid>http://blog.ibyte.me/post/iterm2-zsh/</guid>
    <description>
        &lt;h2 id=&#34;æ¦‚è¿°&#34;&gt;
    &lt;a href=&#34;#%e6%a6%82%e8%bf%b0&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    æ¦‚è¿°
&lt;/h2&gt;
&lt;p&gt;å¾ˆå¤šäººçœ‹åˆ°æˆ‘çš„ç»ˆç«¯è§‰å¾—å¾ˆé…·ï¼Œé—®æˆ‘æ€ä¹ˆé…ç½®çš„ï¼Ÿä»Šå¤©è¿™ç¯‡æ–‡ç« æˆ‘å°±æ¥æ•™æ•™å¤§å®¶æ€ä¹ˆé…ç½®ä¸€ä¸ªéªšæ°”çš„ç»ˆç«¯ï¼Œå…ˆè®©å¤§å®¶çœ‹çœ‹é…ç½®å¥½çš„ç»ˆç«¯æ•ˆæœå›¾å§ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gy5c5pc15nj317v0u0n2w.jpg&#34; 
    alt=&#34;Go Project&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gy5c7qb1eej317v0u0tdf.jpg&#34; 
    alt=&#34;æ™®é€šé¡¹ç›®&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gy5jlmonksj316e0u07b6.jpg&#34; 
    alt=&#34;rust project iconæ”¯æŒæœ‰ç‚¹é—®é¢˜ï¼Œä¸èƒ½æ­£å¸¸æ˜¾ç¤ºrustå›¾æ ‡&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;æ˜¯ä¸æ˜¯å¾ˆéªšæ°”ï¼Ÿï¼Ÿï¼Ÿ&lt;/p&gt;
&lt;h2 id=&#34;é¢œè‰²é…ç½®&#34;&gt;
    &lt;a href=&#34;#%e9%a2%9c%e8%89%b2%e9%85%8d%e7%bd%ae&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    é¢œè‰²é…ç½®
&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;iTerm2&lt;/code&gt;ï¼šå·ç§° &lt;code&gt;Mac&lt;/code&gt; ä¸‹æœ€å¥½çš„ç»ˆç«¯å·¥å…·ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Zsh&lt;/code&gt;ï¼šä¸€æ¬¾å¼ºå¤§çš„ç»ˆç«¯å·¥å…·ï¼Œè‡ªå®šä¹‰å¯ç©æ€§éå¸¸é«˜ï¼Œå¦‚æœä½ æ˜¯&lt;code&gt;Linux&lt;/code&gt;ç”¨æˆ·ä¹Ÿå¯ä»¥å®‰è£…ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;1. ç¬¬ä¸€æ­¥å®‰è£…&lt;code&gt;iTerm2&lt;/code&gt;ï¼Œå¦‚æœä½ å·²ç»å®‰è£…äº†&lt;code&gt;brew&lt;/code&gt;è½¯ä»¶åŒ…ç®¡ç†å·¥å…·ï¼Œå¯ä»¥æ‰§è¡Œä¸‹é¢å‘½ä»¤ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;brew install iterm2
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å¦‚æœä½ æ²¡æœ‰å®‰è£…&lt;code&gt;brew&lt;/code&gt;å·¥å…·ï¼Œä½ å¯ä»¥æ‰§è¡Œä¸‹é¢å‘½ä»¤è¿›è¡Œå®‰è£…ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;/bin/bash -c &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä½†æ˜¯è¿™é‡Œæœ‰é—®é¢˜çš„ï¼Œé‚£å°±æ˜¯å¤§å®¶æ‡‚å¾—&lt;code&gt;ç½‘ç»œé—®é¢˜&lt;/code&gt;ï¼Œå¯èƒ½&lt;code&gt;dns&lt;/code&gt;æ±¡æŸ“ï¼Œä¸èƒ½æ­£å¸¸è®¿é—®åˆ°&lt;code&gt;GitHub&lt;/code&gt;ï¼Œå¦‚æœä½ æ˜¯&lt;code&gt;Mac&lt;/code&gt;ç”¨æˆ·æŠŠä½ çš„&lt;code&gt;dns&lt;/code&gt;è®¾ç½®ä¸º&lt;code&gt;8.8.8.8&lt;/code&gt;ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gy5cylbg7vj30w40u0jso.jpg&#34; 
    alt=&#34;æ·»åŠ ä¸€ä¸ªdns&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;é…ç½®è¿™ä¸ª&lt;code&gt;dns&lt;/code&gt;ä¹‹å‰ï¼Œä½ å¾—å…ˆæœ‰&lt;code&gt;ğŸªœ&lt;/code&gt;æ¢¯å­ä½ æ‡‚å¾—ï¼Œåœ¨å¤§é™†ç¼–ç¨‹ï¼Œæˆ‘è§‰å¾—ç¨‹åºå‘˜ç¬¬ä¸€ä»¶äº‹å°±æ˜¯è¦è§£å†³ç½‘ç»œé—®é¢˜ï¼Œæˆ‘æ„Ÿè§‰&lt;code&gt;80%&lt;/code&gt;é—®é¢˜éƒ½æ˜¯ç½‘ç»œå¼•èµ·çš„é—®é¢˜ã€‚ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. ä¸‹è½½å’Œé…ç½®ä¸»é¢˜ï¼Œé¦–å…ˆå»è®¾ç½®èƒŒæ™¯é¢œè‰²ï¼Œä½ç½®åœ¨ &lt;code&gt;iTerm2 -&amp;gt; Preferences -&amp;gt; Profiles -&amp;gt; Terminalã€‚&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gy5dqmzed3j31920u0tct.jpg&#34; 
    alt=&#34;ç»ˆç«¯é¢œè‰²é…ç½®ä¸º xterm-256color&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;æŠŠé…è‰²è®¾ç½®ä¸º&lt;code&gt;xterm-256color&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3. è™½ç„¶ &lt;code&gt;iTerm2&lt;/code&gt; æœ‰ &lt;code&gt;7 &lt;/code&gt;ç§è‡ªå¸¦çš„é…è‰²ï¼Œåƒæˆ‘è¿™ç§å¯¹é¢œå€¼è¦æ±‚é«˜çš„ï¼Œè‚¯å®šæ˜¯æ»¡è¶³ä¸äº†æˆ‘éœ€æ±‚äº†ï¼Œæ—¢ç„¶æœ‰åƒæˆ‘è¿™ç§æœ‰éœ€æ±‚çš„ï¼Œé‚£è‚¯å®šæœ‰äººæä¾›è¿™ç§é«˜é¢œå€¼çš„ä¸»é¢˜ï¼Œäºæ˜¯æœ‰å¤§ç¥åœ¨&lt;code&gt;GitHub&lt;/code&gt;å¼€æºäº†ä¸€ä¸ªä»“åº“&lt;code&gt;https://github.com/mbadolato/iTerm2-Color-Schemes&lt;/code&gt;ï¼Œé‡Œé¢æ”¶å½•å„ç§ä¸»é¢˜é…è‰²æ–¹æ¡ˆã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡ç»ˆç«¯å›åˆ°ä½ ç”¨æˆ·æ ¹ç›®å½•ï¼Œæ‰§è¡Œä¸‹é¢å‘½ä»¤ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;mkdir ~/.iterm2 &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; ~/.iterm2

git clone https://github.com/mbadolato/iTerm2-Color-Schemes
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gy5e4fvxz9j316e0u043f.jpg&#34; 
    alt=&#34;ä¸»é¢˜ç›®å½•&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åå¯¼å…¥ä¸»é¢˜åˆ°ä½ ç»ˆç«¯é‡Œé¢ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gy5e5vj92xj31750u0q67.jpg&#34; 
    alt=&#34;é€‰æ‹©ä½ åˆšåˆšé‚£ä¸ªç›®å½•&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;é€‰æ‹© &lt;code&gt;schemes&lt;/code&gt; æ–‡ä»¶å¤¹å†…çš„æ‰€æœ‰é…è‰²æ–¹æ¡ˆï¼š&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gy5e6n39cpj318e0owdiv.jpg&#34; 
    alt=&#34;é€‰æ‹© schemes æ–‡ä»¶å¤¹å†…çš„æ‰€æœ‰é…è‰²æ–¹æ¡ˆ&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åæ ¹æ®è‡ªå·±å–œæ¬¢çš„é€‰æ‹©è‡ªå·±çš„é…è‰²æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;h2 id=&#34;å®‰è£…å­—ä½“&#34;&gt;
    &lt;a href=&#34;#%e5%ae%89%e8%a3%85%e5%ad%97%e4%bd%93&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å®‰è£…å­—ä½“
&lt;/h2&gt;
&lt;p&gt;å…‰æœ‰å¥½é…è‰²ï¼Œè¿˜è¾¾ä¸åˆ°é«˜é¢œå€¼çš„æ•ˆæœï¼Œè¿˜éœ€è¦æ‰¾ä¸€æ¬¾å­—ä½“ï¼Œå¹¶ä¸”è¿™ä¸ªå­—ä½“è¦æ”¯æŒ&lt;code&gt;emoji&lt;/code&gt;ï¼Œè€Œè¿™äº›å›¾æ ‡å­—ä½“å…¶å®æ˜¯é &lt;code&gt;ASCII&lt;/code&gt; ç å­—ä½“ï¼Œåœ¨ &lt;code&gt;iTerm2&lt;/code&gt; ä¸­å¯ä»¥è¿›è¡Œé…ç½®ï¼Œæ‰€ä»¥å…ˆè¦å®‰è£…è¿™ä¸ªå­—ä½“ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªå­—ä½“é¡¹ç›®åœ°å€ï¼š&lt;code&gt;https://github.com/ryanoasis/nerd-fonts&lt;/code&gt;ï¼Œä½ å¯ä»¥çœ‹ç€è¯´æ˜è‡ªå·±é…ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;brew tap homebrew/cask-fonts

brew install --cask font-hack-nerd-font
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å®‰è£…å­—ä½“åŒæ ·æœ‰ç½‘ç»œé—®é¢˜ï¼Œå¤§å®¶è‡ªè¡Œè§£å†³å§ï¼Œå¦‚æœè¿™ä¸ªä½ éƒ½è§£å†³ä¸äº†ï¼Œæˆ‘è§‰å¾—ä½ ä¸é€‚åˆå†™ç¨‹åºã€‚&lt;/p&gt;
&lt;p&gt;å®‰è£…å¥½ä¹‹åï¼Œä½ éœ€è¦æ›´æ”¹ç»ˆç«¯é…ç½®ï¼Œåœ¨ &lt;code&gt;iTerm2 -&amp;gt; Preferences -&amp;gt; Profiles -&amp;gt; Text -&amp;gt; Font -&amp;gt; Change Font&lt;/code&gt; æ ä½ä¸­ï¼Œ&lt;code&gt;Text&lt;/code&gt; ä¸‹é¢å‹¾é€‰ &lt;code&gt;Use a different font for non-ASCII text&lt;/code&gt;ï¼Œç„¶ååœ¨ &lt;code&gt;Non-ASCII font&lt;/code&gt; ç‚¹å‡» &lt;code&gt;Change font&lt;/code&gt; ä¿®æ”¹ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gy5ezi0drrj31cn0u0wio.jpg&#34; 
    alt=&#34;é…ç½®å­—ä½“&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;é€‰æ‹©å¥½&lt;code&gt;hack-nerd-font&lt;/code&gt;å­—ä½“å³å¯ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å®‰è£…-zsh-å’Œ-oh-my-zsh&#34;&gt;
    &lt;a href=&#34;#%e5%ae%89%e8%a3%85-zsh-%e5%92%8c-oh-my-zsh&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å®‰è£… zsh å’Œ oh-my-zsh
&lt;/h2&gt;
&lt;p&gt;å®‰è£…&lt;code&gt;zsh&lt;/code&gt;å¾ˆå®¹æ˜“ä¸€æ¡å‘½ä»¤å³å¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;brew install zsh
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ç„¶åéœ€è¦æŠŠé»˜è®¤çš„&lt;code&gt;shell&lt;/code&gt;æ›´æ”¹æˆ&lt;code&gt;zsh&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;sudo sh -c &lt;span class=&#34;s2&#34;&gt;&amp;#34;echo &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;which zsh&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; &amp;gt;&amp;gt; /etc/shells&amp;#34;&lt;/span&gt;

chsh -s &lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;which zsh&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¸­é€”å¯èƒ½éœ€è¦å¯†ç ï¼Œä½ éœ€è¦è¾“å…¥ä½ çš„&lt;code&gt;root&lt;/code&gt;å¯†ç ï¼Œå‰©ä¸‹å°±æ˜¯å®‰è£…&lt;code&gt;oh-my-zsh&lt;/code&gt;ï¼Œå®ƒå¯ä»¥å¸®ä½ ç®¡ç†é…ç½®&lt;code&gt;zsh&lt;/code&gt;ï¼Œæ‰§è¡Œä¸‹é¢å‘½ä»¤ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;sh -c &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gy5fcm54gpj316e0u0jvo.jpg&#34; 
    alt=&#34;æˆ‘è¿™é‡Œå·²ç»å®‰è£…äº†ï¼Œå¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡æ‰§è¡Œå¯èƒ½ä¸æ˜¯è¿™æ ·çš„ï¼Œè‡ªå·±çœ‹æç¤ºä¿¡æ¯å®‰è£…&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;å®‰è£…å¥½ä¹‹åä¼šäº§ç”Ÿä¸€ä¸ªåä¸º&lt;code&gt;.zshrc&lt;/code&gt;çš„é…ç½®æ–‡ä»¶ï¼Œåœ¨ç”¨æˆ·å®¶ç›®å½•ä¸‹é¢ï¼Œæˆ‘ä»¬ä»¥åä¸»è¦å°±æ˜¯ä¿®æ”¹å®ƒäº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;è‡ªå®šä¹‰ä½ çš„ç»ˆç«¯&#34;&gt;
    &lt;a href=&#34;#%e8%87%aa%e5%ae%9a%e4%b9%89%e4%bd%a0%e7%9a%84%e7%bb%88%e7%ab%af&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    è‡ªå®šä¹‰ä½ çš„ç»ˆç«¯
&lt;/h2&gt;
&lt;p&gt;ä½ å¯ä»¥æ‰“å¼€ &lt;code&gt;~/.zshrc&lt;/code&gt; æ–‡ä»¶çœ‹çœ‹ï¼Œæœ‰ä¸€è¡Œ &lt;code&gt;ZSH_THEME=&amp;quot;robbyrussell&amp;quot; &lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gy5gx348aij316d0u0djr.jpg&#34; 
    alt=&#34;æˆ‘è¿™é‡Œå·²ç»æ›´æ”¹äº†é…ç½®&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä½¿ç”¨çš„ä¸»é¢˜æ˜¯&lt;code&gt;powerlevel9k&lt;/code&gt;ï¼Œè¿™ä¸ªé¡¹ç›®åœ°å€æ˜¯&lt;code&gt;https://github.com/Powerlevel9k/powerlevel9k&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ä½ åªéœ€è¦æŠŠè¿™ä¸ªä¸»é¢˜é¡¹ç›®ä¸‹è½½åˆ°æœ¬æœºï¼Œç„¶åé…ç½®åˆ°ä½ é…ç½®æ–‡ä»¶é‡Œé¢ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;git clone https://github.com/bhilburn/powerlevel9k.git ~/.oh-my-zsh/custom/themes/powerlevel9k
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ç„¶åæ”¹é…ç½®æ–‡ä»¶é‡Œé¢çš„ä¸»é¢˜ç›®å½•ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;nv&#34;&gt;ZSH_THEME&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;powerlevel9k/powerlevel9k&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä½ ä»¬å¯ä»¥è‡ªå®šä¹‰ï¼Œä½ åªéœ€è¦é…ç½®é…ç½®æ­£ç¡®å³å¯ï¼Œä½¿ç”¨ &lt;code&gt;source&lt;/code&gt; å‘½ä»¤ç”Ÿæ•ˆé…ç½®ï¼Œåˆ·æ–°ç¯å¢ƒå˜é‡ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;nb&#34;&gt;source&lt;/span&gt; ~/.zshrc
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gy5fpte0v9j316e0u078b.jpg&#34; 
    alt=&#34;é‡æ–°æ‰“å¼€ç»ˆç«¯ï¼Œä½ çš„æ•ˆæœå’Œæˆ‘è¿™ä¸ªå·®ä¸å¤š&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;è¿™è¿™é‡Œçš„èƒŒæ™¯é¢œè‰²ç”¨çš„æ˜¯&lt;code&gt;Dracula&lt;/code&gt;ï¼Œä½ éœ€è¦åœ¨é…ç½®é‡Œé¢è®¾ç½®ä¸€ä¸‹å³å¯ã€‚ä¸»é¢˜é…ç½®å¯ä»¥è‡ªå®šä¹‰çš„ï¼Œä¸€äº›é…ç½®å¯ä»¥æŸ¥çœ‹å®˜æ–¹ä»“åº“é‡Œé¢çš„é…ç½®æ•™ç¨‹è‡ªå®šä¹‰ä¸»é¢˜ï¼Œä»“åº“åœ°å€å¦‚ä¸‹ï¼š&lt;code&gt;https://github.com/Powerlevel9k/powerlevel9k&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;zsh-æ’ä»¶æ¨è&#34;&gt;
    &lt;a href=&#34;#zsh-%e6%8f%92%e4%bb%b6%e6%8e%a8%e8%8d%90&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    zsh æ’ä»¶æ¨è
&lt;/h2&gt;
&lt;p&gt;ä¸Šé¢é…ç½®å®Œæˆäº†ç»ˆç«¯ï¼Œåªèƒ½è¯´æ‰“é€ ä¸€ä¸ªæ¼‚äº®ç»ˆç«¯ï¼Œè¿˜æ²¡æœ‰å‘æŒ¥&lt;code&gt;zsh&lt;/code&gt;æ½œåŠ›ï¼Œ&lt;code&gt;zsh&lt;/code&gt;æœ‰å¾ˆå¤šæ’ä»¶ï¼Œå¤§å®¶å¯ä»¥è‡ªå®šä¹‰å®‰è£…å§ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;autojump&lt;/code&gt; è¿™ä¸ªæ’ä»¶ä¸»è¦å¸®åŠ©æˆ‘ä»¬è®°ä½ç›®å½•ï¼Œä¸€é”®ç›´è¾¾ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;zsh-syntax-highlighting&lt;/code&gt; è¾“å…¥æ­£ç¡®å‘½ä»¤å¯ä»¥é«˜äº®æ˜¾ç¤º&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;zsh-autosuggestions&lt;/code&gt; è¿™æ˜¯ä¸€ä¸ªç¥å¥‡çš„ç»ˆç«¯è‡ªåŠ¨æç¤ºæ’ä»¶ï¼Œå†å²å‘½ä»¤è®°å½•ï¼Œç±»ä¼¼äº&lt;code&gt;redis-cli&lt;/code&gt;ä¸€æ ·ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;colors&lt;/code&gt; æ˜¯æœ€ä¸»è¦çš„æ–‡ä»¶å¤¹&lt;code&gt;icon&lt;/code&gt;æ˜¾ç¤ºçš„æ’ä»¶ï¼Œé€šè¿‡&lt;code&gt;gem install colorls&lt;/code&gt;ï¼Œå³å¯ï¼&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¯èƒ½éœ€è¦å…¶ä»–æ’ä»¶ï¼Œå¤§å®¶è‡ªå·±å»æŸ¥æ‰¾å§ï¼Œ&lt;code&gt;good luck~&lt;/code&gt;ã€‚&lt;/p&gt;

    </description>
    </item>
    
    <item>
    <title>Linux File System Inode</title>
    <link>http://blog.ibyte.me/post/linux-file-system-inode/</link>
    <pubDate>Sun, 26 Dec 2021 22:18:31 +0800</pubDate>
    
    <guid>http://blog.ibyte.me/post/linux-file-system-inode/</guid>
    <description>
        &lt;h2 id=&#34;æ–‡ä»¶ç³»ç»Ÿ&#34;&gt;
    &lt;a href=&#34;#%e6%96%87%e4%bb%b6%e7%b3%bb%e7%bb%9f&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    æ–‡ä»¶ç³»ç»Ÿ
&lt;/h2&gt;
&lt;p&gt;ç°åœ¨è®¡ç®—æœºæ•°æ®å­˜å‚¨åŠŸèƒ½æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œå¤§å®¶çš„å›¾ç‰‡å’Œè§†é¢‘éƒ½æ˜¯æ•°æ®ï¼Œä½†æ˜¯è¿™äº›æ•°æ®æ˜¯æ€ä¹ˆä¿å­˜åœ¨ç¡¬ç›˜ä¸Šçš„å‘¢ï¼Ÿæˆ‘ä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰æƒ³è¿‡ï¼Ÿå­˜å‚¨ä»‹è´¨åˆ†ç±»æœ‰å¾ˆå¤šç§ï¼Œä¾‹å¦‚ï¼šæœºæ¢°ç¡¬ç›˜ã€å›ºæ€ç¡¬ç›˜ã€é—ªå­˜&amp;hellip;è¿™äº›éƒ½æ˜¯ç‰©ç†å­˜å‚¨ä»‹è´¨ï¼Œæ€ä¹ˆè®©æ•°æ®ä¿å­˜åœ¨é‡Œé¢ï¼Ÿä¸ä¸¢å¤±ï¼Ÿé‚£ä¹ˆå¤šæ•°æ®åˆæ˜¯æ€ä¹ˆåœ¨ç»„ç»‡èµ·æ¥ç®¡ç†çš„å‘¢ï¼Ÿè¿™æ—¶å°±è¦è¯´è¯´&lt;code&gt;æ–‡ä»¶ç³»ç»Ÿ&lt;/code&gt;äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gxqgs7d3svj30qq0z2jus.jpg&#34; 
    alt=&#34;ä¼ ç»Ÿå®å†…æ ¸ç³»ç»Ÿæ¶æ„&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;æ–‡ä»¶ç³»ç»Ÿ&lt;/code&gt;å°±æ˜¯æ“ä½œç³»ç»Ÿç»™æˆ‘ä»¬æŠ½è±¡ä¸€ç§&lt;code&gt;ä¸­é—´å±‚&lt;/code&gt;è®©æˆ‘ä»¬å’Œç‰©ç†ç£ç›˜å¯ä»¥æ‰“äº¤é“ï¼Œæ–‡ä»¶ç³»ç»Ÿå°±æ˜¯è´Ÿè´£æŠŠç”¨æˆ·çš„æ–‡ä»¶å­˜åˆ°ç£ç›˜ç¡¬ä»¶ä¸­ï¼Œå› ä¸ºå³ä½¿è®¡ç®—æœºæ–­ç”µäº†ï¼Œç£ç›˜é‡Œçš„æ•°æ®å¹¶ä¸ä¼šä¸¢å¤±ï¼Œæ‰€ä»¥å¯ä»¥æŒä¹…åŒ–çš„ä¿å­˜æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ€ä¹ˆå·¥ä½œçš„&#34;&gt;
    &lt;a href=&#34;#%e6%80%8e%e4%b9%88%e5%b7%a5%e4%bd%9c%e7%9a%84&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    æ€ä¹ˆå·¥ä½œçš„ï¼Ÿ
&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;æ–‡ä»¶ç³»ç»Ÿ&lt;/code&gt;æ€ä¹ˆå·¥ä½œçš„ï¼Ÿæ— è®ºåº•å±‚å­˜å‚¨ä»‹è´¨æ˜¯ç£ç›˜è¿˜æ˜¯&lt;code&gt;SSD&lt;/code&gt;ï¼Œéƒ½è¢«è¯¥å±‚æŠ½è±¡ä¸º&lt;code&gt; Block&lt;/code&gt; çš„æ¦‚å¿µã€‚æ–‡ä»¶ç³»ç»Ÿåœ¨åˆå§‹åŒ–æ—¶ï¼Œä¼šå…ˆåœ¨æŒ‚è½½çš„å—å­˜å‚¨ä¸Šçš„ç¬¬ä¸€ä¸ªä½ç½®åˆ›å»ºä¸€ä¸ª &lt;code&gt;Super Block&lt;/code&gt;ï¼Œæ–‡ä»¶åœ¨æŠ½è±¡ä¹‹å‰ï¼Œæ¯ä¸ªæ–‡ä»¶æ˜¯æœ‰å…ƒæ•°æ®ä¿¡æ¯çš„ï¼Œä¾‹å¦‚ï¼šæ–‡ä»¶åå­—ã€æ–‡ä»¶å¤§å°ã€åˆ›å»ºæ—¶é—´ã€è®¿é—®æ—¶é—´ã€å½’å±è€…ã€æ‰€åœ¨ç»„ç­‰&amp;hellip;æ„æˆå…ƒæ•°æ®ä¿¡æ¯ï¼Œå¥½æ¯”ç°å®ä¸­ä¸€æœ¬ä¹¦ï¼Œä¹¦çš„å„ç§ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Linux&lt;/code&gt; æœ€ç»å…¸çš„ä¸€å¥è¯æ˜¯ï¼š&lt;code&gt;ä¸€åˆ‡çš†æ–‡ä»¶!&lt;/code&gt;ï¼Œä¸ä»…æ™®é€šçš„æ–‡ä»¶å’Œç›®å½•ï¼Œå°±è¿å—è®¾å¤‡ã€ç®¡é“ã€&lt;code&gt;socket&lt;/code&gt; ç­‰ï¼Œä¹Ÿéƒ½æ˜¯ç»Ÿä¸€äº¤ç»™æ–‡ä»¶ç³»ç»Ÿç®¡ç†çš„ï¼Œä½†æ˜¯è¿™äº›ä¿¡æ¯è¦æ€ä¹ˆç»„ç»‡åˆ°ç£ç›˜ä¸Šï¼Œè€Œä¸”æ–‡ä»¶å¯èƒ½éšç€æ—¶é—´æ¨ç§»å¤§å°ä¹Ÿéšç€å˜åŒ–ï¼Œæ–‡ä»¶å¯èƒ½è¢«æ‹·è´åˆ°ä¸åŒç‰©ç†ä»‹è´¨ä¸Šï¼Œè¿™å°±ç»™æ–‡ä»¶ç³»ç»Ÿè®¾è®¡è€…å¸¦æ¥ä¸€ä¸ªå¤§é—®é¢˜ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gxqhgwkqzgj31mk0u0gwh.jpg&#34; 
    alt=&#34;Mac/Unix&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;æ–‡ä»¶ç³»ç»Ÿä¼šæŠŠåº•å±‚å­˜å‚¨çš„ç‰©ç†ç¡¬ç›˜è®¾å¤‡ï¼ŒæŠ½è±¡æˆå•å•å›ºå®šå¤§å°çš„å—ï¼Œå—åŒºï¼Œé‚£è¿™ä¹ˆå¤šå¿«å’Œåˆ†åŒºè¦æ€ä¹ˆç»„ç»‡å»ç®¡ç†ï¼Ÿåé¢å‡ºç°äº†ä¸€ç§åŸºäº&lt;code&gt;inode ç´¢å¼•èŠ‚ç‚¹&lt;/code&gt;çš„æ–‡ä»¶ç»„ç»‡ç®¡ç†æ–¹å¼ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ–‡ä»¶ç»„ç»‡ç®¡ç†æ–¹å¼&#34;&gt;
    &lt;a href=&#34;#%e6%96%87%e4%bb%b6%e7%bb%84%e7%bb%87%e7%ae%a1%e7%90%86%e6%96%b9%e5%bc%8f&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    æ–‡ä»¶ç»„ç»‡ç®¡ç†æ–¹å¼
&lt;/h2&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gxri322130j30o60c4t9f.jpg&#34; 
    alt=&#34;Sector&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;ç¡¬ä»¶ç£ç›˜ä¼šè¢«åˆ’åˆ†æˆå›ºå®šå¤§å°å—ï¼Œå­˜å‚¨å—å¤§å°å¯èƒ½æ˜¯&lt;code&gt;512å­—èŠ‚&lt;/code&gt;çš„&lt;code&gt;sector&lt;/code&gt;ç„¶å8ä¸ªç»„æˆä¸€ä¸ª&lt;code&gt;4KB&lt;/code&gt;çš„å—ï¼Œè¿™ä¸ªçœ‹å…·ä½“åˆ’åˆ†æ–¹å¼äº†ï¼Œæ–‡ä»¶ä¹Ÿæ˜¯å¯¹åº”çš„è¿™ä¹ˆåˆ’åˆ†å­˜å‚¨çš„ï¼Œè¿™ä¹ˆè®¾è®¡çš„æ—¶å€™é‚£å°±å¯ä»¥æŠŠæ¯ä¸ªå—åŠ ä¸Šå”¯ä¸€ç¼–å·ï¼Œä¹Ÿå¯ä»¥çœ‹æˆæ–‡ä»¶çš„&lt;code&gt;åå­—&lt;/code&gt;ï¼Œç„¶åæŠŠå—å»ºç«‹ä¸€ä¸ªç´¢å¼•ï¼Œä½†æ˜¯å¤§éƒ¨åˆ†å­˜å‚¨æ–‡ä»¶çš„éƒ½æ˜¯ä»¥&lt;code&gt;mb&lt;/code&gt;ä½œä¸ºå•ä½çš„ï¼Œä¾‹å¦‚ï¼šä¸€éƒ¨ç”µå½±å¯èƒ½æœ‰&lt;code&gt;4GB&lt;/code&gt;å¤§å°ï¼Œè¿™å°±ç»™å¿«å­˜å‚¨è®¾è®¡å¸¦æ¥è®¾è®¡æŒ‘æˆ˜ï¼Œä¸€ä¸ª&lt;code&gt;4GB&lt;/code&gt;çš„ç”µå½±å°±éœ€è¦&lt;code&gt;100&lt;/code&gt;ä¸‡ä¸ª&lt;code&gt;4kb&lt;/code&gt;çš„å—ï¼Œä½†æ˜¯æ¯ä¸ªå—ä¸Šè¿˜æœ‰ä¸€ä¸ªå”¯ä¸€çš„æ–‡ä»¶åç§°æˆ–è€…ç¼–å·ï¼Œéœ€è¦å ç”¨&lt;code&gt;8&lt;/code&gt;å­—èŠ‚çš„ç©ºé—´ï¼Œè¿™ä¹ˆä¸€æé‚£ä¹ˆå°±éœ€è¦å¦å¤–çš„&lt;code&gt;8mb&lt;/code&gt;è®°å½•ï¼Œåˆå¸¦äº†æ¥è¿™æ ·çš„é—®é¢˜ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gxrf6mm4tej30jw0i8gly.jpg&#34; 
    alt=&#34;ä¸€ä¸ª4gbçš„ç”µå½±å¯èƒ½æœ‰å¾ˆå¤šä¸ª4kbçš„å—ç»„æˆ&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;æœ‰äº†è¿™äº›é—®é¢˜ï¼Œæ–‡ä»¶ç³»ç»Ÿè®¾è®¡è€…å¼•å…¥ä¸€ä¸ªå«&lt;code&gt;index node&lt;/code&gt;çš„æ•°æ®ç»“æ„ï¼Œæ–‡ä»¶æ•°æ®è¢«å­˜å‚¨ä¸åŒå—é‡Œé¢ï¼Œæ–‡ä»¶çš„å…ƒæ•°æ®ä¿¡æ¯å°±ä¼šè¢«å­˜å‚¨åœ¨&lt;code&gt;inode&lt;/code&gt;é‡Œé¢ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gxric8yj52j31ew0e042e.jpg&#34; 
    alt=&#34;Linux ä¸­çš„æ–‡ä»¶å…ƒæ•°æ®&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;inode&lt;/code&gt;ä¼šè¢«å­˜å‚¨åœ¨&lt;code&gt;inode table&lt;/code&gt;é‡Œé¢çš„ï¼Œ&lt;code&gt;inode&lt;/code&gt;ä¹Ÿå°±æ˜¯&lt;code&gt;inode table&lt;/code&gt;é‡Œé¢æ¡ç›®ï¼Œ&lt;code&gt;inode table&lt;/code&gt; åŒ…å«è¯¥æ–‡ä»¶ç³»ç»Ÿä¸­æ‰€æœ‰æ–‡ä»¶çš„åˆ—è¡¨ï¼Œ&lt;code&gt;inode table&lt;/code&gt; ä¸­çš„å„ä¸ª &lt;code&gt;inode&lt;/code&gt; é¡¹å…·æœ‰å”¯ä¸€çš„ç¼–å·ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gxrir6neurj30ku066q3i.jpg&#34; 
    alt=&#34;inode table&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;inode table&lt;/code&gt;è®°å½•è¿™ä¸ª&lt;code&gt;inode number&lt;/code&gt;å¯¹åº”æ–‡ä»¶æ‰€å¯¹åº”çš„&lt;code&gt;metadata&lt;/code&gt;ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºğŸ‘†ğŸ»ï¼Œè¿™æ ·æˆ‘ä»¬å°±æ–¹ä¾¿ç®¡ç†æ–‡ä»¶å…ƒæ•°æ®äº†ï¼Œæ¯ä¸ª &lt;code&gt;inode&lt;/code&gt; éƒ½æœ‰ä¸€ä¸ªå·ç ï¼Œæ“ä½œç³»ç»Ÿç”¨ &lt;code&gt;inode&lt;/code&gt; å·ç æ¥è¯†åˆ«ä¸åŒçš„æ–‡ä»¶ï¼Œè¿™é‡Œå€¼å¾—é‡å¤ä¸€éï¼Œ&lt;code&gt;Unix/Linux&lt;/code&gt; ç³»ç»Ÿå†…éƒ¨ä¸ä½¿ç”¨æ–‡ä»¶åï¼Œè€Œä½¿ç”¨ &lt;code&gt;inode&lt;/code&gt; å·ç æ¥è¯†åˆ«æ–‡ä»¶ã€‚å¯¹äºç³»ç»Ÿæ¥è¯´ï¼Œæ–‡ä»¶ååªæ˜¯ &lt;code&gt;inode&lt;/code&gt; å·ç ä¾¿äºè¯†åˆ«çš„åˆ«ç§°ä¸€æ ·ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gxrju656f5j30yg048jru.jpg&#34; 
    alt=&#34;linux ä¸‹æŸ¥çœ‹æ–‡ä»¶å¯¹åº”çš„inode number&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬åœ¨ç³»ç»Ÿè°ƒç”¨çš„æ—¶å€™ï¼Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿå®é™…ä¸Šï¼Œç³»ç»Ÿå†…éƒ¨å°†è¿™ä¸ªè¿‡ç¨‹åˆ†æˆä¸‰æ­¥ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç³»ç»Ÿæ‰¾åˆ°æ–‡ä»¶åå¯¹åº”çš„ &lt;code&gt;inode number&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;é€šè¿‡ &lt;code&gt;inode number&lt;/code&gt;ï¼Œè·å– &lt;code&gt;inode&lt;/code&gt; ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;æ ¹æ® &lt;code&gt;inode&lt;/code&gt; ä¿¡æ¯ï¼Œæ‰¾åˆ°æ–‡ä»¶æ•°æ®æ‰€åœ¨çš„ &lt;code&gt;block&lt;/code&gt;ï¼Œè¯»å†™æ•°æ®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;inode-æ€ä¹ˆå·¥ä½œçš„&#34;&gt;
    &lt;a href=&#34;#inode-%e6%80%8e%e4%b9%88%e5%b7%a5%e4%bd%9c%e7%9a%84&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    inode æ€ä¹ˆå·¥ä½œçš„ï¼Ÿ
&lt;/h2&gt;
&lt;p&gt;é€šè¿‡ä¸Šé¢çš„äº†è§£ï¼Œå¾—çŸ¥äº†æ¯ä¸ªæ–‡ä»¶éƒ½å¯¹åº”ä¸€ä¸ª&lt;code&gt;inode&lt;/code&gt;ï¼Œç„¶åç®¡ç†æ–‡ä»¶çš„æ—¶å€™æŠŠæ‰€æœ‰æ–‡ä»¶å—å­˜å‚¨åœ¨&lt;code&gt;inode&lt;/code&gt;é‡Œé¢ä½†æ˜¯è¿™ç§ä¸æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œéšç€æ—¶é—´æ–‡ä»¶ä¸æ–­åŠ å¤§ï¼Œ&lt;code&gt;inode&lt;/code&gt;å°±è¦åœ¨åˆ›å»ºçš„æ—¶å€™å°±é¢„ç•™è¶³å¤Ÿå¥½çš„ç©ºé—´ï¼Œæ‰èƒ½ä¿è¯åé¢æ–‡ä»¶çš„å„ç§å˜åŒ–ï¼Œä¾‹å¦‚æˆ‘æœªæ¥å­˜å‚¨æ–‡ä»¶æ˜¯&lt;code&gt;4GB&lt;/code&gt;ï¼Œæˆ‘ç°åœ¨å°±è¦å»æŠŠ&lt;code&gt;inode&lt;/code&gt;å ç”¨å¤§å°è®¾ç½®ä¸º&lt;code&gt;8mb&lt;/code&gt;æ˜¾ç„¶è¿™ä¸ªä¸èƒ½å……åˆ†å‘æŒ¥ç£ç›˜åˆ©ç”¨ç‡ã€‚å¦‚æœ&lt;code&gt;inode&lt;/code&gt;åˆ†é…å°äº†ï¼Œæœªæ¥æ–‡ä»¶å˜å¤§äº†ï¼Œ&lt;code&gt;inode&lt;/code&gt;ä¸å¤Ÿç”¨ï¼Œå„ç§é—®é¢˜ã€‚ã€‚ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gxrjnpcqhuj311p0u0jsj.jpg&#34; 
    alt=&#34;éšç€æ—¶é—´å˜åŒ–&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Linux&lt;/code&gt;ç³»ç»Ÿä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¼•å…¥å’Œè™šæ‹Ÿå†…å­˜çš„é‚£ç§æ¦‚å¿µï¼ŒæŠŠ&lt;code&gt;inode&lt;/code&gt;é€šè¿‡é‡‡ç”¨åˆ†çº§çš„æ–¹å¼æ¥ç»„ç»‡å­˜å‚¨å—å·ï¼Œ&lt;code&gt;inode&lt;/code&gt;ä¸ºäº†è§£å†³æ•°æ®å˜åŒ–é—®é¢˜ï¼Œå®ƒå¼•å…¥äº†&lt;code&gt;3ä¸ªå­˜å‚¨æŒ‡é’ˆè®¾è®¡&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gxrk9tfvhhj314d0u0q5h.jpg&#34; 
    alt=&#34;ç»“æ„ä½“&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;inode&lt;/code&gt;ä¸­ä¿å­˜äº†&lt;code&gt;3&lt;/code&gt;ç§æŒ‡é’ˆï¼Œ&lt;code&gt;inode&lt;/code&gt;æœ‰&lt;code&gt;12&lt;/code&gt;ä¸ªç›´æ¥æŒ‡é’ˆï¼Œé—´æ¥æŒ‡é’ˆæœ‰&lt;code&gt;3&lt;/code&gt;ï¼ŒäºŒçº§æŒ‡é’ˆå°±&lt;code&gt;1&lt;/code&gt;ä¸ªï¼Œå¯ä»¥å­˜å‚¨è®¾å¤‡çš„å—å·ï¼Œç¬¬ä¸€ä¸ªæŒ‡é’ˆä¸ºç›´æ¥æŒ‡é’ˆå¯ä»¥ç›´æ¥æŒ‡å‘æ•°æ®å—æœ¬èº«ï¼Œæ•°æ®å—å°±æ˜¯ä¿å­˜æ•°æ®çš„å—ï¼Œç¬¬äºŒé’ˆæŒ‡é’ˆæ˜¯&lt;code&gt;é—´æ¥æŒ‡é’ˆ&lt;/code&gt;ï¼Œ&lt;code&gt;é—´æ¥æŒ‡é’ˆ&lt;/code&gt;æ˜¯åœ¨å‰é¢çš„æŒ‡é’ˆæŒ‡é’ˆä¸å¤Ÿçš„æ—¶å€™æ‰ä¼šå¯ç”¨ï¼Œ&lt;code&gt;é—´æ¥æŒ‡é’ˆ&lt;/code&gt;å¯ä»¥çœ‹æˆé“¾è¡¨é‚£æ ·ï¼Œ&lt;code&gt;é—´æ¥æŒ‡é’ˆ&lt;/code&gt;ä¼šæŒ‡å‘ä¸€ä¸ªä¸€ä¸ªçº§ç´¢å¼•å—ï¼Œè¿™å—æœ¬èº«åˆæ˜¯ä¸€ä¸ªæ•°æ®å—çš„æŒ‡é’ˆä¹Ÿæ˜¯åªæ˜¯æŒ‡å‘å­˜å‚¨æ•°æ®å—ï¼Œç¬¬&lt;code&gt;3&lt;/code&gt;ç±»æŒ‡é’ˆï¼ŒæŒ‡å‘ä¸€ä¸ªäºŒçº§ç´¢å¼•å—ï¼ŒäºŒçº§ç´¢å¼•å—çš„æŒ‡é’ˆè¿˜å¯ä»¥æŒ‡å‘æ–°çš„ç´¢å¼•å—ï¼Œè¿™æ ·ä¸€æ¥å°±å¯ä»¥åŠ¨æ€åˆ’åˆ†&lt;code&gt;INODE&lt;/code&gt;äº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å°ç»“&#34;&gt;
    &lt;a href=&#34;#%e5%b0%8f%e7%bb%93&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å°ç»“
&lt;/h2&gt;
&lt;p&gt;å¾ˆå¤šçœ‹å®Œè¯´è¿™ä¸ªæœ‰ä»€ä¹ˆç”¨ï¼Ÿå¦‚æœä¸åšç³»ç»Ÿåº•å±‚çš„å¼€å‘çš„è¯ï¼Œå¦‚æœä½ è¿™ä¹ˆæƒ³ï¼Œæˆ‘åªæ˜¯è§‰å¾—ä½ å¾ˆè‚¤æµ…ï¼ğŸ˜’ï¼Œçœ‹å®Œ&lt;code&gt;inode&lt;/code&gt;çš„è®¾è®¡é©¬ä¸Šå°±å¯ä»¥è”æƒ³åˆ°ä¸€ä¸ªåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿé›å½¢ï¼Œæœ‰æ—¶å€™è¦æ‡‚å¾—å˜é€šçš„ã€‚ä¾‹å¦‚&lt;code&gt;Google çš„GFS&lt;/code&gt;ç³»ç»Ÿï¼Œå½“ç„¶æ®æˆ‘æ‰€çŸ¥&lt;code&gt;gfs&lt;/code&gt;å·²ç»æ²¡æœ‰ä½¿ç”¨äº†ï¼Œå–ä»£&lt;code&gt;gfs&lt;/code&gt;æ˜¯ä¸€ä¸ªæ¬¾æ–°çš„å«&lt;code&gt;Colossus&lt;/code&gt;ç³»ç»Ÿï¼Œè¿™ä¸ªç³»ç»Ÿç›®å‰è®¾è®¡ç»†èŠ‚æ²¡æœ‰å…¬å¼€ï¼Œä½†æ˜¯æˆ‘çœ‹åˆ°æœ‰&lt;code&gt;cmu&lt;/code&gt;çš„æœ‹å‹è¯´&lt;code&gt;Google Infra Team&lt;/code&gt;çš„&lt;code&gt;Larry Greenfield&lt;/code&gt;çš„ä¸€ä¸ª&lt;code&gt;Lecture&lt;/code&gt;å…¶ä¸­ä»‹ç»äº†&lt;code&gt;Larry&lt;/code&gt;å¯¹&lt;code&gt;GFS&lt;/code&gt;çš„è®¾è®¡åˆè¡·ç†å¿µã€ä¼˜åŠ£åŠ¿ã€ç“¶é¢ˆã€æ”¹è¿›ï¼Œç„¶åç ”å‘äº†ç°å½¹ç³»ç»Ÿ&lt;code&gt;Colossus (GFS2)&lt;/code&gt;ç³»ç»Ÿï¼Œå½“ç„¶æ“ä½œç³»ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿè®¾è®¡ç»†èŠ‚è¿œè¿œä¸æ­¢æœ¬æ–‡æ‰€è®²çš„&lt;code&gt;inode&lt;/code&gt;ï¼Œä½†æ˜¯&lt;code&gt;inode&lt;/code&gt;å¯¹ç»„ç»‡ç®¡ç†æ–‡ä»¶èµ·åˆ°äº†å¾ˆå¤§ä½œç”¨ï¼Œå¸Œæœ›è¯»è¯»è€…æœ‰å¸®åŠ©å§ï¼Œæˆ‘ä¹Ÿæ˜¯ä¸ªäººç¬”è®°åˆ†äº«ã€‚&lt;/p&gt;

    </description>
    </item>
    
    <item>
    <title>Bigcache Golang Garbage Collection</title>
    <link>http://blog.ibyte.me/post/bigcache-golang-garbage-collection/</link>
    <pubDate>Fri, 24 Dec 2021 20:39:56 +0800</pubDate>
    
    <guid>http://blog.ibyte.me/post/bigcache-golang-garbage-collection/</guid>
    <description>
        &lt;h2 id=&#34;ä¸ºä»€ä¹ˆæœ‰è¿™ç¯‡æ–‡ç« &#34;&gt;
    &lt;a href=&#34;#%e4%b8%ba%e4%bb%80%e4%b9%88%e6%9c%89%e8%bf%99%e7%af%87%e6%96%87%e7%ab%a0&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    ä¸ºä»€ä¹ˆæœ‰è¿™ç¯‡æ–‡ç« 
&lt;/h2&gt;
&lt;p&gt;æŸä¸€å¤©åœ¨ç¾¤é‡Œæ‘¸é±¼çš„æ—¶å€™ï¼Œçœ‹åˆ°ç¾¤é‡Œæœ‰äººé—®&lt;code&gt;go map&lt;/code&gt;çš„ç©ºé—´å›æ”¶é—®é¢˜ï¼ŒæŠŠæˆªå›¾è´´ä¸Šå§ï¼š
&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gxcbagpu0lj30nw15e42j.jpg&#34; 
    alt=&#34;ä¸€ä¸ªç¾¤å‹è¯´mapçš„valueä¸æ˜¯çœŸæ­£æ„ä¹‰ä¸Šåˆ é™¤&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;å…¶å®ä¸€ä½ç¾¤å‹å‘å‡ºçš„é—®é¢˜å¼•èµ·äº†æˆ‘æ³¨æ„ï¼Œä»–çš„é—®é¢˜æ˜¯ï¼š&lt;code&gt;go&lt;/code&gt;çš„&lt;code&gt;map&lt;/code&gt;çš„å€¼è°ƒç”¨äº†&lt;code&gt;delete&lt;/code&gt;å‡½æ•°æ˜¯ä¸æ˜¯ä¸ä¼šç«‹å³åˆ é™¤ï¼Ÿå½“ç„¶è¿™ä¸ªé—®é¢˜å¦‚æœç ”ç©¶è¿‡æˆ–è€…æ·±å…¥&lt;code&gt;go&lt;/code&gt;çš„å†…å­˜åˆ†é…æˆ–è€…è¯´æœ‰äº†è§£è¿‡&lt;code&gt;go&lt;/code&gt;çš„&lt;code&gt;gc&lt;/code&gt;åº”è¯¥çŸ¥é“ï¼Œè¿™ä¸ªé—®é¢˜ç­”æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å…³äºæ˜¯&lt;code&gt;åˆ†æ®µé”&lt;/code&gt;çš„åº”ç”¨å’Œæ€ä¹ˆå»ä¼˜åŒ–&lt;code&gt;gc&lt;/code&gt;å¸¦æ¥çš„å½±å“ï¼Œæœ‰ä¸€ä¸ªå¼€æºé¡¹ç›®&lt;code&gt;bigcache&lt;/code&gt;åœ¨è¿™æ–¹é¢åšçš„æ¯”è¾ƒå¥½ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&#34;bigcacheçš„è®¾è®¡&#34;&gt;
    &lt;a href=&#34;#bigcache%e7%9a%84%e8%ae%be%e8%ae%a1&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    BigCacheçš„è®¾è®¡
&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;å®˜æ–¹ä½œè€…ä»‹ç»ï¼šå¿«é€Ÿï¼Œå¹¶å‘ï¼ŒåŸºäºå†…å­˜çš„ç¼“å­˜åº“ï¼Œç”±äºæ˜¯åµŒå…¥å¼åº“ä¹Ÿçœå»äº†ç½‘ç»œä¸Šçš„å¼€é”€ï¼Œå®Œå…¨åŸºäºæœ¬åœ°å†…å­˜ï¼Œèƒ½ä¿å­˜å¤§é‡æ•°æ®é¡¹çš„åŒæ—¶å¹¶ä¸”å¯¹&lt;code&gt;go&lt;/code&gt;è¯­è¨€çš„&lt;code&gt;garbage collection&lt;/code&gt;è¿›è¡Œäº†ä¼˜åŒ–ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¯¹å¹¶å‘é”çš„é¢—ç²’åº¦å‡å°ï¼Œå¹¶ä¸”å¯¹&lt;code&gt;gc&lt;/code&gt;ä¼˜åŒ–å®ƒæ€ä¹ˆåšçš„ï¼Ÿ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åˆ†æ®µé”&lt;/li&gt;
&lt;li&gt;æ•°æ®äºŒè¿›åˆ¶å­˜å‚¨ï¼Œé¿å…è®©&lt;code&gt;gc&lt;/code&gt;å»åµŒå¥—æ‰«æ&lt;/li&gt;
&lt;li&gt;åŠ é€Ÿå¹¶å‘è®¿é—®&lt;/li&gt;
&lt;li&gt;é¿å…é«˜é¢çš„&lt;code&gt;GC&lt;/code&gt;å¼€é”€&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å®˜æ–¹åœ¨ä»–ä»¬&lt;code&gt;blog&lt;/code&gt;ä¸Šåˆ—å‡ºäº†ï¼Œä»–ä»¬å½“æ—¶å†™è¿™ä¸ªåº“çš„éœ€æ±‚ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¤„ç†&lt;code&gt;10k rps&lt;/code&gt; (å†™5000ï¼Œè¯»5000)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cache&lt;/code&gt;å¯¹è±¡è‡³å°‘å­˜æ´»&lt;code&gt;10&lt;/code&gt;åˆ†é’Ÿ&lt;/li&gt;
&lt;li&gt;æ›´å¿«çš„å“åº”æ—¶é—´&lt;/li&gt;
&lt;li&gt;&lt;code&gt;POST&lt;/code&gt;è¯·æ±‚çš„æ¯æ¡ &lt;code&gt;JSON&lt;/code&gt; æ¶ˆæ¯,ä¸€æœ‰å«æœ‰&lt;code&gt;ID&lt;/code&gt;ï¼ŒäºŒä¸å¤§äº&lt;code&gt;500&lt;/code&gt;å­—èŠ‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;POST&lt;/code&gt;è¯·æ±‚æ·»åŠ ç¼“å­˜åï¼Œ&lt;code&gt;GET&lt;/code&gt;èƒ½è·å–åˆ°æœ€æ–°ç»“æœ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Go map çš„é—®é¢˜&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘åœ¨ç½‘ä¸Šçœ‹åˆ°èµ„æ–™æœ‰æåˆ°ä¸€ä¸ªé—®é¢˜ï¼š&lt;a href=&#34;https://github.com/golang/go/issues/9477&#34;&gt;https://github.com/golang/go/issues/9477&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gxc8j0mmoxj312u0u0n2y.jpg&#34; 
    alt=&#34;é—®é¢˜&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;å¤§è‡´çœ‹äº†ä¸€ä¸‹è¿™ä¸ªè¯´äº†é—®é¢˜å°±æ˜¯ï¼Œ&lt;code&gt;Go 1.3&lt;/code&gt;å’Œ&lt;code&gt;1.4RC1&lt;/code&gt;åƒåœ¾å›æ”¶åœ¨æ‰«æä¸€ä¸ªå¤§çš„&lt;code&gt;map&lt;/code&gt;æ—¶éœ€è¦&lt;code&gt;50-70ms&lt;/code&gt;æ—¶é—´ï¼Œé—®å®˜æ–¹æ€ä¹ˆèƒ½æœ‰ä»€ä¹ˆåŠæ³•å‡å°è¿™ä¸ªæ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶å&lt;code&gt;1.5&lt;/code&gt;ç‰ˆæœ¬ï¼Œå¦‚æœ &lt;code&gt;map&lt;/code&gt; çš„ &lt;code&gt;key&lt;/code&gt; æˆ– &lt;code&gt;value&lt;/code&gt; ä¸­éƒ½ä¸å«æŒ‡é’ˆï¼Œ &lt;code&gt;GC&lt;/code&gt; ä¾¿ä¼šå¿½ç•¥è¿™ä¸ª &lt;code&gt;map&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸»è¦çš„ä¹Ÿå°±ä¸¤ä¸ªç»“æ„ä½“&lt;code&gt;cache&lt;/code&gt;å’Œ&lt;code&gt;cacheShard&lt;/code&gt;:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;cache&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;shards&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;cacheShard&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// å—map è§£å†³å¹¶å‘é”é¢—ç²’åº¦é—®é¢˜
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;hash&lt;/span&gt;   &lt;span class=&#34;nx&#34;&gt;fnv64a&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// å“ˆå¸Œå‡½æ•°
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æºç ä¸­çš„å“ˆå¸Œå‡½æ•°ç”¨çš„æ˜¯&lt;code&gt;fnv64a&lt;/code&gt;ç®—æ³•ï¼Œè¿™ä¸ªç®—æ³•çš„å¥½å¤„æ˜¯é‡‡ç”¨ä½è¿ç®—çš„æ–¹å¼åœ¨æ ˆä¸Šè¿›è¡Œè¿ç®—ï¼Œé¿å…åœ¨å †ä¸Šåˆ†é…ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gxc98y338qj31et0u0dkf.jpg&#34; 
    alt=&#34;&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;shards&lt;/code&gt;ç”¨æ¥ä¿å­˜&lt;code&gt;cacheShard&lt;/code&gt;çš„ï¼Œè€Œ&lt;code&gt;cacheShard&lt;/code&gt;ä¹Ÿå°±æ˜¯å…·ä½“å­˜å‚¨æ•°æ®çš„ç¼“å­˜å—ï¼Œ&lt;code&gt;hash&lt;/code&gt;ä¼šå¯¹è¾“å…¥çš„&lt;code&gt;key&lt;/code&gt;è¿›è¡Œè®¡ç®—å¾—åˆ°&lt;code&gt;cacheShard&lt;/code&gt;åæ ‡æ‹¿åˆ°å…·ä½“çš„&lt;code&gt;cacheShard&lt;/code&gt;ï¼Œæ¯ä¸ª&lt;code&gt;cacheShard&lt;/code&gt;éƒ½æœ‰è‡ªå·±çš„é”æ‰€ä»¥æ‰èƒ½ä¿è¯å°é”é¢—ç²’åº¦ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;cacheShard&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;hashmap&lt;/span&gt;     &lt;span class=&#34;kd&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;uint64&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;uint32&lt;/span&gt;	&lt;span class=&#34;c1&#34;&gt;// å¤–éƒ¨ç´¢å¼•
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;entries&lt;/span&gt;     &lt;span class=&#34;nx&#34;&gt;queue&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;BytesQueue&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// å­˜å‚¨åºåˆ—åŒ–ä¹Ÿå°±æ˜¯byteå½¢å¼å­˜å‚¨çš„æ•°æ®
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;lock&lt;/span&gt;        &lt;span class=&#34;nx&#34;&gt;sync&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;RWMutex&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// å•ä¸ªé”
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;entryBuffer&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;byte&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;onRemove&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;onRemoveCallback&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// ç§»é™¤å›è°ƒå‡½æ•°
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;isVerbose&lt;/span&gt;    &lt;span class=&#34;kt&#34;&gt;bool&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;statsEnabled&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;bool&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;logger&lt;/span&gt;       &lt;span class=&#34;nx&#34;&gt;Logger&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;clock&lt;/span&gt;        &lt;span class=&#34;nx&#34;&gt;clock&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;lifeWindow&lt;/span&gt;   &lt;span class=&#34;kt&#34;&gt;uint64&lt;/span&gt;

    &lt;span class=&#34;nx&#34;&gt;hashmapStats&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;uint64&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;uint32&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;stats&lt;/span&gt;        &lt;span class=&#34;nx&#34;&gt;Stats&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;cacheShard&lt;/code&gt; ä¸­çš„&lt;code&gt;hashmap&lt;/code&gt;ç»“æ„çš„ç±»å‹&lt;code&gt;map[uint64]uint32&lt;/code&gt;ï¼Œå®Œå…¨å’Œ&lt;code&gt;key&lt;/code&gt;ä½¿ç”¨çš„&lt;code&gt;string&lt;/code&gt; æ‰¯ä¸ä¸Šå…³ç³»ï¼Œæœ‰ç»éªŒçš„è€å¸æœºä¸€çœ¼å°±çœ‹å‡ºè¿™å…¶å®æ˜¯ä¸ªç´¢å¼•ï¼Œ&lt;code&gt;uint64&lt;/code&gt;å­˜å‚¨çš„å¤–éƒ¨é”®çš„å“ˆå¸Œå€¼ï¼Œè€Œåé¢çš„&lt;code&gt;uint32&lt;/code&gt;ç”¨å¤„æ˜¯å­˜å‚¨å€¼çš„ä½ç½®ï¼Œè€ŒçœŸæ­£çš„æ•°æ®å­˜å‚¨åœ¨&lt;code&gt;BytesQueue&lt;/code&gt;ä¸­ï¼Œé€šè¿‡å¤–éƒ¨ç´¢å¼•çš„å€¼&lt;code&gt;uint32&lt;/code&gt;ç±»å‹æ¥è·å–é‡Œé¢çš„å€¼æ‰€åœ¨çš„ä½ç½®ç´¢å¼•ï¼Œè€Œ&lt;code&gt;BytesQueue&lt;/code&gt;åˆæ˜¯ç»è¿‡äºŒè¿›åˆ¶åºåˆ—åŒ–çš„æ•°æ®ï¼Œå–çš„æ—¶å€™æä¾›å¤–éƒ¨ç´¢å¼•å¾—åˆ°åæ ‡å–å€¼ï¼Œæœ€ä¸ºå¦™å¤„çš„è®¾è®¡å°±æ˜¯å¤–éƒ¨ç´¢å¼•ä¸å­˜å‚¨æŒ‡é’ˆï¼Œä¹Ÿä¸å­˜å‚¨ç¬¦åˆç»“æ„ï¼Œä½¿å¾— &lt;code&gt;garbage collection&lt;/code&gt;çš„å½±å“é™åˆ°æœ€å°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gxc9jgne0mj32580s4adf.jpg&#34; 
    alt=&#34;BytesQueue&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;BytesQueue&lt;/code&gt;ç»“æ„ä½“ä¸­çš„&lt;code&gt;array&lt;/code&gt;æ˜¯å­˜å‚¨ä¸»è¦æ•°æ®çš„&lt;code&gt;byte&lt;/code&gt;æ•°ç»„ï¼Œ&lt;code&gt;capacity&lt;/code&gt;æ˜¯ä½¿ç”¨å®¹é‡ï¼Œ&lt;code&gt;maxCapacity&lt;/code&gt;åœ¨åˆ›å»ºçš„æ—¶å€™å¯ä»¥æŒ‡å®šæœ€å¤§å®¹é‡ï¼Œ&lt;code&gt;tail&lt;/code&gt;ç±»ä¼¼é“¾è¡¨é‡Œé¢çš„å°¾æŒ‡é’ˆï¼Œä¸‹æ¬¡æ’å…¥å€¼å¯ä»¥é€šè¿‡è¿™ä¸ªæŒ‡é’ˆæ‰¾åˆ°æ’å…¥çš„ä½ç½®ï¼Œ&lt;code&gt;count&lt;/code&gt;å½“å‰å­˜å‚¨çš„æ•°æ®æ¡ç›®æ•°ï¼Œ&lt;code&gt;headerBuffer&lt;/code&gt;æ˜¯èµ·åˆ°äº†ä¸€ä¸ªåˆ‡ç‰‡å‘é€æ‹·è´æ—¶å……å½“é›¶æ—¶ç¼“å†²åŒºçš„ä½œç”¨ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰å…´è¶£è‡ªå·±å»çœ‹æºä»£ç å§ï¼š&lt;a href=&#34;https://github.com/allegro/bigcache&#34;&gt;https://github.com/allegro/bigcache&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;æ€»ç»“&#34;&gt;
    &lt;a href=&#34;#%e6%80%bb%e7%bb%93&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    æ€»ç»“
&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;BigCache&lt;/code&gt;çš„è®¾è®¡çœŸçš„å¾ˆå¦™ï¼Œå½“ç„¶è¿™ä¸ªå¦™é¦–å…ˆä½ å¾—äº†è§£&lt;code&gt;goçš„gc&lt;/code&gt;ä¸€äº›å·¥ä½œæ–¹å¼ï¼Œç„¶åé’ˆå¯¹è¿™ä¸ªè¿™äº›ç‰¹å®šï¼Œå»ä¼˜åŒ–æ•°æ®ç»“æ„ï¼Œ&lt;code&gt;BigCache&lt;/code&gt;ä¸ºäº†å‡å°é”çš„é¢—ç²’åº¦ä½¿ç”¨äº†åˆ†æ®µåˆ†ç‰‡ï¼Œç„¶åé˜²æ­¢&lt;code&gt;gc&lt;/code&gt;å¯¹æ•°æ®è¿›è¡Œæ‰«æçš„è€—æ—¶ï¼Œæœ‰æŠŠæ•°æ®é‡‡ç”¨æ— æŒ‡é’ˆåµŒå¥—çš„äºŒè¿›åˆ¶æ–¹å¼å»å­˜å‚¨ï¼Œèƒ½é¿å…&lt;code&gt;gc&lt;/code&gt;å»é’ˆå¯¹åº•å±‚çš„æ•°æ®è¿›è¡Œå¼•ç”¨å­˜æ´»ç›¸å…³çš„æ£€æµ‹è€—æ—¶ï¼Œå”¯ä¸€ç¼ºç‚¹å°±æ˜¯&lt;code&gt;BigCache&lt;/code&gt;æ•°æ®ä¸èƒ½æŒä¹…åŒ–å­˜å‚¨ã€‚&lt;/p&gt;

    </description>
    </item>
    
    <item>
    <title>KVBase storage engine Bitcask</title>
    <link>http://blog.ibyte.me/post/bitcask-kvbase/</link>
    <pubDate>Tue, 21 Dec 2021 18:14:23 +0800</pubDate>
    
    <guid>http://blog.ibyte.me/post/bitcask-kvbase/</guid>
    <description>
        &lt;h2 id=&#34;å¤©ä¸Šé£çš„æ¦‚å¿µä¹Ÿè¦è½åœ°çš„å®ç°&#34;&gt;
    &lt;a href=&#34;#%e5%a4%a9%e4%b8%8a%e9%a3%9e%e7%9a%84%e6%a6%82%e5%bf%b5%e4%b9%9f%e8%a6%81%e8%90%bd%e5%9c%b0%e7%9a%84%e5%ae%9e%e7%8e%b0&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å¤©ä¸Šé£çš„æ¦‚å¿µï¼Œä¹Ÿè¦è½åœ°çš„å®ç°
&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;Bitcask&lt;/code&gt;ç›¸ä¿¡å¦‚æœä½ äº†è§£æˆ–è€…åšè¿‡å­˜å‚¨ç›¸å…³çš„å·¥ä½œçš„ï¼Œç›¸ä¿¡æˆ–å¤šæˆ–å°‘éƒ½äº†è§£è¿‡ï¼Œå®ƒæ˜¯ç”±&lt;code&gt;basho&lt;/code&gt;çš„&lt;code&gt;bitcask&lt;/code&gt;è®ºæ–‡æ‰€è®¾è®¡çš„&lt;code&gt;key-value&lt;/code&gt;å­˜å‚¨å¼•æ“ï¼Œç›¸å…³çš„åº”ç”¨æœ‰&lt;code&gt;Riak&lt;/code&gt;è¿™ä¸ªæ•°æ®åº“ï¼Œ&lt;code&gt;Riak&lt;/code&gt;æ˜¯ä»¥ &lt;code&gt;Erlang&lt;/code&gt; å¼€å‘çš„ä¸€ä¸ªé«˜åº¦å¯æ‰©å±•çš„åˆ†å¸ƒå¼æ•°æ®å­˜å‚¨ï¼Œ&lt;code&gt;Riak&lt;/code&gt;çš„å®ç°æ˜¯åŸºäº&lt;code&gt;Amazon&lt;/code&gt;çš„&lt;code&gt;Dynamo&lt;/code&gt;è®ºæ–‡å®ç°çš„ï¼Œè¯´åˆ°&lt;a href=&#34;https://www.allthingsdistributed.com/files/amazon-dynamo-sosp2007.pdf&#34; title=&#34;Dynomo&#34;&gt;Dynomo&lt;/a&gt;é‚£æ˜¯å¦å¤–ä¸€ç¯‡è®ºæ–‡çš„äº‹æƒ…äº†ï¼ˆå¦‚æœä½ æƒ³çœ‹ä¸­æ–‡ç‰ˆæˆ‘ä¸Šä¸€ç¯‡æ–‡ç« å°±æ˜¯ç¿»è¯‘çš„&lt;code&gt;Dynamo&lt;/code&gt;è®ºæ–‡å¯ä»¥æ‰¾æ‰¾å†å²è®°å½•ï¼‰ï¼Œ&lt;code&gt;Dynamo&lt;/code&gt;ä»–ä»¬ä¹Ÿæ ¹æ®è‡ªå·±çš„å®é™…åº”ç”¨åšäº†ç›¸åº”çš„ä¼˜åŒ–ï¼Œè¨€å½’æ­£ä¼ ï¼Œè¿™ç¯‡æˆ‘è¿˜æ˜¯å›´ç»•&lt;code&gt;Bitcask&lt;/code&gt;å­˜å‚¨å¼•æ“åœ¨&lt;code&gt;KVBase&lt;/code&gt;è½åœ°çš„å®ç°å†™å†™ã€‚&lt;/p&gt;
&lt;h2 id=&#34;bitcaskæ€ä¹ˆå·¥ä½œçš„&#34;&gt;
    &lt;a href=&#34;#bitcask%e6%80%8e%e4%b9%88%e5%b7%a5%e4%bd%9c%e7%9a%84&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    Bitcaskæ€ä¹ˆå·¥ä½œçš„ï¼Ÿ
&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;Bitcask&lt;/code&gt;æ˜¯ä½¿ç”¨&lt;code&gt;RAM&lt;/code&gt; å­˜å‚¨æŒ‡å‘å€¼çš„æ–‡ä»¶æŒ‡é’ˆçš„å“ˆå¸Œæ˜ å°„ï¼Œç´¢å¼•ç”¨äºé«˜æ•ˆå†™å…¥çš„æ—¥å¿—ç»“æ„æ–‡ä»¶ç³»ç»Ÿï¼ŒäºŒè€…ç»„åˆè€Œæˆçš„å­˜å‚¨å¼•æ“ï¼Œå¯èƒ½å…‰æ–‡ç« æè¿°å¯èƒ½å¾ˆéš¾ç†è§£ï¼Œæˆ‘ä¸‹é¢ç”»äº†å‡ å¹…å›¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Bitcask&lt;/code&gt;ä¸»è¦å‡ ä¸ªç»„ä»¶ï¼Œæˆ‘ä¸ªäººè®¤ä¸ºæœ€é‡è¦ä¹Ÿå°±&lt;code&gt;3&lt;/code&gt;ä¸ªç»„ä»¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Index Map&lt;/code&gt; å…¨å±€ç´¢å¼•æ˜ å°„&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Active File&lt;/code&gt; å½“å‰å¯å†™æ–‡ä»¶çš„æŒ‡é’ˆ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Compressor&lt;/code&gt; è´Ÿè´£è„æ•°æ®å‹ç¼©å’Œæ•´ç†è¿›ç¨‹&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gxkf3rchqzj319e0u0acp.jpg&#34; 
    alt=&#34;Bitcask&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;key&lt;/code&gt;ä¼šå­˜å‚¨åœ¨å†…å­˜ä¸­ä»¥ä¾¿å¿«é€ŸæŸ¥æ‰¾ï¼Œæ‰€æœ‰çš„&lt;code&gt;value&lt;/code&gt;éƒ½å­˜å‚¨äºç£ç›˜ä¸­ï¼Œè¿™ç§æ–¹æ³•ç‰¹ç‚¹æ˜¯ä»¥è¿½åŠ çš„æ–¹å¼å†™ç£ç›˜ï¼Œå³å†™æ“ä½œæ˜¯æœ‰åºçš„ï¼Œè¿™æ ·å¯ä»¥å‡å°‘ç£ç£ç›˜çš„å¯»é“æ—¶é—´ï¼Œæ˜¯ä¸€ç§é«˜ååé‡çš„å†™å…¥æ–¹æ¡ˆï¼Œåœ¨æ›´æ–°æ•°æ®æ—¶ï¼Œä¹Ÿæ˜¯æŠŠæ–°æ•°æ®è¿½åŠ åˆ°æ–‡ä»¶çš„åé¢ï¼Œç„¶åæ›´æ–°ä¸€ä¸‹æ•°æ®çš„æ–‡ä»¶æŒ‡é’ˆæ˜ å°„å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;å½“å†™æ“ä½œå‘ç”Ÿæ—¶ï¼Œ&lt;code&gt;keydir&lt;/code&gt;è¢«åŸå­çš„æ›´æ–°ï¼Œæ›´æ–°æˆæ–°çš„æ–‡ä»¶ä¸Šçš„ä½ç½®ï¼Œæ–‡ä»¶ä¸Šçš„è€æ•°æ®è¿˜åœ¨ç£ç›˜ä¸Šï¼Œæ–°çš„è¯»æ“ä½œä¼šä½¿ç”¨æ–°çš„&lt;code&gt;keydir&lt;/code&gt;ï¼Œå¦‚æœåœ¨å¹¶å‘å¤§é‡è¯·æ±‚æƒ…å†µä¸‹ï¼Œè¿™ä¸ªä¼°è®¡ä¼šå‡ºç°æ€§èƒ½ç“¶é¢ˆçš„åœ°æ–¹ä¹‹ä¸€ï¼Œè¿™ä¸ªå‘æˆ‘ä¼šåœ¨åé¢è¯´è¯´æ€ä¹ˆå»ä¼˜åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gxkf0pw880j31ei0u0n0k.jpg&#34; 
    alt=&#34;Keydir&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Active File&lt;/code&gt;æ˜¯åœ¨ç£ç›˜ä¸Šçš„æ–‡ä»¶ï¼Œæ¯æ¡æ•°æ®å¯¹åº”æ•°æ®æ ¼å¼å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gxkffli4bdj31e40u0gpv.jpg&#34; 
    alt=&#34;Data entry&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;æ¯æ¡æ•°æ®éƒ½ä¸€æ¡ä¸€æ¡ä»¥è¡Œçš„å½¢å¼å­˜å‚¨åœ¨æ•°æ®æ–‡ä»¶é‡Œï¼Œå¦‚å›¾ä¸Šé€šè¿‡ç‰¹æ®Šçš„ç¼–ç æ–¹å¼å°±å¯ä»¥å¾—åˆ°&lt;code&gt;key&lt;/code&gt;çš„å¤§å°å’Œ&lt;code&gt;value&lt;/code&gt;çš„å¤§å°ï¼Œç„¶åå°±å¯ä»¥æ‰¾åˆ°&lt;code&gt;key&lt;/code&gt;çš„ä½ç½®å’Œ&lt;code&gt;value&lt;/code&gt;çš„å†…å®¹ç„¶ååç¼–ç è§£ç æ“ä½œï¼Œæ•°æ®åœ¨å†™å…¥çš„æ—¶å€™æ˜¯è¢«ç¼–ç æˆäºŒè¿›åˆ¶çš„å­˜å‚¨çš„ï¼Œè¡¥å……ä¸€ä¸‹&lt;code&gt;CRC&lt;/code&gt;æ˜¯&lt;code&gt;å¾ªç¯æ ¡éªŒç &lt;/code&gt;ï¼Œæ˜¯æ•°æ®é€šä¿¡é¢†åŸŸä¸­æœ€å¸¸ç”¨çš„ä¸€ç§å·®é”™æ ¡éªŒç ï¼Œæ¯•ç«Ÿæ•°æ®åº“é‡Œé¢çš„æ•°æ®æœ‰æ—¶å€™éœ€è¦åœ¨ç½‘ç»œä¸Šè¿›è¡Œä¼ è¾“ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gxkiflhxcnj314i0u0n12.jpg&#34; 
    alt=&#34;Riakçš„bitcaskæ•°æ®ç›®å½•ç»“æ„æ–‡ä»¶&#34; 
     /&gt;&lt;/p&gt;
&lt;h2 id=&#34;bitcaskç¼ºé™·&#34;&gt;
    &lt;a href=&#34;#bitcask%e7%bc%ba%e9%99%b7&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    Bitcaskç¼ºé™·
&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™ç§åŸºäºå†…å­˜çš„ç´¢å¼•çš„å¿…ç„¶æœ‰é—®é¢˜çš„ï¼Œä¾‹å¦‚æœºå™¨é‡å¯ï¼Œå†…å­˜æ•°æ®ä¸¢äº†ï¼Œç´¢å¼•å°±æ— æ³•å¯¹ç£ç›˜æ•°è¿›è¡Œæ˜ å°„ï¼Œè¿˜æœ‰ä¸Šé¢æåˆ°çš„å…¨å±€çš„è¯»å†™å¿…é¡»ç»è¿‡è¿™ä¸ª&lt;code&gt;keydir&lt;/code&gt;è¿›è¡Œå®šä½åˆ°æ•°æ®æºï¼Œå¦å¤–è¯»å–æ•°æ®çš„ä¾èµ–äºæ“ä½œç³»ç»Ÿå†…æ ¸çš„æ–‡ä»¶ç³»ç»Ÿç¼“å­˜ï¼Œæ²¡æœ‰ç”¨æˆ·æ€å®ç°ï¼Œä¸å¯æ§ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;ä¸ºäº†è§£å†³é‡å¯å†…å­˜ç´¢å¼•æ•°æ®ä¸¢å¤±çš„é—®é¢˜ï¼Œ&lt;code&gt;Bitcask&lt;/code&gt;è®ºæ–‡ä¸­æåˆ°äº†&lt;code&gt;hint file&lt;/code&gt;æ–‡ä»¶ï¼Œå¦‚æœæ˜¯ç›´æ¥æ‰«æ&lt;code&gt;data&lt;/code&gt;æ–‡ä»¶ç„¶åæ¥å»ºç«‹ç´¢å¼•æ˜¯ä¸€ä»¶éå¸¸è€—æ—¶çš„å·¥ä½œï¼Œè¦è°ƒç”¨æ“ä½œç³»ç»Ÿæ‰“å¼€å¤šä¸ªæ•°æ®æ–‡ä»¶ï¼Œç„¶åæ¥å›éå†è®°å½•ï¼Œå®˜æ–¹è§£å†³æ–¹æ¡ˆæ˜¯åœ¨ä¸€éƒ¨åˆ†&lt;code&gt;data&lt;/code&gt;æ–‡ä»¶è®°å½•å¯¹åº”ä¸€ä¸ª&lt;code&gt;hint&lt;/code&gt;æ–‡ä»¶ï¼Œæ‰«æä¸€ä¸ª&lt;code&gt;hint file&lt;/code&gt;ç›¸æ¯”å»è¯»å–&lt;code&gt;data&lt;/code&gt;æ–‡ä»¶è¦çœäº‹çš„å¤šï¼Œé‡Œé¢è®°å½•å¦‚ä¸‹ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gxkjx7ksnwj31dc0u0go9.jpg&#34; 
    alt=&#34;hint file&#34; 
     /&gt;&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;ç¬¬äºŒä¸ªé—®é¢˜å°±æ˜¯æ•°æ®éƒ½æ˜¯å¢åˆ æ”¹æŸ¥çš„ï¼Œæ•°æ®è¢«åˆ é™¤æ˜¯è‚¯å®šä¼šå‘ç”Ÿçš„ï¼Œé‚£ä¹ˆ&lt;code&gt;Bitcask&lt;/code&gt;ä½œä¸ºä¸€ä¸ªåªè¿½åŠ è®°å½•çš„å¼•æ“ï¼Œæ€ä¹ˆè§£å†³ï¼Ÿéšç€è®°å½•ä¸æ–­å¢å¤šï¼Œæ•°æ®æ–‡ä»¶ä¹Ÿä¼šå˜å¾—æ›´å¤§ï¼Œä¸ºäº†èŠ‚çœç©ºé—´ï¼Œ&lt;code&gt;bitcask&lt;/code&gt;é‡‡ç”¨&lt;code&gt;merge&lt;/code&gt;çš„æ–¹å¼å‰”é™¤è„æ•°æ®ï¼Œ&lt;code&gt;merge&lt;/code&gt;æœŸé—´ä¼šå½±å“åˆ°æœåŠ¡çš„è®¿é—®ï¼Œå¦‚æœæƒ³ä¿ç•™åŸå§‹çš„æ•°æ®æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨è°·æ­Œçš„&lt;code&gt;Snappy&lt;/code&gt;å‹ç¼©ç®—æ³•ï¼Œåœ¨ç£ç›˜&lt;code&gt;IO&lt;/code&gt;å’Œ&lt;code&gt;cpu&lt;/code&gt;ä¹‹é—´åšä¸€ä¸ªæƒè¡¡ï¼Œä»¥ä¾¿ä½¿ç¨‹åºè·‘å¾—æ›´å¿«ï¼Œ&lt;code&gt;Snappy&lt;/code&gt;å°±æ˜¯è¿™æ ·ä¸€ç§å¿«é€Ÿçš„æ•°æ®å‹ç¼©ç®—æ³•ã€‚å¯¹äºä¸€ä¸ªæ ¸çš„&lt;code&gt;i7&lt;/code&gt;å¤„ç†å™¨ï¼ˆ&lt;code&gt;64&lt;/code&gt;ä½æ¨¡å¼ï¼‰ï¼Œèƒ½è¾¾åˆ°&lt;code&gt;250M/s&lt;/code&gt;ä»¥ä¸Šçš„å¤„ç†é€Ÿåº¦ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;é’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘å¯¹&lt;code&gt;KVBase&lt;/code&gt;é‡‡ç”¨çš„&lt;code&gt;bit&lt;/code&gt;æ¡¶&lt;code&gt;key&lt;/code&gt;æ ‡è®°åˆ é™¤ç­–ç•¥ï¼Œå½“è¢«åˆ é™¤çš„&lt;code&gt;key&lt;/code&gt;è¾¾åˆ°ä¸€å®šæ•°é‡çš„æ—¶å€™ï¼ˆé€šè¿‡ç®—æ³•å»åˆ¤å®šæ˜¯å¦éœ€è¦ï¼‰ï¼Œå¦‚æœéœ€è¦å°±ä¼šå¯åŠ¨ä¸€ä¸ªç‹¬ç«‹è¿›ç¨‹å»è®¿é—®ä¸ºæœªè¢«æ ‡è®°çš„æ•°æ®ï¼Œå¹¶ä¸”å¼€å§‹æ•´ç†åˆ°æ–°çš„æ•°æ®æ–‡ä»¶ä¸­ï¼Œåœ¨æ­¤æœŸé—´æœåŠ¡ä¾ç„¶å¯ç”¨ï¼Œæ•´ç†å®Œæˆä¹‹åæˆ‘åªéœ€è¦åŸå­æ“ä½œæŠŠå†…å­˜æ˜ å°„çš„æŒ‡é’ˆæŒ‡å‘æ–°çš„ç´¢å¼•ä¸Šï¼Œè¿™ä¸ªè¿‡ç¨‹æ¯”&lt;code&gt;bitcask&lt;/code&gt;è®ºæ–‡ç”¨çš„æ•´ä¸ªåˆå¹¶æ•°æ®æ–‡ä»¶è¦å¥½å¾—å¤šï¼Œä¸ä¼šå› ä¸ºæ•´ç†è¿‡ç¨‹ä¸­æ•´ä¸ªæœåŠ¡è¢«é˜»å¡ç€ï¼Œæœ€å¤šå°±æ˜¯çŸ­æš‚æ¶ˆè€—ä¸€ç‚¹å†…å­˜ç©ºé—´ç½¢äº†ï¼Œæ•´ç†å®Œæˆä¹‹åæ¸…ç†åºŸå¼ƒå†…å­˜æ•°æ®å’Œå†…å­˜ç©ºé—´ï¼Œè¿™ä¹Ÿæ˜¯ç‰ºç‰²ç©ºé—´æ¢å–å¯ç”¨æ€§å’Œæ—¶é—´ã€‚æˆ‘æ‰¿è®¤è¿™ä¸ªè®¾è®¡å€Ÿé‰´äº†&lt;code&gt;Golang&lt;/code&gt;åŸç”Ÿçš„&lt;code&gt;map&lt;/code&gt;çš„æ‰©å®¹ç­–ç•¥ï¼Œå¦‚æœä½ å¯¹&lt;code&gt;go&lt;/code&gt;åŸç”Ÿçš„&lt;code&gt;map&lt;/code&gt;æœ‰äº†è§£çš„è¯ï¼Œæˆ–è€…æ˜¯çœ‹è¿‡&lt;code&gt;go&lt;/code&gt;æºä»£ç çš„è¯ï¼Œåº”è¯¥å¾ˆæ¸…æ¥šã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&#34;kvbaseçš„è®¾è®¡&#34;&gt;
    &lt;a href=&#34;#kvbase%e7%9a%84%e8%ae%be%e8%ae%a1&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    KVBaseçš„è®¾è®¡
&lt;/h2&gt;
&lt;p&gt;è¦çŸ¥é“&lt;code&gt;Bitcask&lt;/code&gt;æ˜¯ä»¥è¿½åŠ çš„æ–¹å¼å†™ç£ç›˜ï¼Œå³å†™æ“ä½œæ˜¯æœ‰åºçš„ï¼Œè¿™æ ·å¯ä»¥å‡å°‘ç£ç£ç›˜çš„å¯»é“æ—¶é—´ï¼Œæ˜¯ä¸€ç§é«˜ååé‡çš„å†™å…¥è®¾è®¡ï¼Œå†™æ€§èƒ½è‚¯å®šæ˜¯æ²¡æœ‰å¾—è¯è¯´çš„ã€‚ä½†æ˜¯è¯»å–æ•°æ®æ˜¯é€šè¿‡å†…å­˜ä¸­ç´¢å¼•è¿›è¡ŒæŸ¥è¯¢è¯»å–ï¼Œè™½ç„¶&lt;code&gt;key&lt;/code&gt;çš„å®šä½æ˜¯é€šè¿‡&lt;code&gt;hash&lt;/code&gt;è¿›è¡Œ&lt;code&gt;O(1)&lt;/code&gt;æ—¶é—´å¤æ‚åº¦ï¼Œä½†æ˜¯å¦‚æœæ•°æ®å­˜æ”¾åœ¨è€æ•°æ®æ–‡ä»¶é‡Œé¢ï¼Œæ­¤æ—¶å°±è¦è°ƒç”¨ç³»ç»Ÿå†…æ ¸&lt;code&gt;api&lt;/code&gt;å»è¯»å–æ–‡ä»¶ï¼Œä¼šäº§ç”ŸçŸ­æš‚çš„&lt;code&gt;io&lt;/code&gt;å¼€é”€ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gxklm98csgj31m20u0n33.jpg&#34; 
    alt=&#34;KVBaseçš„è®¾è®¡&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;ä¸ºäº†è§£å†³è¯»å–æ€§èƒ½çš„é—®é¢˜ï¼Œæˆ‘åœ¨&lt;code&gt;KVBase&lt;/code&gt;ä¸ŠåŠ äº†å±‚&lt;code&gt;cache&lt;/code&gt;å¹¶ä¸”è¿™å±‚&lt;code&gt;cache&lt;/code&gt;æ˜¯æ”¯æŒåˆ†å¸ƒå¼çš„ï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆåšï¼Ÿè¦çŸ¥é“æ•°æ®å­˜å‚¨é—®é¢˜åº•å±‚çš„&lt;code&gt;Bitcask&lt;/code&gt;å¼•æ“å·²ç»è§£å†³äº†ï¼Œå†™å…¥æ•°æ®ä¸å°±æ˜¯ä¸ºäº†æ•°æ®ä¸èƒ½ä¸¢å—ï¼Ÿè¿™ä¸ªé—®é¢˜å·²ç»è§£å†³äº†ï¼Œå¤§éƒ¨åˆ†å†™æ•°æ®åœºæ™¯ä¼°è®¡ä¹Ÿä¸å¤šï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯è¯»æ•°æ®åœºæ™¯ï¼Œæ‰€ä»¥åŠ ä¸€å±‚åŸºäºå†…å­˜çš„&lt;code&gt;cache&lt;/code&gt;ä¸ºè¯»å–æ•°æ®ï¼Œæä¾›ä¿éšœï¼Œä¸ºäº†è§£å†³å†…å­˜ç©ºé—´å¤§å°æ²¡æœ‰ç£ç›˜ç©ºé—´å¤§çš„é—®é¢˜ï¼Œå¼•å…¥ä¸€äº›å†…å­˜æ·˜æ±°ç®—æ³•ï¼Œä¿è¯ç©ºé—´é—®é¢˜ï¼Œå½“ç„¶å…·ä½“å“ªä¸ªæˆ‘è¿˜åœ¨è€ƒé‡ï¼Œæˆ–è€…åƒ&lt;code&gt;redis&lt;/code&gt;é‚£æ ·ä»å†…å­˜æ•°æ®é‡Œé¢éšæœºæŠ½å–ä¸€éƒ¨åˆ†æ•°æ®ï¼Œå¦‚æœè¶…è¿‡&lt;code&gt;4/1&lt;/code&gt;çš„æ•°æ®å³å°†è¿‡æœŸï¼Œé‚£ä¹ˆå°±é‡å¤æŠ½æ ·å‡ æ¬¡ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gxklzr1toyj31h00nmq7n.jpg&#34; 
    alt=&#34;æ·˜æ±°ç­–ç•¥&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;åº•å±‚å­˜å‚¨å·²ç»å’Œ&lt;code&gt;cache&lt;/code&gt;è¢«å•ç‹¬æŠ½è±¡å‡ºæ¥äº†ï¼Œä»¥åå°±ç®—æ¢æ‰åº•å±‚çš„å­˜å‚¨å¼•æ“å®ç°ä¹Ÿä¸ä¼šå½±å“ä¸Šå±‚&lt;code&gt;cache&lt;/code&gt;ï¼Œåœ¨&lt;code&gt;KVBase&lt;/code&gt;æˆ‘ä¸ªäººè®¤ä¸º&lt;code&gt;å­˜å‚¨å¼•æ“&lt;/code&gt;åªæ˜¯ä¸º&lt;code&gt;cache&lt;/code&gt;æœåŠ¡çš„ï¼Œ&lt;code&gt;cache&lt;/code&gt;è¢«æŠ½è±¡æˆäº†åˆ†å¸ƒå¼çš„äº†ï¼Œæ„å‘³ç€åé¢æˆ‘å¯ä»¥åŠ¨æ€åˆ†é…æ•°æ®å­˜å‚¨èŠ‚ç‚¹ï¼Œè¿™ä¸ªå°±æ²¡æœ‰ä»€ä¹ˆå¥½è®²çš„äº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å°ç»“&#34;&gt;
    &lt;a href=&#34;#%e5%b0%8f%e7%bb%93&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å°ç»“
&lt;/h2&gt;
&lt;p&gt;å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹è¯»è€…æœ‰ä»€ä¹ˆå¯å‘ï¼Œé‚£æˆ‘å¾ˆé«˜å…´ï¼Œæ–‡ç« ä¹Ÿæ˜¯ä¸€ç§æŠ€æœ¯åˆ†äº«ï¼Œå¦‚æœä½ å¯¹è¿™å—æ„Ÿå…´è¶£ï¼Œæœ‰ä»€ä¹ˆæƒ³åæ§½çš„ï¼Œæˆ‘éå¸¸æ¬¢è¿äº¤æµï¼Œå®è´¨æ¥ä¸€èµ·&lt;code&gt;coding&lt;/code&gt;ã€‚&lt;/p&gt;

    </description>
    </item>
    
    <item>
    <title>Redis Cluster System Design</title>
    <link>http://blog.ibyte.me/post/redis-cluster-system-design/</link>
    <pubDate>Wed, 24 Nov 2021 14:37:48 +0800</pubDate>
    
    <guid>http://blog.ibyte.me/post/redis-cluster-system-design/</guid>
    <description>
        &lt;h2 id=&#34;ä¸ºä»€ä¹ˆä¼šå‡ºç°é›†ç¾¤æ¶æ„&#34;&gt;
    &lt;a href=&#34;#%e4%b8%ba%e4%bb%80%e4%b9%88%e4%bc%9a%e5%87%ba%e7%8e%b0%e9%9b%86%e7%be%a4%e6%9e%b6%e6%9e%84&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    ä¸ºä»€ä¹ˆä¼šå‡ºç°é›†ç¾¤æ¶æ„ï¼Ÿ
&lt;/h2&gt;
&lt;p&gt;ä¸Šä¸€ç¯‡å†™åˆ°äº†&lt;code&gt;redis&lt;/code&gt;å“¨å…µæ¨¡å¼ï¼Œè¿™ç§æ¨¡å¼è™½ç„¶èƒ½è§£å†³ä¸€äº›å¹¶å‘æƒ…å†µä¸‹çš„æ•°æ®è¯·æ±‚å‹åŠ›é—®é¢˜å’Œå¯ç”¨æ€§é—®é¢˜ï¼Œä¸»ä»æ›¿æ¢ä»¥åŠæ•…éšœæ¢å¤ã€‚å“¨å…µæ¨¡å¼åªæ˜¯&lt;code&gt;redis&lt;/code&gt;æ¶æ„åœ¨å†å²æ¼”å˜è¿‡ç¨‹ä¸­ä¸€ä¸ªçš„è½¬æŠ˜ç‚¹ï¼Œå“¨å…µè¿™ç§æ¨¡å¼ä¸»ä»æ¨¡å¼çš„æ•°æ®éƒ½æ˜¯å…¨é‡åŒæ­¥çš„ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ªä»èŠ‚ç‚¹ä¸Šçš„æ•°æ®éƒ½æ˜¯ä¸»èŠ‚ç‚¹ä¸Šçš„æ•°æ®å‰¯æœ¬ï¼Œå¤§å®¶æƒ³ä¸€æƒ³æœ‰æœ¨æœ‰é—®é¢˜ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æ˜¯ä¸æ˜¯å¤ªæµªè´¹å†…å­˜äº†ï¼Ÿæˆ–è€…è¯´å¯ä¸å¯ä»¥æŠŠå…¨é‡çš„æ•°æ®æ‹†è§£æˆéƒ¨åˆ†æ•°æ®ï¼Œç„¶ååˆ†å¸ƒåœ¨ä¸åŒèŠ‚ç‚¹ä¸Šï¼Ÿé‚£ä¹ˆè¿™ç§æœ‰ä»€ä¹ˆå¥½å¤„å—ï¼Ÿï¼Ÿï¼Ÿ&lt;/p&gt;
&lt;p&gt;å¦‚æœæ•°æ®å…¨éƒ¨å­˜å‚¨åœ¨ä¸€å°æœºå­ä¸Šï¼Œå…¨é‡åŒæ­¥çš„æ—¶å€™ä¼šæ—¶é—´è¿‡é•¿ï¼Œæœ‰æ—¶å€™å‡ºç°äº†&lt;code&gt;big key&lt;/code&gt;æƒ…å†µæ›´æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œç½‘ç»œä¸€æ³¢åŠ¨ï¼Œæœ¬æ¥ä¼ è¾“æ­£åœ¨è¿›è¡Œä¸­ï¼Œä¸€åŠæ–­æ‰äº†ï¼Œä¼šå¢åŠ åŒæ­¥å¤±è´¥çš„æ¦‚ç‡ã€‚åˆ†ç‰‡çš„å­˜å‚¨å¥½å¤„ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥å‡ä½è¿™äº›é£é™©çš„ï¼Œæ¯ä¸ªèŠ‚ç‚¹æˆ‘å­˜å‚¨ä¸€éƒ¨åˆ†æ•°æ®ï¼Œå®è´¨æˆ‘ä»¬å¯ä»¥äº¤å‰å­˜å‚¨æ•°æ®å—ï¼Œ&lt;code&gt;a&lt;/code&gt;èŠ‚ç‚¹å­˜å‚¨&lt;code&gt;b&lt;/code&gt;èŠ‚ç‚¹ä¸€ä¸ªå‰¯æœ¬ï¼Œ&lt;code&gt;b&lt;/code&gt;èŠ‚ç‚¹å­˜å‚¨&lt;code&gt;a&lt;/code&gt;èŠ‚ç‚¹ä¸€ä¸ªå‰¯æœ¬ï¼Œè¿™æ ·å°±ç®—å¦‚æœ&lt;code&gt;a&lt;/code&gt;å½“æ‰äº†ï¼Œæˆ‘ä»¬æ˜¯ä¸æ˜¯å¯ä»¥å»&lt;code&gt;b&lt;/code&gt;é‡Œé¢æ‹¿å–å‰¯æœ¬ç»§ç»­ä½¿ç”¨ï¼Œå½“ç„¶è¿™ä¸ªæˆ‘æ˜¯è‡ªå·±çš„ä¸€äº›çœ‹æ³•ï¼Œæˆ‘çœ‹&lt;code&gt;hdfs&lt;/code&gt;å°±æ˜¯è¿™ä¹ˆè®¾è®¡çš„ï¼Œå½“ç„¶&lt;code&gt;redis&lt;/code&gt;æ²¡æœ‰è¿™ä¸ªäº¤å‰å­˜å‚¨ç­–ç•¥ï¼Œä½†æ˜¯ç¬”è€…è®¤ä¸ºå¦‚æœåœ¨&lt;code&gt;key&lt;/code&gt;ä¸‹åŠŸå¤«ä¹Ÿå¯ä»¥è¾¾åˆ°çš„ï¼ŒæŠŠ&lt;code&gt;key&lt;/code&gt;ä»¥ç‰¹å®šæ ¼å¼çš„å‘½åçš„æ ¼å¼äºŒæ¬¡å­˜å‚¨ä¹Ÿèƒ½è¾¾åˆ°ï¼Œåªæ˜¯è¯´æµªè´¹ä¸€ç‚¹å†…å­˜å§äº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å­˜å‚¨æ¨¡å‹&#34;&gt;
    &lt;a href=&#34;#%e5%ad%98%e5%82%a8%e6%a8%a1%e5%9e%8b&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å­˜å‚¨æ¨¡å‹
&lt;/h2&gt;
&lt;p&gt;æœ‰æœ¨æœ‰æƒ³è¿‡ä¸ºä»€ä¹ˆ&lt;code&gt;redis&lt;/code&gt;ä¸ºä»€ä¹ˆæ˜¯&lt;code&gt;k:v&lt;/code&gt;è¿™ç§å­˜å‚¨æ¨¡å‹ï¼Œè€Œä¸æ˜¯ç›´æ¥è®¾è®¡æˆå…³ç³»å‹æ•°æ®åº“é‚£æ ·çš„ï¼Ÿï¼Ÿç†Ÿæ‚‰&lt;code&gt;redis&lt;/code&gt;åº”è¯¥éƒ½äº†è§£ä¸€ç‚¹å†å²ï¼Œä½¿ç”¨&lt;code&gt;key-value&lt;/code&gt;æ˜¯æœ‰å†å²åŸå› çš„ï¼Œæ—©æœŸçš„æ—¶å€™ï¼Œ&lt;code&gt;redis&lt;/code&gt;ä½œè€…èµ·åˆæ˜¯ä¸ºæé«˜è‡ªå·±ç½‘ç«™çš„è¯»å†™å¹¶å‘èƒ½åŠ›è€Œåˆ›å»º&lt;code&gt;redis&lt;/code&gt;ï¼Œè€Œ&lt;code&gt;key-value&lt;/code&gt;å­—å…¸ç»“æ„çš„å¸¸è§„æ—¶é—´å¤æ‚åº¦æ˜¯&lt;code&gt;O(1)&lt;/code&gt;ï¼Œåˆšå¥½æ»¡è¶³ä½œè€…çš„æ€§èƒ½è¦æ±‚å’Œä¸šåŠ¡æ•°æ®ç»“æ„éœ€æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;redis&lt;/code&gt;å¤§éƒ¨åˆ†ä½œç”¨éƒ½æ˜¯ç¼“å­˜æ•°æ®çš„ï¼Œå¤§éƒ¨åˆ†æ•°æ®éƒ½æ˜¯ä»&lt;code&gt;db&lt;/code&gt;è¯»å–çš„ï¼Œè€Œä¸”è¿™äº›æ•°æ®ä¹Ÿä¸æ˜¯&lt;code&gt;db&lt;/code&gt;ä¸­å…¨é‡çš„æ•°æ®ï¼Œåªæ˜¯ä¸€éƒ¨åˆ†è€Œå·²ï¼Œæ²¡æœ‰é«˜åº¦ç»„ç»‡åŒ–ç»“æ„åŒ–æ•°æ®ï¼Œç”¨ä¸€éƒ¨åˆ†æ•°æ®ï¼Œæ€ä¹ˆç»„æˆä¸€ä¸ªå®Œæ•´çš„å…³ç³»æ¨¡å‹ï¼Ÿæ‰€ä»¥ä¸éœ€è¦ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ã€‚&lt;/p&gt;
&lt;h2 id=&#34;codisåˆ†ç‰‡æ–¹æ¡ˆ&#34;&gt;
    &lt;a href=&#34;#codis%e5%88%86%e7%89%87%e6%96%b9%e6%a1%88&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    Codisåˆ†ç‰‡æ–¹æ¡ˆ
&lt;/h2&gt;
&lt;p&gt;æ­£æ˜¯&lt;code&gt;redis&lt;/code&gt;ä½œè€…è¿™äº›å†å²åŸå› ï¼Œæœ¬æ¥åœ¨è®¾è®¡ä¹‹åˆå¯èƒ½ä¹Ÿå°±æ˜¯å•æœºå°±å¯ä»¥æ»¡è¶³ä½œè€…è‡ªå·±çš„éœ€æ±‚ï¼Œä½†æ˜¯æ²¡æƒ³åˆ°å®ƒå†™çš„è¿™ä¸ªè½¯ä»¶è¢«è¿™ä¹ˆå¤šäººä½¿ç”¨ï¼Œå½±å“åŠ›è¿™ä¹ˆå¤§ï¼Œç„¶åå‡ºç°äº†ä¸»ä»æ¨¡å¼ï¼Œå“¨å…µæ¨¡å¼ï¼Œç›´åˆ°æœ¬æ–‡è¦è®²çš„é›†ç¾¤æ¨¡å¼ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è®¡ç®—æœºç§‘å­¦é¢†åŸŸçš„ä»»ä½•é—®é¢˜éƒ½å¯ä»¥é€šè¿‡å¢åŠ ä¸€ä¸ªé—´æ¥çš„ä¸­é—´å±‚æ¥è§£å†³!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code&gt;Redis&lt;/code&gt;çš„é›†ç¾¤ä¹Ÿæœ‰æ¼”å˜å†å²ï¼Œæ—©æœŸæœ‰&lt;code&gt;Twemproxy&lt;/code&gt;æ˜¯&lt;code&gt;Twitter&lt;/code&gt;å›¢é˜Ÿçš„å¼€æºçš„è§£å†³åˆ†ç‰‡æ–¹æ¡ˆï¼Œè¿˜æœ‰&lt;code&gt;Codis&lt;/code&gt;çš„æ–¹æ¡ˆå€¼å¾—æ³¨æ„è¿™æ˜¯ä¸€ä¸ªå›½äººå¼€æºçš„ï¼Œä¹Ÿå°±æ˜¯ç°åœ¨&lt;code&gt;pingcap&lt;/code&gt;å‡ ä½åˆ›å§‹äººï¼Œå‰è±Œè±†èšå›¢é˜Ÿçš„ï¼Œä¸å¾—ä¸è¯´&lt;code&gt;å±Œçˆ†äº†&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä»–ä»¬æ–¹æ¡ˆéƒ½æœ‰ä¸€ä¸ªå…±åŒç‰¹ç‚¹ï¼Œéƒ½æ˜¯é€šè¿‡ä¸€ä¸ª&lt;code&gt;proxy&lt;/code&gt;ä»£ç†å±‚è¿›è¡Œçš„åˆ†ç‰‡å¤„ç†çš„ï¼Œä¸çŸ¥é“æœ‰æ²¡æœ‰ä½¿ç”¨è¿‡&lt;code&gt;Nginx&lt;/code&gt;çš„ï¼Œä½¿ç”¨è¿‡å¤§å®¶åº”è¯¥çŸ¥é“&lt;code&gt;Nginx&lt;/code&gt;åå‘ä»£ç†ä¸€äº›æœåŠ¡ç¨‹åºï¼Œä¾‹å¦‚&lt;code&gt;Nginx&lt;/code&gt;å’Œ&lt;code&gt;Tomcat&lt;/code&gt;ç»„æˆä¸€ä¸ªåå‘ä»£ç†è´Ÿè½½å‡è¡¡çš„é›†ç¾¤ï¼Œ&lt;code&gt;codis&lt;/code&gt;ä¹Ÿæ˜¯ç±»ä¼¼è¿™æ ·çš„æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gwob6q2qnnj30ih071q2y.jpg&#34; 
    alt=&#34;codisä»£ç†æ–¹æ¡ˆ&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Codis&lt;/code&gt;å°±æ˜¯èµ·ç€ä¸€ä¸ªä¸­é—´ä»£ç†çš„ä½œç”¨ï¼Œ&lt;code&gt;Codis&lt;/code&gt;å†…éƒ¨ç»´æŠ¤ä¸€ä¸ª&lt;code&gt;key&lt;/code&gt;æ˜ å°„ç®—æ³•ï¼Œå®¢æˆ·ç«¯è®¿é—®&lt;code&gt;codis&lt;/code&gt;å’Œç›´æ¥è®¿é—®&lt;code&gt;redis&lt;/code&gt;æ²¡æœ‰åŒºåˆ«çš„ï¼Œå› ä¸º&lt;code&gt;codis&lt;/code&gt;å®ç°äº†&lt;code&gt;redis&lt;/code&gt;çš„é€šè®¯åè®®ï¼Œ&lt;code&gt;åè®®&lt;/code&gt;è¿™ä¸ªä¸œè¥¿å¾ˆé‡è¦çš„ï¼ŒåŒæ–¹éƒ½å•†é‡å¥½çš„æ€ä¹ˆå¤„ç†æ•°æ®ï¼Œåšèµ·äº‹æ¥ï¼Œå°±å¾ˆæ–¹ä¾¿ï¼Œå¤§å®¶æ‡‚å¾—ã€‚ã€‚ã€‚ã€‚&lt;code&gt;Codis&lt;/code&gt;æ˜¯ä¸€ä¸ªæ— çŠ¶æ€çš„ï¼Œæ‰€ä»¥å¯ä»¥å¢åŠ å¤šä¸ª&lt;code&gt;Codis&lt;/code&gt;æ¥æå‡&lt;code&gt;QPS&lt;/code&gt;,åŒæ—¶ä¹Ÿå¯ä»¥èµ·ç€æ‰©å®¹çš„ä½œç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;Codis&lt;/code&gt;æ€ä¹ˆå·¥ä½œçš„ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;åœ¨&lt;code&gt;Codis&lt;/code&gt;ä¼šæŠŠæ‰€æœ‰çš„&lt;code&gt;key&lt;/code&gt;åˆ†æˆ&lt;code&gt;1024&lt;/code&gt;ä¸ªæ§½ï¼Œè¿™&lt;code&gt;1024&lt;/code&gt;ä¸ªæ§½å¯¹åº”ç€çš„å°±æ˜¯&lt;code&gt;Redis&lt;/code&gt;çš„é›†ç¾¤ï¼Œè¿™ä¸ªåœ¨&lt;code&gt;Codis&lt;/code&gt;ä¸­æ˜¯ä¼šåœ¨å†…å­˜ä¸­ç»´æŠ¤ç€è¿™&lt;code&gt;1024&lt;/code&gt;ä¸ªæ§½ä¸&lt;code&gt;Redis&lt;/code&gt;å®ä¾‹çš„æ˜ å°„çš„ï¼Œå½“ç„¶è¿™ä¸ªæ˜¯å¯ä»¥é…ç½®ï¼Œå°±çœ‹ä½ çš„&lt;code&gt;Redis&lt;/code&gt;çš„èŠ‚ç‚¹æ•°é‡æœ‰å¤šå°‘ï¼Œåå¤šçš„è¯ï¼Œå¯ä»¥è®¾ç½®æ§½å¤šä¸€äº›ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;codis&lt;/code&gt;ä¼šå…ˆæ˜¯æŠŠ&lt;code&gt;key&lt;/code&gt;è¿›è¡Œ&lt;code&gt;CRC32&lt;/code&gt; åï¼Œå¾—åˆ°ä¸€ä¸ª&lt;code&gt;32&lt;/code&gt;ä½çš„æ•°å­—ï¼Œç„¶åå†&lt;code&gt;hash%1024&lt;/code&gt;åå¾—åˆ°ä¸€ä¸ªä½™æ•°ï¼Œè¿™ä¸ªå€¼å°±æ˜¯è¿™ä¸ª&lt;code&gt;key&lt;/code&gt;å¯¹åº”ç€çš„æ§½ï¼Œè¿™æ§½åé¢å¯¹åº”ç€çš„å°±æ˜¯&lt;code&gt;redis&lt;/code&gt;çš„å®ä¾‹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Ÿæˆ‘å¤šä¸ª&lt;code&gt;codis&lt;/code&gt;æ€ä¹ˆè§£å†³æ§½ä½å…±äº«ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Codis&lt;/code&gt;æŠŠè¿™ä¸ªå·¥ä½œäº¤ç»™äº†&lt;code&gt;ZooKeeper&lt;/code&gt;æ¥ç®¡ç†ï¼Œ&lt;code&gt;Codis&lt;/code&gt;èŠ‚ç‚¹ä¼šç›‘å¬åˆ°&lt;code&gt;ZooKeeper&lt;/code&gt;çš„æ§½ä½å˜åŒ–ï¼Œä¼šåŠæ—¶åŒæ­¥è¿‡æ¥ï¼Œå¦‚ä¸‹å›¾&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gwobtmal3aj30dh0agjrr.jpg&#34; 
    alt=&#34;æ§½ä½å…±äº«&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¿™ç§æ–¹å¼æœ‰æœ¨æœ‰ä»€ä¹ˆå¼Šç«¯ï¼Ÿï¼Ÿï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœæ˜¯ä½¿ç”¨&lt;code&gt;mset&lt;/code&gt;æ‰¹é‡è®¾ç½®å€¼ï¼Œå€¼æ˜¯æ˜¯ä¸æ˜¯è¢«åˆ†æ•£åœ¨å„ä¸ªèŠ‚ç‚¹ä¸Šï¼Œè¿˜æœ‰å¦‚æœ&lt;code&gt;rename&lt;/code&gt;çš„æ—¶å€™ä¹Ÿæ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œä¸è¿‡æˆ‘è®¤ä¸ºæœ‰ä¸€ç§è§£å†³æ–¹æ¡ˆåœ¨æ˜ å°„çš„æ—¶å€™ç»™&lt;code&gt;key&lt;/code&gt;ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„&lt;code&gt;uuid&lt;/code&gt;ï¼Œæˆ‘&lt;code&gt;rename&lt;/code&gt;çš„åªæ˜¯&lt;code&gt;key&lt;/code&gt;ï¼Œè€Œæ˜ å°„çš„æ—¶å€™ä½¿ç”¨&lt;code&gt;uuid&lt;/code&gt;è®¡ç®—æ§½ä½ï¼Œå½“ç„¶è¿™äº›é—®é¢˜åœ¨åé¢çš„&lt;code&gt;redis&lt;/code&gt;å®˜æ–¹è§£å†³æ–¹æ¡ˆé‡Œé¢å¾—åˆ°äº†è§£å†³ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å®˜æ–¹é›†ç¾¤æ–¹æ¡ˆ&#34;&gt;
    &lt;a href=&#34;#%e5%ae%98%e6%96%b9%e9%9b%86%e7%be%a4%e6%96%b9%e6%a1%88&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å®˜æ–¹é›†ç¾¤æ–¹æ¡ˆ
&lt;/h2&gt;
&lt;p&gt;è¯´èµ·å®˜æ–¹é›†ç¾¤è§£å†³æ–¹æ¡ˆï¼Œæ˜¯&lt;code&gt;redis&lt;/code&gt;ä½œè€…åœ¨å‰é¢é‚£äº›ä»£ç†ä¸­é—´ä»¶å‡ºç°ä¹‹åå‘å¸ƒçš„ï¼Œæˆ‘çœ‹ä»–è¿™ä¸ªè®¾è®¡ä¹‹åæ„Ÿè§‰åº”è¯¥å€Ÿé‰´äº†&lt;code&gt;codis&lt;/code&gt;çš„è®¾è®¡æ–¹æ¡ˆï¼Œåªæ˜¯æŠŠé›†ç¾¤æ§½ä½ä¿¡æ¯åŒæ­¥æ”¹æˆ&lt;code&gt;p2p&lt;/code&gt;ç„¶åé€šè¿‡&lt;code&gt;gossip&lt;/code&gt;åè®®æ¥è§£å†³äº†åŒæ­¥çš„é—®é¢˜ï¼Œä¸ªäººæ„Ÿè§‰éƒ½æ˜¯éƒ½æ˜¯&lt;code&gt;redis&lt;/code&gt;åœ¨è®¾è®¡ä¹‹åˆç•™ä¸‹æŠ€æœ¯è´Ÿå€ºé—®é¢˜ï¼Œæ—©æœŸçš„æ—¶å€™ä¼°è®¡ä½œè€…è‡ªå·±ä¹Ÿæ²¡æœ‰æ‰“ç®—å†™é›†ç¾¤æ–¹æ¡ˆï¼Œè¢«é€¼çš„ï¼Œå½“ç„¶è¿™ä¸ªæ˜¯æˆ‘ä¸ªäººçš„æƒ³æ³•å’Œçœ‹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;ç›¸å¯¹äº &lt;code&gt;Codis&lt;/code&gt; çš„ä¸åŒï¼Œå®ƒæ˜¯å»ä¸­å¿ƒåŒ–çš„ï¼Œå¦‚å›¾ä¸‹é¢æˆ‘ç”»çš„å›¾ï¼Œè¯¥é›†ç¾¤æœ‰4ä¸ª &lt;code&gt;Redis&lt;/code&gt; èŠ‚ç‚¹ç»„æˆï¼Œ æ¯ä¸ªèŠ‚ç‚¹è´Ÿè´£æ•´ä¸ªé›†ç¾¤çš„ä¸€éƒ¨åˆ†æ•°æ®ï¼Œæ¯ä¸ªèŠ‚ç‚¹è´Ÿè´£çš„æ•°æ®å¤šå°‘å¯èƒ½ä¸ä¸€æ ·ï¼Œè¿™4ä¸ªèŠ‚ç‚¹ç›¸ äº’è¿æ¥ç»„æˆä¸€ä¸ªå¯¹ç­‰çš„é›†ç¾¤ï¼Œå®ƒä»¬ä¹‹é—´é€šè¿‡ä¸€ç§&lt;code&gt;gossip&lt;/code&gt;åè®®ç›¸äº’äº¤äº’é›†ç¾¤ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gwph0tv6fcj30fm0d474u.jpg&#34; 
    alt=&#34;ç¤ºæ„å›¾&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;å½“ç„¶æˆ‘ä¸Šé¢ç”»çš„å›¾å¤ªæ¥è¿‘&lt;code&gt;ä¸€è‡´æ€§å“ˆå¸Œç¯&lt;/code&gt;äº†ï¼Œä½†æ˜¯è®¾è®¡æ€æƒ³æ˜¯æ¥è¿‘çš„ï¼Œ&lt;code&gt;Redis Cluster&lt;/code&gt; å°†æ‰€æœ‰æ•°æ®åˆ’åˆ†ä¸º &lt;code&gt;16384&lt;/code&gt; çš„ &lt;code&gt;slots&lt;/code&gt;ï¼Œæ¯” &lt;code&gt;Codis&lt;/code&gt; çš„ &lt;code&gt;1024&lt;/code&gt; ä¸ªæ§½åˆ’åˆ†å¾—æ›´ä¸ºç²¾ç»†ï¼Œæ¯ä¸ªèŠ‚ç‚¹è´Ÿè´£å…¶ä¸­ä¸€éƒ¨åˆ†æ§½ï¼Œæ§½ä½çš„ä¿¡æ¯å­˜å‚¨äºæ¯ä¸ªèŠ‚ç‚¹ä¸­ï¼Œå®ƒä¸åƒ &lt;code&gt;Codis&lt;/code&gt;å­˜å‚¨åœ¨&lt;code&gt;zookeeper&lt;/code&gt;ä¸­ï¼Œç›¸ä¿¡å¤§å®¶éƒ½å¬è¯´è¿‡&lt;code&gt;p2p&lt;/code&gt;ï¼Œä¸æ¸…æ¥šè‡ªå·±å»æŸ¥å§ã€‚ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼å®¢æˆ·ç«¯æ€ä¹ˆè·å–ä¸åŒèŠ‚ç‚¹ä¸­çš„&lt;code&gt;key&lt;/code&gt;å‘¢ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æœ‰æœ¨æœ‰æƒ³è¿‡ï¼Œæˆ‘å®¢æˆ·ç«¯è¿æ¥çš„æ˜¯&lt;code&gt;a&lt;/code&gt;èŠ‚ç‚¹ï¼Œè€Œæˆ‘è¦çš„æ•°æ®åœ¨&lt;code&gt;b&lt;/code&gt;èŠ‚ç‚¹ä¸Šï¼Œè¿™ä¸ªé—®é¢˜æ€ä¹ˆè§£å†³çš„å‘¢ï¼Ÿ&lt;code&gt;redis&lt;/code&gt;åœ¨é€šè®¯åè®®ä¸Šä¸‹äº†åŠŸå¤«ï¼å®ƒå€Ÿé‰´äº†&lt;code&gt;http&lt;/code&gt;åè®®çš„é‡å®šå‘çš„æ¦‚å¿µï¼Œå¤§å®¶çš„åº”è¯¥ç†Ÿæ‚‰&lt;code&gt;http&lt;/code&gt;ä¸­é‡å®šå‘åè®®å§ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gwphe8i7haj309908ndfz.jpg&#34; 
    alt=&#34;é‡å®šå‘è¿‡ç¨‹&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;å®¢æˆ·ç«¯æ¥è¿æ¥é›†ç¾¤æ—¶ï¼Œå®ƒä¹Ÿä¼šå¾—åˆ°ä¸€ä»½é›†ç¾¤çš„æ§½ä½é…ç½®ä¿¡æ¯ã€‚è¿™æ ·å½“å®¢æˆ·ç«¯è¦æŸ¥æ‰¾æŸä¸ª &lt;code&gt;key&lt;/code&gt; æ—¶ï¼Œå¯ä»¥ç›´æ¥å®šä½åˆ°ç›®æ ‡èŠ‚ç‚¹ï¼Œè¿™ä¹ˆä¸€æ¥å°±è§£å†³äº†æ•°æ®é‡å®šå‘æ‹¿å–é—®é¢˜ï¼Œä¸Šé¢æˆ‘è¯´åˆ°äº†&lt;code&gt;codisçš„rename&lt;/code&gt;é—®é¢˜ï¼Œå®˜æ–¹è§£å†³æ–¹æ¡ˆæ˜¯å¯ä»¥è®©å®¢æˆ·ç«¯æŠŠæ¯ä¸ª&lt;code&gt;key&lt;/code&gt;è®¾ç½®ä¸€ä¸ª&lt;code&gt;tag&lt;/code&gt;ç„¶åæŒ‡å®šåˆ°å¯¹åº”èŠ‚ç‚¹æ§½ä½ä¸Šï¼Œæƒ³æ·±å…¥äº†è§£çš„è‡ªå·±çœ‹çœ‹ä¸€äº›èµ„æ–™å§ï¼Œæˆ‘è¿™é‡Œä¸»è¦è®²å¤§é—®é¢˜æ€è·¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¿™ç§æ¨¡å¼å°±åå…¨åç¾äº†å—ï¼Ÿæ²¡æœ‰å…¶ä»–é—®é¢˜äº†å—ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä»ä¸Šé¢æˆ‘ç”»çš„å›¾å°±èƒ½çœ‹å‡ºæ¥ï¼Œé›†ç¾¤å†…ç½®äº†&lt;code&gt;16384&lt;/code&gt;ä¸ª&lt;code&gt;slot&lt;/code&gt;ï¼Œå¹¶ä¸”æŠŠæ‰€æœ‰çš„ç‰©ç†èŠ‚ç‚¹æ˜ å°„åˆ°äº†è¿™&lt;code&gt;16384&lt;/code&gt;ä¸ª&lt;code&gt;slot&lt;/code&gt;ä¸Šï¼Œæˆ–è€…è¯´æŠŠè¿™äº›&lt;code&gt;slot&lt;/code&gt;å‡ç­‰çš„åˆ†é…ç»™äº†å„ä¸ªèŠ‚ç‚¹ï¼Œä½†æ˜¯è¿™ç§åˆ†ç‰‡æ¨¡å¼ï¼Œè‚¯å®šæ˜¯æœ‰é—®é¢˜çš„ï¼Œä¾‹å¦‚ä¸€ä¸ªèŠ‚ç‚¹æŒ‚æ‰äº†ï¼Œé‚£ä¹ˆæ•´ä¸ªé›†ç¾¤ä¸­çš„ä¸€éƒ¨åˆ†æ•°æ®ä¸¢å¤±äº†ï¼Œæ•°æ®å°±ä¸æ˜¯å®Œæ•´çš„äº†ï¼Œæœ‰ä»€ä¹ˆåŠæ³•è§£å†³ï¼Ÿ&lt;/p&gt;
&lt;p&gt;è§£å†³åŠæ³•è¿˜æ˜¯æœ‰çš„æ¯ä¸ªåˆ†ç‰‡èŠ‚ç‚¹å¤‡å‡ ä¸ªä»èŠ‚ç‚¹ï¼Œä»ä¸»èŠ‚ç‚¹ä¸Šè¯»å–æ•°æ®åˆ°ä»èŠ‚ç‚¹ä¸Šï¼Œå’Œå“¨å…µæ¨¡å¼ä¸€æ ·ï¼Œæœ‰é—®é¢˜è‡ªå·±ä»èŠ‚ç‚¹é¡¶ä¸Šã€‚&lt;/p&gt;
&lt;h2 id=&#34;å°ç»“&#34;&gt;
    &lt;a href=&#34;#%e5%b0%8f%e7%bb%93&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å°ç»“
&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;redis&lt;/code&gt;é›†ç¾¤é‡‡ç”¨&lt;code&gt;P2P&lt;/code&gt;æ¨¡å¼ï¼Œæ˜¯å®Œå…¨å»ä¸­å¿ƒåŒ–çš„ï¼Œä¸å­˜åœ¨ä¸­å¿ƒèŠ‚ç‚¹æˆ–è€…ä»£ç†èŠ‚ç‚¹ï¼Œéƒ½æ˜¯å†å²é‡åˆ°é—®é¢˜å°±å‡ºè§£å†³æ–¹æ¡ˆæ¼”è¿›è¿‡æ¥çš„ã€‚ä¼°è®¡ä½œè€…æ—©æœŸä¹Ÿå°±æ˜¯æ‰“ç®—è®¾è®¡çš„æ—¶å€™ä¸€ä¸ªå•æœºå°±èƒ½è§£å†³é—®é¢˜äº†ï¼Œæ²¡æƒ³åˆ°ï¼Œä¸‡ä¸‡æ²¡æƒ³åˆ°å•Šï¼Œç”¨çš„äººé‚£ä¹ˆå¤šï¼Œç„¶åå‡ºç°åˆ†å¸ƒå¼é—®é¢˜å“ˆå“ˆå“ˆå“ˆã€‚ã€‚æ‰€ä»¥å‡ºç°äº†å„ç§è§£å†³æ–¹æ¡ˆï¼Œä¸ç®¡ä»€ä¹ˆè§£å†³æ–¹æ¡ˆï¼Œ&lt;code&gt;redis&lt;/code&gt;æ•°æ®ä¸èƒ½åšåˆ°ä¿è¯å¼ºä¸€è‡´æ€§ï¼Œä¸€äº›å·²ç»å‘å®¢æˆ·ç«¯ç¡®è®¤å†™æˆåŠŸçš„æ“ä½œï¼Œä¼šåœ¨æŸäº›ä¸ç¡®å®šçš„æƒ…å†µä¸‹ä¸¢å¤±ï¼Œè€Œä¸”ç”±äºé›†ç¾¤æ–¹æ¡ˆéƒ½æ˜¯æŠŠä¸€å¤§å—æ•°æ®ä½¿ç”¨&lt;code&gt;åˆ†æ²»æ³•&lt;/code&gt;æ‰“æ•£åœ¨å„ä¸ªèŠ‚ç‚¹ä¸Šï¼Œæ”¯æŒ&lt;code&gt;acid&lt;/code&gt;æ›´æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œè¿™ä¼°è®¡ä¹Ÿæ˜¯åœ¨å†å²è®¾è®¡çš„æ—¶å€™ç•™ä¸‹çš„é—®é¢˜ï¼Œä½†æ˜¯å¤§éƒ¨åˆ†åœºæ™¯&lt;code&gt;redis&lt;/code&gt;éƒ½æ˜¯åšç¼“å­˜æœåŠ¡å™¨ç”¨ç”¨å¯ä»¥äº†ã€‚&lt;/p&gt;
&lt;p&gt;å¥½äº†æœ¬æ–‡æ˜¯&lt;code&gt;redis&lt;/code&gt;ç³»ç»Ÿè®¾è®¡ç³»åˆ—æœ€åä¸€ç« äº†ï¼Œåé¢å†æ‰¾æ‰¾å…¶ä»–&lt;code&gt;NB&lt;/code&gt;çš„ç³»ç»Ÿè®¾è®¡å†™å†™ï¼Œå¥½çœ‹ä¸è¿‡ç˜¾ï¼Œé‚£ä½ å€’æ˜¯ç‚¹ä¸ªå…³æ³¨å•Šã€‚ã€‚ã€‚ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ–‡æœ«ç«‹ä¸ªflag&#34;&gt;
    &lt;a href=&#34;#%e6%96%87%e6%9c%ab%e7%ab%8b%e4%b8%aaflag&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    æ–‡æœ«ç«‹ä¸ªflag
&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;KVBase&lt;/code&gt;è¦å¼€å§‹åŠ¨å·¥äº†ï¼Œå…ˆæŠŠ&lt;code&gt;flag&lt;/code&gt;ç«‹åœ¨è¿™å„¿ï¼Œ&lt;code&gt;logo&lt;/code&gt;éƒ½è®¾è®¡å¥½äº†ï¼Œç®¡å®ƒä¸‰ä¸ƒäºŒåä¸€æŠŠç¬¬ä¸€ä¸ªç‰ˆæœ¬æ’¸å‡ºæ¥å†è¯´ï¼Œç„¶åæ…¢æ…¢è¿­ä»£ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gwpi1bqrbhj31hc0dwwfn.jpg&#34; 
    alt=&#34;LOGOé¢„è§ˆå“ˆå“ˆå“ˆ&#34; 
     /&gt;&lt;/p&gt;

    </description>
    </item>
    
    <item>
    <title>How Redis Solves the CAP Problem</title>
    <link>http://blog.ibyte.me/post/how-redis-solves-the-cap-problem/</link>
    <pubDate>Wed, 10 Nov 2021 17:22:55 +0800</pubDate>
    
    <guid>http://blog.ibyte.me/post/how-redis-solves-the-cap-problem/</guid>
    <description>
        &lt;h2 id=&#34;capç†è®º&#34;&gt;
    &lt;a href=&#34;#cap%e7%90%86%e8%ae%ba&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    CAPç†è®º
&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;CAP&lt;/code&gt;ç†è®ºæ˜¯ä»€ä¹ˆï¼Ÿ å¯ä»¥è¿™ä¹ˆè¯´å§&lt;code&gt;cap&lt;/code&gt;ç†è®ºæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿçš„å¥ åŸºçŸ³å§ï¼Œè¿™ä¸ªç†è®ºè®ºè¿°åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡çš„&lt;code&gt;3&lt;/code&gt;ä¸ªæœ€å¤§é—®é¢˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€è‡´æ€§ (&lt;code&gt;Consistency&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;å¯ç”¨æ€§ (&lt;code&gt;Availability&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;åˆ†åŒºå®¹é”™æ€§ (&lt;code&gt;Partition Tolerance&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä»€ä¹ˆæ˜¯&lt;code&gt;ä¸€è‡´æ€§&lt;/code&gt;ï¼Ÿå‡è®¾ä¸€ä¸ªé›†ç¾¤æœ‰&lt;code&gt;2&lt;/code&gt;ä¸ªèŠ‚ç‚¹&lt;code&gt;A-1&lt;/code&gt;å’Œ&lt;code&gt;A-2&lt;/code&gt;ï¼Œè¿™ä¸¤ä¸ªèŠ‚ç‚¹ä¸ºä¸»ä»å…³ç³»ï¼Œä¾‹å¦‚&lt;code&gt;redis&lt;/code&gt;é‡Œé¢çš„ä¸»ä»æ¨¡å¼ã€‚ä¸»èŠ‚ç‚¹è´Ÿè´£å†™å…¥æ•°æ®ï¼Œä»èŠ‚ç‚¹è´Ÿè´£ä»ä¸»èŠ‚ç‚¹åŒæ­¥æ•°æ®åˆ°æœ¬æœºã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gw6xnn7ddaj311o0fwdg8.jpg&#34; 
    alt=&#34;å¦‚å›¾&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;A-1&lt;/code&gt;å’Œ&lt;code&gt;A-2&lt;/code&gt; é€šè¿‡ç½‘ç»œè¿›è¡Œæ•°æ®åŒæ­¥ï¼Œè¦æ€ä¹ˆä¿è¯ä¸¤å°æœºå­ä¸Šçš„æ•°æ®ä¸€è‡´çš„å‘¢ï¼Ÿè¿™ä¸ªå°±æ˜¯æ•°æ®&lt;code&gt;ä¸€è‡´æ€§&lt;/code&gt;é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä»€ä¹ˆæ˜¯&lt;code&gt;å¯ç”¨æ€§&lt;/code&gt;ï¼Ÿ&lt;code&gt;A-1&lt;/code&gt;å’Œ&lt;code&gt;A-2&lt;/code&gt;ä¸¤å°æœºå­åšæˆä¸€ä¸ªé›†ç¾¤ï¼Œå®é™…ä¸ŠçœŸå®æƒ…å†µå¯èƒ½æ›´å¤šï¼Œåœ¨é›†ç¾¤ä¸­ä¸€éƒ¨åˆ†èŠ‚ç‚¹æ•…éšœåï¼Œé›†ç¾¤æ•´ä½“æ˜¯å¦è¿˜èƒ½å“åº”å®¢æˆ·ç«¯çš„è¯»å†™è¯·æ±‚ï¼Œä¾‹å¦‚&lt;code&gt;A-1&lt;/code&gt;æŒ‚æ‰ä»¥åï¼Œ&lt;code&gt;A-2&lt;/code&gt;ä¼šé©¬ä¸Šæ¥ç®¡è¿™äº›è¯·æ±‚çš„ï¼Œä¿æŒæ•´ä½“å¯ç”¨æ€§ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä»€ä¹ˆæ˜¯&lt;code&gt;åˆ†åŒºå®¹é”™æ€§&lt;/code&gt;ï¼Ÿä¸€ä¸ªé›†ç¾¤éƒ½é ç€ç½‘ç»œè¿›è¡Œé€šè®¯çš„ï¼Œå¦‚æœç½‘ç»œæ³¢åŠ¨ï¼Œè¿™ä¸ªé›†ç¾¤ä¸­çš„éƒ¨åˆ†èŠ‚ç‚¹ç½‘ç»œå’Œé›†ç¾¤ä¸Šçš„å…¶ä»–èŠ‚ç‚¹è”é€šä¸äº†ï¼Œé‚£ä¹ˆæ•°æ®ä¸€è‡´æ€§å°±å¾ˆéš¾ä¿æŒäº†ï¼Œç½‘ç»œä¸€æ–­å¼€ï¼Œé‚£ä¹ˆé‚£ä¹ˆæ•´ä¸ªé›†ç¾¤å¯èƒ½è¢«åˆ’åˆ†æˆå¤šä¸ªç‹¬ç«‹çš„å°åˆ†åŒºäº†ï¼Œå¦‚æœåœ¨çŸ­æ—¶é—´å†…ä¸èƒ½è”é€šåŒæ­¥æ•°æ®ï¼Œè¿™å°±æ˜¯å‡ºç°&lt;code&gt;ç½‘ç»œåˆ†åŒºé—®é¢˜&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gw6y36jt9tj30xy0u0t9r.jpg&#34; 
    alt=&#34;ç½‘ç»œåˆ†åŒº&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;å¦‚ä¸Šå›¾ &lt;code&gt;A-1&lt;/code&gt;å’Œ&lt;code&gt;A-3&lt;/code&gt;ç½‘ç»œè¿æ¥å‡ºç°äº†æ•…éšœï¼Œé‚£ä¹ˆè¿™ä¸ªé›†ç¾¤å°±å·²ç»å­˜åœ¨äº†&lt;code&gt;ç½‘ç»œåˆ†åŒºé—®é¢˜&lt;/code&gt;ï¼ä½†æ˜¯æ•´ä½“é›†ç¾¤è€Œçœ‹ä¸Šå»å´å¥½åƒæ˜¯åœ¨ä¸€ä¸ªå¯ä»¥è¿è½¬æ­£å¸¸ï¼Œå…¶ä»–å‰©ä¸‹çš„æœºå™¨è¿˜èƒ½å¤Ÿæ­£å¸¸è¿è½¬æ»¡è¶³ç³»ç»Ÿéœ€æ±‚ï¼Œå¯¹äºç”¨æˆ·è€Œè¨€å¹¶æ²¡æœ‰ä»€ä¹ˆä½“éªŒä¸Šçš„å½±å“ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ‰€ä»¥åœ¨è®¾è®¡åˆ†å¸ƒå¼ç³»ç»Ÿæ—¶ï¼ŒCAPé—®é¢˜å¿…ä¼šå‡ºç°ï¼é™¤éä½ ç©å•æœºç³»ç»ŸğŸ˜œï¼æ€ä¹ˆä¼˜é›…è§£å†³é—®é¢˜ï¼Œå°±çœ‹è®¾è®¡è€…äº†åœ¨&lt;code&gt;A&lt;/code&gt;å’Œ&lt;code&gt;C&lt;/code&gt;ã€&lt;code&gt;P&lt;/code&gt;ä¹‹å‰æ€ä¹ˆåšå†³ç­–äº†ã€‚ç”¨è¿™äº›é—®é¢˜æˆ‘å»å¥—ç”¨åœ¨&lt;code&gt;redis&lt;/code&gt;é›†ç¾¤æ¨¡å¼ä¸Šï¼Œçœ‹redisé›†ç¾¤æ˜¯æ€ä¹ˆè§£å†³CAPé—®é¢˜çš„ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&#34;rediså“¨å…µ&#34;&gt;
    &lt;a href=&#34;#redis%e5%93%a8%e5%85%b5&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    Rediså“¨å…µ
&lt;/h2&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gw70jzv2abj30e50bkaag.jpg&#34; 
    alt=&#34;å“¨å…µ&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Redisæ—©æœŸç‰ˆæœ¬&lt;/code&gt;ï¼Œ&lt;code&gt;redis&lt;/code&gt;å•æœºæƒ…å†µä¸‹å³ä¾¿æ€§èƒ½å¼ºçš„ä¸€æ‰¹ï¼Œä½†æ˜¯å¤§è§„æ¨¡æ•°æ®æˆ–è€…æµ·é‡è¯·æ±‚ä¸‹è¿˜æ˜¯ä¸ºæ”¯æ’‘ä¸äº†å¯ç”¨æ€§å’Œç¨³å®šæ€§ï¼Œåé¢&lt;code&gt;redis&lt;/code&gt;å®˜æ–¹æœ‰ä¸€ä¸ªè§£å†³æ–¹æ¡ˆå°±æ˜¯&lt;code&gt;å“¨å…µæ¨¡å¼&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;å“¨å…µæ¨¡å¼&lt;/code&gt;ï¼šä¸Šé¢æåˆ°äº†ä¸»ä»æ¶æ„ï¼Œä¸»ä»åˆ‡æ¢æŠ€æœ¯æ–¹æ¡ˆæ˜¯ï¼Œå½“ä¸»æœåŠ¡å™¨å®•æœºåï¼Œéœ€è¦æ‰‹åŠ¨æŠŠä¸€å°ä»æœåŠ¡å™¨åˆ‡æ¢ä¸ºä¸»æœåŠ¡å™¨ï¼Œè¿™ä¸­é—´å°±éœ€è¦äººå·¥å¹²é¢„ï¼Œä¾‹å¦‚å¤§åŠå¤œæ”¶åˆ°æŠ¥è­¦ï¼Œçˆ¬èµ·æ¥æ‰‹åŠ¨åˆ‡æ¢æœåŠ¡å™¨ï¼Ÿï¼Ÿï¼Ÿéœ€è¦æ‰‹åŠ¨å°† &lt;code&gt;ä»èŠ‚ç‚¹&lt;/code&gt; æ™‹å‡ä¸º &lt;code&gt;ä¸»èŠ‚ç‚¹&lt;/code&gt;ï¼ŒåŒæ—¶è¿˜è¦é€šçŸ¥ &lt;code&gt;å®¢æˆ·ç«¯&lt;/code&gt; æ›´æ–° &lt;code&gt;ä¸»èŠ‚ç‚¹åœ°å€&lt;/code&gt;ï¼Œæ˜¾ç„¶è¿™ç§é—®é¢˜æ€ä¹ˆå¯èƒ½å¿ï¼Ÿå¤§å®¶éƒ½æ˜¯ç¨‹åºå‘˜è‡ªå·±å†™ä¸ªç¨‹åºè‡ªåŠ¨åŒ–ä¸å°±å¥½äº†ï¼Œä¸ºä»€ä¹ˆè¦ç”¨è¿™ä¹ˆç¬¨æ–¹å¼ã€‚ã€‚ã€‚&lt;code&gt;å“¨å…µæ¨¡å¼&lt;/code&gt;å“¨å…µå°±æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„ï¼Œå“¨å…µæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„è¿›ç¨‹ï¼Œä½œä¸ºè¿›ç¨‹ï¼Œå®ƒä¼šç‹¬ç«‹è¿è¡Œï¼Œå…¶åŸç†æ˜¯å“¨å…µé€šè¿‡å‘é€å‘½ä»¤ï¼Œç­‰å¾…&lt;code&gt;Redis&lt;/code&gt;æœåŠ¡å™¨å“åº”ï¼Œä»è€Œç›‘æ§è¿è¡Œçš„å¤šä¸ª&lt;code&gt;Redis&lt;/code&gt;å®ä¾‹ï¼Œå½“æœ‰ä¸€ä¸ªèŠ‚ç‚¹æŒ‚æ‰çš„æ—¶å€™ï¼Œå®¢æˆ·ç«¯è¿æ¥å…¶èŠ‚ç‚¹å¤±è´¥ï¼Œå°±ä¼šå‘å“¨å…µæœåŠ¡å™¨è¯¢é—®æ–°çš„èŠ‚ç‚¹åœ°å€ç„¶åç»§ç»­ä½¿ç”¨ï¼Œå…¶ä»–ä»èŠ‚ç‚¹ä¹Ÿä¼šè·Ÿç€æŠŠä¸»èŠ‚ç‚¹è°ƒæ•´åˆ°æ–°èŠ‚ç‚¹ä¸Šï¼Œå“¨å…µè¿˜ä¼šè®°å½•å½“å‰æŒ‚æ‰èŠ‚ç‚¹çŠ¶æ€ï¼Œè¿˜ä¼šå®šæ—¶è¿›è¡ŒæŸ¥çœ‹å¦‚æœå¤æ´»äº†è¿˜ä¼šæ·»åŠ åˆ°å“¨å…µé›†ç¾¤é‡Œï¼Œä»è€Œè¾¾åˆ°æ— äººå¹²æ‰°ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å¢é‡åŒæ­¥å…¨é‡åŒæ­¥&#34;&gt;
    &lt;a href=&#34;#%e5%a2%9e%e9%87%8f%e5%90%8c%e6%ad%a5%e5%85%a8%e9%87%8f%e5%90%8c%e6%ad%a5&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å¢é‡åŒæ­¥&amp;amp;amp;å…¨é‡åŒæ­¥
&lt;/h2&gt;
&lt;p&gt;ä¸Šé¢å“¨å…µæ¨¡å¼åˆ‡æ¢è¿‡ç¨‹ï¼Œæåˆ°äº†ä¸»ä»ï¼Œé‚£ä¸»ä»èŠ‚ç‚¹æ•°æ®ï¼Œæ€ä¹ˆä¿è¯ä¸€è‡´æ€§çš„çš„ï¼Ÿåœ¨&lt;code&gt;redis&lt;/code&gt;é›†ç¾¤æƒ…å†µä¸‹åŒæ­¥æ¨¡å¼æœ‰ä¸¤ç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¢é‡åŒæ­¥&lt;/li&gt;
&lt;li&gt;å…¨é‡åŒæ­¥&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è®¾æƒ³ä¸€ä¸‹ä¸»ä»èŠ‚ç‚¹åœ¨æŸä¸ªç½‘ç»œæƒ…å†µå‡ºç°é—®é¢˜æ³¢åŠ¨ï¼Œè¿™æ˜¯å®¢æˆ·ç«¯æ­£åœ¨æœç€æœåŠ¡å™¨ç«¯ä¸»èŠ‚ç‚¹ï¼Œå†™æ•°æ®ï¼Œè€Œä»èŠ‚ç‚¹åˆåœ¨ä»ä¸»èŠ‚ç‚¹è¯»å–åŒæ­¥è¢«å†™å…¥çš„æ•°æ®ï¼Œè¿™æ—¶ç½‘ç»œä¸€æ³¢åŠ¨ï¼Œé‚£ä¹ˆå°±å‡ºç°ç½‘ç»œåˆ†åŒºäº†ã€‚å‡ºç°ç½‘ç»œåˆ†åŒºäº†ï¼Œæ­¤æ—¶ä¸¤ä¸ªèŠ‚ç‚¹å°±å¤„äºç‹¬ç«‹çš„å•æœºçŠ¶æ€ï¼Œå¦‚å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gw71jdnzcsj30fl0dcaae.jpg&#34; 
    alt=&#34;çœ‹è¿™ä¸ªå›¾ç‰¹å®šç”»çš„&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;æ­£å¦‚ä¸Šå›¾æ‰€è¯çš„ï¼Œä¸»ä»åœ¨çŸ­æ—¶é—´å†…å‡ºç°ç½‘ç»œåˆ†åŒºï¼Œ&lt;code&gt;redis&lt;/code&gt;çš„è®¾è®¡è€…é’ˆå¯¹è¿™ä¸ªæ–¹æ¡ˆæå‡ºäº†ä¸€ä¸ªæ–¹æ¡ˆå«&lt;code&gt;å¢é‡å¤åˆ¶&lt;/code&gt;ï¼Œå¦‚ä¸‹å›¾ï¼Œå½“ç„¶è¿™ä¸ªå›¾æˆ‘ä¹‹å‰è®²&lt;code&gt;go&lt;/code&gt;ä¸­çš„&lt;code&gt;channel&lt;/code&gt;çš„æ—¶å€™ç”»çš„ï¼Œåæ­£æ˜¯åŒç”¨çš„ï¼Œæ‰€ä»¥æ‡’å¾—è¯äº†ï¼Œç›´æ¥æ‹¿è¿‡æ¥ç”¨ä¸€ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gtl27ej1w4j60qo0k0t9202.jpg&#34; 
    alt=&#34;å¢é‡åŒæ­¥&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;redis&lt;/code&gt;åœ¨æ¯ä¸ªä¸»èŠ‚ç‚¹ä¸Šåˆ†é…ä¸€å¿«&lt;code&gt;ring&lt;/code&gt;ä¹Ÿå¯ä»¥å«ä¸º&lt;code&gt;buf&lt;/code&gt;ï¼Œè¿™ä¸ª&lt;code&gt;ring&lt;/code&gt;æ˜¯é‡Œé¢å°±è®°å½•å®ƒè‡ªèº«å¤§å°å…ƒç´ ä¸ªæ•°çš„&lt;code&gt;æœ€è¿‘å®¢æˆ·ç«¯æ‰§è¡Œå‘½ä»¤è®°å½•&lt;/code&gt;ï¼Œå¦‚æœä»èŠ‚ç‚¹çŸ­æ—¶é—´å†…æ¢å¤äº†é“¾æ¥ï¼Œæ­¤æ—¶ä»èŠ‚ç‚¹ç›´æ¥å»ä¸»èŠ‚ç‚¹çš„&lt;code&gt;ring&lt;/code&gt;ä¸­æ‹¿å–å‘½ä»¤è®°å½•æ•°æ®ï¼Œç„¶ååœ¨è‡ªå·±æœ¬æœºä¸Šè·‘ä¸€éã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;å¢é‡å¤åˆ¶&lt;/code&gt;ä¸æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œè®¾æƒ³ä¸€ä¸‹å¦‚æœè¿™ä¸ªç½‘ç»œåˆ†åŒºå‡ºç°å¾ˆé•¿æ—¶é—´ï¼Œè¿™ä¸ª&lt;code&gt;ring&lt;/code&gt;å®¹é‡æ˜¯ä¸æ˜¯ä¸å¤Ÿç”¨ï¼Œæ‰€æœ‰ç¬¬äºŒå¥—è§£å†³æ–¹æ¡ˆå‡ºç°äº†ï¼Œ&lt;code&gt;å…¨é‡åŒæ­¥&lt;/code&gt;è¿™ä¸ªè¿‡ç¨‹æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ç›´æ¥æŠŠ&lt;code&gt;redis&lt;/code&gt;åœ¨å†…å­˜é‡Œé¢çš„æ•°æ®é€šè¿‡åºåˆ—åŒ–ç„¶åé€šè¿‡ç½‘ç»œå‘é€åˆ°ä»èŠ‚ç‚¹ï¼Œä»èŠ‚ç‚¹åœ¨æœ¬åœ°ä¿å­˜ï¼Œç„¶åå…¨é‡åŠ è½½åˆ°å†…å­˜é‡Œé¢å®Œæˆæ•°æ®æ¢å¤ï¼Œåœ¨å…¨é‡åŒæ­¥çš„æ—¶å€™ï¼Œå¯èƒ½ä¹Ÿæœ‰å…¶ä»–å‘½ä»¤æ¼æ‰ï¼Œè¿˜ä¼šé…ä¸Š&lt;code&gt;å¢é‡å¤åˆ¶&lt;/code&gt;è¿›è¡Œã€‚&lt;/p&gt;
&lt;h2 id=&#34;å°ç»“&#34;&gt;
    &lt;a href=&#34;#%e5%b0%8f%e7%bb%93&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å°ç»“
&lt;/h2&gt;
&lt;p&gt;ç›®å‰åªè¯´åˆ°&lt;code&gt;Redis&lt;/code&gt;å“¨å…µæ¨¡å¼äº†ï¼Œè¿™ä¸ªæ¨¡å¼èƒ½è§£å†³ä¸€éƒ¨åˆ†&lt;code&gt;CAP&lt;/code&gt;é—®é¢˜ï¼Œä¾‹å¦‚è¿˜æœ‰ï¼šèŠ‚ç‚¹åŠ¨æ€æ·»åŠ ï¼Œæ•°æ®åŠ¨æ€è¿ç§»ã€‚ã€‚ã€‚è¿™äº›é—®é¢˜åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« å†™ï¼Œä¹Ÿæ˜¯ç»å…¸çš„&lt;code&gt;åˆ†è€Œæ²»ä¹‹&lt;/code&gt;çš„åº”ç”¨ã€‚&lt;/p&gt;

    </description>
    </item>
    
    <item>
    <title>Why Is Redis High Performance</title>
    <link>http://blog.ibyte.me/post/why-is-redis-high-performance/</link>
    <pubDate>Thu, 04 Nov 2021 14:32:49 +0800</pubDate>
    
    <guid>http://blog.ibyte.me/post/why-is-redis-high-performance/</guid>
    <description>
        &lt;h2 id=&#34;redisçš„é«˜æ€§èƒ½æ€ä¹ˆåšåˆ°çš„&#34;&gt;
    &lt;a href=&#34;#redis%e7%9a%84%e9%ab%98%e6%80%a7%e8%83%bd%e6%80%8e%e4%b9%88%e5%81%9a%e5%88%b0%e7%9a%84&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    Redisçš„é«˜æ€§èƒ½æ€ä¹ˆåšåˆ°çš„ï¼Ÿ
&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;Redis&lt;/code&gt;è¿™ä¸ª&lt;code&gt;NOSQL&lt;/code&gt;æ•°æ®åº“åœ¨è®¡ç®—æœºç•Œå¯è°“æ˜¯æ— äººä¸çŸ¥ï¼Œæ— äººä¸æ™“ã€‚åªè¦æ¶‰åŠåˆ°æ•°æ®é‚£ä¹ˆå°±éœ€è¦æ•°æ®åº“ï¼Œæ•°æ®åº“ç±»å‹å¾ˆå¤šï¼Œä½†æ˜¯&lt;code&gt;NOSQL&lt;/code&gt;çš„&lt;code&gt;kv&lt;/code&gt;å†…å­˜æ•°æ®åº“ä¹Ÿå¾ˆå¤šï¼Œ&lt;code&gt;redis&lt;/code&gt;ä½œä¸ºå…¶ä¸­ä¸€ä¸ªæ˜¯æ€ä¹ˆåšåˆ°è¡Œä¸šå¤©èŠ±æ¿çš„å‘¢ï¼Ÿæ˜¯æ€ä¹ˆåšåˆ°é«˜æ€§èƒ½çš„å‘¢ï¼Ÿæ€ä¹ˆåšåˆ°é«˜å¯ç”¨çš„å‘¢ï¼Ÿä»Šå¤©è¿™ç¯‡å…«è‚¡æ–‡æˆ‘å°±æ•´ç†ä¸€äº›&lt;code&gt;redis&lt;/code&gt;çš„è®¾è®¡å†™å†™ï¼Œæœ¬ç¯‡è¿˜æ˜¯åå…³äº&lt;code&gt;é«˜æ€§èƒ½&lt;/code&gt;è¿™ä¸€å—ã€‚&lt;/p&gt;
&lt;h2 id=&#34;é«˜æ•ˆæ•°æ®ç»“æ„&#34;&gt;
    &lt;a href=&#34;#%e9%ab%98%e6%95%88%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    é«˜æ•ˆæ•°æ®ç»“æ„
&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;Redis&lt;/code&gt;çš„æ•°æ®åº“ç›¸æ¯”ä¼ ç»Ÿçš„å…³ç³»æ•°æ®åº“ï¼Œåœ¨æ•°æ®ç»“æ„ä¸Šä¹Ÿæ˜¯æ¯”è¾ƒç‰¹æ®Šçš„ï¼Œå®ƒçš„æ‰€æœ‰æ•°æ®ç±»å‹éƒ½å¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ª&lt;code&gt;map&lt;/code&gt;çš„ç»“æ„ï¼Œ&lt;code&gt;key&lt;/code&gt;ä½œä¸ºæŸ¥è¯¢æ¡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gw12lj58anj30de0doweo.jpg&#34; 
    alt=&#34;åŸºæœ¬æ•°æ®ç»“æ„&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Redis&lt;/code&gt;åŸºäº&lt;code&gt;KV&lt;/code&gt;å†…å­˜æ•°æ®åº“ï¼Œå®ƒå†…éƒ¨æ„å»ºäº†ä¸€ä¸ªå“ˆå¸Œè¡¨ï¼Œæ ¹æ®æŒ‡å®šçš„&lt;code&gt;KEY&lt;/code&gt;è®¿é—®æ—¶ï¼Œåªéœ€è¦&lt;code&gt;O(1)&lt;/code&gt;çš„æ—¶é—´å¤æ‚åº¦å°±å¯ä»¥æ‰¾åˆ°å¯¹åº”çš„æ•°æ®ï¼Œè€Œ&lt;code&gt;value&lt;/code&gt;çš„å€¼åˆæ˜¯ä¸€äº›æ‹¥æœ‰å„ç§ç‰¹æ€§çš„æ•°æ®ç»“æ„ï¼Œè¿™å°±ç»™&lt;code&gt;redis&lt;/code&gt;åœ¨æ•°æ®æ“ä½œçš„æ—¶å€™æä¾›å¾ˆå¥½çš„æ€§èƒ½äº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;åŸºäºå†…å­˜å­˜å‚¨&#34;&gt;
    &lt;a href=&#34;#%e5%9f%ba%e4%ba%8e%e5%86%85%e5%ad%98%e5%ad%98%e5%82%a8&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    åŸºäºå†…å­˜å­˜å‚¨
&lt;/h2&gt;
&lt;p&gt;ç›¸æ¯”ä¼ ç»Ÿçš„å…³ç³»æ•°æ®åº“ï¼Œæ•°æ®æ–‡ä»¶å¯èƒ½ä»¥&lt;code&gt;lsm tree æˆ–è€… b+ tree&lt;/code&gt;å½¢å¼å­˜åœ¨ç¡¬ç›˜ä¸Šï¼Œè¿™ä¸ªæ—¶å€™è¯»å–æ–‡ä»¶è¦æœ‰&lt;code&gt;io&lt;/code&gt;æ“ä½œäº†ï¼Œè€Œ&lt;code&gt;redis&lt;/code&gt;åœ¨å†…å­˜ä¸­è¿›è¡Œï¼Œå¹¶ä¸ä¼šå¤§é‡æ¶ˆè€—&lt;code&gt;CPU&lt;/code&gt;èµ„æºï¼Œæ‰€ä»¥é€Ÿåº¦æå¿«ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gw12yqw92mj30vq0gbq42.jpg&#34; 
    alt=&#34;å­˜å‚¨é‡‘å­—å¡”&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;å†…å­˜ä»ä¸Šå›¾å¯ä»¥çœ‹åˆ°å®ƒä»‹äºç¡¬ç›˜å’Œ&lt;code&gt;cpu&lt;/code&gt;ç¼“å­˜ä¸­é—´çš„ï¼Œç›¸æ¯”ç¡¬ç›˜æŸ¥æ‰¾æ•°æ®è‚¯å®šæ˜¯å¿«çš„ï¼Œå½“ç„¶è¿™é‡Œç¬”è€…ä¸ªäººè§è§£ä¸Šï¼Œå¦‚æœå…³ç³»å‹æ•°æ®åº“æŠŠä¸€äº›å¹³å‡¡æ“ä½œçš„æ•°æ®åº“ä¹Ÿæ”¾ç½®åœ¨å†…å­˜ä¸­ç¼“å­˜ï¼Œä¹Ÿä¼šå¾—åˆ°ä¸€äº›æ€§èƒ½çš„æå‡ï¼Œåƒæ“ä½œç³»ç»Ÿé‡Œé¢ç¼ºé¡µå¼‚å¸¸ä¸€æ ·å¤„ç†ï¼ŒæŠŠæ•°æ®ç‰‡æ®µé€šè¿‡ä¸€äº›ç‰¹æ®Šç®—æ³•ç¼“å­˜åœ¨å†…å­˜é‡Œé¢ï¼Œå‡å°‘æ–‡ä»¶&lt;code&gt;io&lt;/code&gt;çš„å¼€é”€ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ioå¤šè·¯å¤ç”¨&#34;&gt;
    &lt;a href=&#34;#io%e5%a4%9a%e8%b7%af%e5%a4%8d%e7%94%a8&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    ioå¤šè·¯å¤ç”¨
&lt;/h2&gt;
&lt;p&gt;ä¼ ç»Ÿå¯¹äºå¹¶å‘æƒ…å†µï¼Œå‡å¦‚ä¸€ä¸ªè¿›ç¨‹ä¸è¡Œï¼Œé‚£æå¤šä¸ªè¿›ç¨‹ä¸å°±å¯ä»¥åŒæ—¶å¤„ç†å¤šä¸ªå®¢æˆ·ç«¯è¿æ¥äº†ä¹ˆï¼Ÿå¤šè¿›ç¨‹æ˜¯å¯ä»¥è§£å†³ä¸€äº›å¹¶å‘é—®é¢˜ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰ä¸€äº›é—®é¢˜ï¼Œä¸Šä¸‹æ–‡åˆ‡æ¢å¼€é”€ï¼Œçº¿ç¨‹å¾ªç¯åˆ›å»ºï¼Œä»&lt;code&gt;PCB&lt;/code&gt;æ¥å›æ¢å¤æ•ˆç‡è¾ƒä½ã€‚éšç€å®¢æˆ·ç«¯è¯·æ±‚å¢å¤šï¼Œé‚£ä¹ˆçº¿ç¨‹ä¹Ÿéšç€è¯·æ±‚æ•°é‡ç›´çº¿ä¸Šå‡ï¼Œå¦‚æœæ˜¯å¹¶å‘çš„æ—¶å€™æ¶‰åŠåˆ°æ•°æ®å…±äº«è®¿é—®ï¼Œæœ‰æ—¶å€™æ¶‰åŠåˆ°ä½¿ç”¨é”æ¥æ§åˆ¶èŒƒå›´é¡ºåºï¼Œå½±å“å…¶ä»–çº¿ç¨‹æ‰§è¡Œæ•ˆç‡ã€‚ï¼ˆè¿›ç¨‹åœ¨&lt;code&gt;Linux&lt;/code&gt;ä¹Ÿå¯ä»¥ç†è§£ä¸ºçº¿ç¨‹ï¼Œæ¯ä¸ªè¿›ç¨‹åªæ˜¯æœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œå½“ç„¶è¿™é‡Œæˆ‘ä¸Šé¢å†™çš„è¿›ç¨‹ï¼Œåˆ«çº ç»“è¿™äº›ã€‚ã€‚ã€‚ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;code&gt;çº¿ç¨‹&lt;/code&gt;æ˜¯è¿è¡Œåœ¨è¿›ç¨‹ä¸Šä¸‹æ–‡çš„é€»è¾‘æµï¼Œä¸€ä¸ªè¿›ç¨‹å¯ä»¥åŒ…å«å¤šä¸ªçº¿ç¨‹ï¼Œå¤šä¸ªçº¿ç¨‹è¿è¡Œåœ¨åŒä¸€è¿›ç¨‹ä¸Šä¸‹æ–‡ä¸­ï¼Œå› æ­¤å¯å…±äº«è¿™ä¸ªè¿›ç¨‹åœ°å€ç©ºé—´çš„æ‰€æœ‰å†…å®¹ï¼Œè§£å†³äº†è¿›ç¨‹ä¸è¿›ç¨‹ä¹‹é—´é€šä¿¡éš¾çš„é—®é¢˜ï¼ŒåŒæ—¶ï¼Œç”±äºä¸€ä¸ªçº¿ç¨‹çš„ä¸Šä¸‹æ–‡è¦æ¯”ä¸€ä¸ªè¿›ç¨‹çš„ä¸Šä¸‹æ–‡å°å¾—å¤šï¼Œæ‰€ä»¥çº¿ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œè¦æ¯”è¿›ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢æ•ˆç‡é«˜å¾—å¤šã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åƒ&lt;code&gt;redis&lt;/code&gt;å’Œ&lt;code&gt;Nginx&lt;/code&gt;è¿™ç§åº”ç”¨å°±æ˜¯å•çº¿ç¨‹çš„ç¨‹åºï¼Œä¸ºä»€ä¹ˆä»–ä»¬èƒ½åšåˆ°è¿™ä¹ˆå¼ºçš„æ€§èƒ½ï¼Ÿé¦–å…ˆçœ‹ä¸€ä¸ªä¾‹å­ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Blocking IO&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸­åˆåƒé¥­ï¼Œæˆ‘ç»™é¤å…è€æ¿è¯´è¦ä¸€ç¢—â€˜çƒ­å¹²é¢â€™ï¼Œç„¶åæˆ‘å°±åœ¨é‚£è¾¹ä¸€ç›´ç­‰ç€è€æ¿åšï¼Œè€æ¿æ²¡æœ‰åšå¥½ï¼Œæˆ‘å°±ä¸€ç›´åœ¨å“ªé‡Œç­‰ç€ä»€ä¹ˆä¹Ÿä¸åšï¼Œç›´åˆ°â€˜çƒ­å¹²é¢â€™åšå¥½ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¿™ä¸ªæµç¨‹å°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„&lt;code&gt;Blocking I/O&lt;/code&gt;å¦‚å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gw340thbasj30wk0u0gn7.jpg&#34; 
    alt=&#34;blocking io&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;åŒæ­¥&lt;code&gt;é˜»å¡ IO &lt;/code&gt;æ¨¡å‹ä¸­ï¼Œåº”ç”¨ç¨‹åºå‘èµ· &lt;code&gt;read&lt;/code&gt; è°ƒç”¨åï¼Œä¼šä¸€ç›´é˜»å¡ï¼Œç›´åˆ°å†…æ ¸æŠŠæ•°æ®æ‹·è´åˆ°ç”¨æˆ·ç©ºé—´ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Non Blocking IO&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åˆ‡æ¢ä¸€ä¸‹å¸¸è§ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åŒæ ·ä½ ä¸­åˆåƒé¥­ï¼Œç»™é¤å…è€æ¿è¯´è¦ä¸€ç¢—â€˜çƒ­å¹²é¢â€™ï¼Œç„¶åè€æ¿å¼€å§‹åšäº†ï¼Œä½ æ¯éš”å‡ åˆ†é’Ÿå‘è€æ¿é—®ä¸€ä¸‹â€˜å¥½äº†å—ï¼Ÿâ€™ï¼Œç›´åˆ°è€æ¿è¯´å¥½äº†ï¼Œä½ å–åˆ°â€˜çƒ­å¹²é¢â€™ç»“æŸã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gw002j5urbj30ww0u0gnu.jpg&#34; 
    alt=&#34;éé˜»å¡io&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;åŒæ­¥&lt;code&gt;éé˜»å¡ IO &lt;/code&gt;æ¨¡å‹ä¸­ï¼Œåº”ç”¨ç¨‹åºä¼šä¸€ç›´å‘èµ·&lt;code&gt;read&lt;/code&gt;è°ƒç”¨ï¼Œç­‰å¾…æ•°æ®ä»å†…æ ¸ç©ºé—´æ‹·è´åˆ°ç”¨æˆ·ç©ºé—´çš„è¿™æ®µæ—¶é—´é‡Œï¼Œçº¿ç¨‹ä¾ç„¶æ˜¯é˜»å¡çš„ï¼Œç›´åˆ°åœ¨å†…æ ¸æŠŠæ•°æ®æ‹·è´åˆ°ç”¨æˆ·ç©ºé—´ï¼Œé€šè¿‡è½®è¯¢æ“ä½œï¼Œé¿å…äº†ä¸€ç›´é˜»å¡ï¼Œå–å›&lt;code&gt;çƒ­å¹²é¢&lt;/code&gt;çš„è¿‡ç¨‹å°±æ˜¯å†…æ ¸æŠŠå‡†å¤‡å¥½çš„æ•°æ®äº¤æ¢åˆ°ç”¨æˆ·ç©ºé—´è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;ç»¼ä¸Šä¸¤ç§æ¨¡å‹ï¼Œç¼ºç‚¹éƒ½æ˜¯å·®ä¸å¤šï¼Œéƒ½æ˜¯åœ¨ç­‰å¾…å†…æ ¸å‡†å¤‡æ•°æ®ï¼Œç„¶åé˜»å¡ç­‰å¾…ï¼ŒåŒæ ·é€ƒä¸å¼€é˜»å¡è¿™ä¸ªé—®é¢˜ï¼Œåº”ç”¨ç¨‹åºä¸æ–­è¿›è¡Œ&lt;code&gt;I/O&lt;/code&gt;ç³»ç»Ÿè°ƒç”¨è½®è¯¢æ•°æ®æ˜¯å¦å·²ç»å‡†å¤‡å¥½çš„è¿‡ç¨‹æ˜¯ååˆ†æ¶ˆè€—&lt;code&gt;CPU&lt;/code&gt;èµ„æºçš„ã€‚&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;I/O Multiplexing&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿˜æ˜¯ä¹‹å‰é‚£ä¸ªä¾‹å­ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸­åˆåƒé¥­ï¼Œç»™é¤å…è€æ¿è¯´è¦ä¸€ç¢—â€˜çƒ­å¹²é¢â€™ï¼Œç„¶åè€æ¿å®‰æ’ç»™ä¸‹é¢çš„å¨å­åšï¼Œå…·ä½“å“ªä¸ªå¨å­åšä¸çŸ¥é“ï¼Œæœ‰å¥½å‡ ä¸ªå¨å­ï¼Œç„¶åè€æ¿æ¯éš”ä¸€æ®µæ—¶é—´è¯¢é—®ä¸‹é¢çš„å¨å­æœ‰æœ¨æœ‰åšå¥½ï¼Œå¦‚æœåšå¥½äº†ï¼Œå°±é€šçŸ¥æˆ‘æ¥å»å–é¤ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gw0v3rlxc1j30vs0u040c.jpg&#34; 
    alt=&#34;å¤šè·¯å¤ç”¨&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;IO &lt;/code&gt;å¤šè·¯å¤ç”¨æ¨¡å‹ä¸­ï¼Œçº¿ç¨‹é¦–å…ˆå‘èµ· &lt;code&gt;select&lt;/code&gt; è°ƒç”¨ï¼Œè¯¢é—®å†…æ ¸æ•°æ®æ˜¯å¦å‡†å¤‡å°±ç»ªï¼Œç­‰å†…æ ¸æŠŠæ•°æ®å‡†å¤‡å¥½äº†ï¼Œç”¨æˆ·çº¿ç¨‹å†å‘èµ· &lt;code&gt;read &lt;/code&gt;è°ƒç”¨ï¼Œ&lt;code&gt;read&lt;/code&gt; è°ƒç”¨çš„è¿‡ç¨‹ï¼ˆæ•°æ®ä»å†…æ ¸ç©ºé—´-&amp;gt;ç”¨æˆ·ç©ºé—´ï¼‰è¿˜æ˜¯é˜»å¡çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gw0xx5f2ohj30et0fbaar.jpg&#34; 
    alt=&#34;Reactoræ¨¡å¼&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Reactor &lt;/code&gt;é€šè¿‡ &lt;code&gt;I/Oå¤ç”¨&lt;/code&gt;ç¨‹åºç›‘æ§å®¢æˆ·ç«¯è¯·æ±‚äº‹ä»¶ï¼Œæ”¶åˆ°äº‹ä»¶åé€šè¿‡ä»»åŠ¡åˆ†æ´¾å™¨è¿›è¡Œåˆ†å‘ã€‚é’ˆå¯¹å»ºç«‹è¿æ¥è¯·æ±‚äº‹ä»¶ï¼Œé€šè¿‡ &lt;code&gt;Acceptor&lt;/code&gt; å¤„ç†ï¼Œå¹¶å»ºç«‹å¯¹åº”çš„&lt;code&gt; handler&lt;/code&gt; è´Ÿè´£åç»­ä¸šåŠ¡å¤„ç†ï¼Œé’ˆå¯¹éè¿æ¥äº‹ä»¶ï¼Œ&lt;code&gt;Reactor &lt;/code&gt;ä¼šè°ƒç”¨å¯¹åº”çš„&lt;code&gt; handler&lt;/code&gt; å®Œæˆ &lt;code&gt;read-&amp;gt;&lt;/code&gt;ä¸šåŠ¡å¤„ç†&lt;code&gt;-&amp;gt;write&lt;/code&gt; å¤„ç†æµç¨‹ï¼Œå¹¶å°†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ï¼Œæ•´ä¸ªè¿‡ç¨‹éƒ½åœ¨ä¸€ä¸ªçº¿ç¨‹é‡Œå®Œæˆã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gw0y5wvraij30et0j3q3u.jpg&#34; 
    alt=&#34;redisé‡Œé¢æ¨¡å‹&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Redis&lt;/code&gt; æ˜¯åŸºäº &lt;code&gt;Reactor&lt;/code&gt; å•çº¿ç¨‹æ¨¡å¼æ¥å®ç°çš„ï¼Œ&lt;code&gt;IOå¤šè·¯å¤&lt;/code&gt;ç”¨ç¨‹åºæ¥æ”¶åˆ°ç”¨æˆ·çš„è¯·æ±‚åï¼Œå…¨éƒ¨æ¨é€åˆ°ä¸€ä¸ªé˜Ÿåˆ—é‡Œï¼Œäº¤ç»™æ–‡ä»¶åˆ†æ´¾å™¨ã€‚å¯¹äºåç»­çš„æ“ä½œï¼Œå’Œåœ¨ &lt;code&gt;reactor&lt;/code&gt; å•çº¿ç¨‹å®ç°æ–¹æ¡ˆé‡Œçœ‹åˆ°çš„ä¸€æ ·ï¼Œæ•´ä¸ªè¿‡ç¨‹éƒ½åœ¨ä¸€ä¸ªçº¿ç¨‹é‡Œå®Œæˆï¼Œå› æ­¤ &lt;code&gt;Redis&lt;/code&gt; è¢«ç§°ä¸ºæ˜¯å•çº¿ç¨‹çš„æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¹³æ—¶è¯´çš„&lt;code&gt;Redis&lt;/code&gt;å•çº¿ç¨‹å¿«æ˜¯æŒ‡å®ƒçš„è¯·æ±‚å¤„ç†è¿‡ç¨‹éå¸¸åœ°å¿«ï¼åœ¨å•çº¿ç¨‹ä¸­ç›‘å¬å¤šä¸ª&lt;code&gt;Socket&lt;/code&gt;çš„è¯·æ±‚ï¼Œåœ¨ä»»æ„ä¸€ä¸ª&lt;code&gt;Socket&lt;/code&gt;å¯è¯»/å¯å†™æ—¶ï¼Œ&lt;code&gt;Redis&lt;/code&gt;å»è¯»å–å®¢æˆ·ç«¯è¯·æ±‚ï¼Œåœ¨å†…å­˜ä¸­æ“ä½œå¯¹åº”çš„æ•°æ®ï¼Œç„¶åå†å†™å›åˆ°&lt;code&gt;Socket&lt;/code&gt;ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å•çº¿ç¨‹çš„å¥½å¤„ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ²¡æœ‰äº†è®¿é—®å…±äº«èµ„æºåŠ é”çš„æ€§èƒ½æŸè€—&lt;/li&gt;
&lt;li&gt;å¼€å‘å’Œè°ƒè¯•éå¸¸å‹å¥½ï¼Œå¯ç»´æŠ¤æ€§é«˜&lt;/li&gt;
&lt;li&gt;æ²¡æœ‰å¤šä¸ªçº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢å¸¦æ¥çš„é¢å¤–å¼€é”€ï¼Œä¸æ˜¯æ²¡æœ‰ï¼Œæ˜¯å‡å°‘äº†&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å•çº¿ç¨‹ä¸æ˜¯æ²¡æœ‰ç¼ºç‚¹ï¼Œå…¶å®ç¼ºç‚¹ä¹Ÿæ˜¯å¾ˆæ˜æ˜¾çš„ï¼Œå¦‚æœå‰ä¸€ä¸ªè¯·æ±‚å‘ç”Ÿè€—æ—¶æ¯”è¾ƒä¹…çš„æ“ä½œï¼Œé‚£ä¹ˆæ•´ä¸ª&lt;code&gt;Redis&lt;/code&gt;å°±ä¼šé˜»å¡ä½ï¼Œå…¶ä»–è¯·æ±‚ä¹Ÿæ— æ³•è¿›æ¥ï¼Œç›´åˆ°è¿™ä¸ªè€—æ—¶ä¹…çš„æ“ä½œå¤„ç†å®Œæˆå¹¶è¿”å›ï¼Œå…¶ä»–è¯·æ±‚æ‰èƒ½è¢«å¤„ç†åˆ°ï¼Œä½†æ˜¯&lt;code&gt;redis&lt;/code&gt;ä½¿ç”¨çš„&lt;code&gt;Reactor&lt;/code&gt; å•çº¿ç¨‹æ¨¡å¼æ¥å®ç°çš„å¯ä»¥ç¼“è§£è¿™ç§æƒ…å†µã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨&lt;code&gt;Redis 4.0&lt;/code&gt;ä¹‹åçš„ç‰ˆæœ¬ï¼Œå¼•å…¥å¤šçº¿ç¨‹ï¼Œè€Œè¿™ä¸ªå¤šçº¿ç¨‹æ˜¯åªçš„å¼‚æ­¥é‡Šæ”¾å†…å­˜ï¼Œå®ƒä¸»è¦æ˜¯ä¸ºäº†è§£å†³åœ¨é‡Šæ”¾å¤§å†…å­˜æ•°æ®å¯¼è‡´æ•´ä¸ª&lt;code&gt;redis&lt;/code&gt;é˜»å¡çš„æ€§èƒ½é—®é¢˜ï¼Œå•æœº&lt;code&gt;redis&lt;/code&gt;å¦‚æœå¤„ç†å¤§æ•°æ®è¯·æ±‚æ—¶è¿˜æ˜¯ä¼šå‡ºç°ç“¶é¢ˆï¼Œä½†æ˜¯&lt;code&gt;redis&lt;/code&gt;æœ‰é›†ç¾¤é«˜å¯ç”¨è§£å†³æ–¹æ¡ˆå¯ä»¥è§£å†³ï¼Œä¸»èŠ‚ç‚¹åªè´Ÿè´£å†™ï¼Œä»èŠ‚ç‚¹è´Ÿè´£è¯»ï¼Œ&lt;code&gt;io&lt;/code&gt;å¤ç”¨å…ˆå†™åˆ°è¿™é‡Œï¼Œé›†ç¾¤é«˜å¯ç”¨æˆ‘ä¼šå¦å¤–åœ¨å‡ºä¸€ç¯‡æ–‡ç« ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;å†™æ—¶æ‹·è´&#34;&gt;
    &lt;a href=&#34;#%e5%86%99%e6%97%b6%e6%8b%b7%e8%b4%9d&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å†™æ—¶æ‹·è´
&lt;/h2&gt;
&lt;p&gt;æœ‰äº†é«˜æ•ˆçš„æ•°æ®ç»“æ„å’Œ&lt;code&gt;io&lt;/code&gt;å¤šè·¯æ¨¡å‹ï¼Œç›®å‰èƒ½è§£å†³æ•°æ®è®¿é—®æ•ˆç‡é—®é¢˜ï¼Œä½†æ˜¯&lt;code&gt;redis&lt;/code&gt;ä¸ºäº†ä¿è¯äº†æ•°æ®ä¸ä¸¢å¤±æœ‰å¿«ç…§æœºåˆ¶ï¼Œè¯´åˆ°å¿«ç…§é‚£ä¹ˆä¼šæ“ä½œç£ç›˜ï¼Œ&lt;code&gt;redis&lt;/code&gt;æ€ä¹ˆè§£å†³çš„åœ¨æ•°æ®æ“ä½œçš„æ—¶å€™å¹¶ä¸”è¿˜èƒ½ä¿è¯æ•°æ®è®°å½•å®Œæ•´æ€§çš„ï¼Ÿä¸å½±å“æ•°æ®è®¿é—®æ•ˆç‡çš„å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ç­”æ¡ˆæ˜¯ç”¨äº†&lt;code&gt;å†™æ—¶å¤åˆ¶æŠ€æœ¯&lt;/code&gt;ï¼Œä»€ä¹ˆæ˜¯&lt;code&gt;å†™æ—¶å¤åˆ¶&lt;/code&gt;ï¼Ÿå¦‚æœä½ æ˜¯ä¸€ä¸ªç§‘ç­çš„æˆ–è€…ä½ çš„æ“ä½œç³»ç»Ÿå­¦çš„ä¸é”™çš„è¯ï¼Œè¿™ä¸ªé—®é¢˜å¾ˆæ¸…æ¥šã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æ“ä½œç³»ç»Ÿè®¾è®¡ä¸­è¿›ç¨‹çš„å†…å­˜å¯åˆ†ä¸º &lt;code&gt;è™šæ‹Ÿå†…å­˜&lt;/code&gt; å’Œ &lt;code&gt;ç‰©ç†å†…å­˜&lt;/code&gt;ï¼Œä»€ä¹ˆæ˜¯è™šæ‹Ÿå†…å­˜ï¼Ÿä½ å¯ä»¥å»çœ‹æˆ‘ä¸Šä¸€ç¯‡æ–‡ç« &lt;a href=&#34;https://mp.weixin.qq.com/s/Ecy0lOSmyKNxON3LhdMhpQ&#34;&gt;Virtual Memory&lt;/a&gt;ã€‚&lt;code&gt;redis&lt;/code&gt;ä¼šä»ä¸»è¿›ç¨‹ä¸­é€šè¿‡&lt;code&gt;fork()&lt;/code&gt;ç³»ç»Ÿè°ƒç”¨ï¼Œåˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹ï¼Œå°†çˆ¶è¿›ç¨‹çš„ &lt;code&gt;è™šæ‹Ÿå†…å­˜&lt;/code&gt; ä¸ &lt;code&gt;ç‰©ç†å†…å­˜&lt;/code&gt; æ˜ å°„å…³ç³»å¤åˆ¶åˆ°å­è¿›ç¨‹ä¸­ï¼Œå¹¶å°†è®¾ç½®å†…å­˜å…±äº«çš„ï¼Œå­è¿›ç¨‹åªè´Ÿè´£å°†å†…å­˜é‡Œé¢æ•°æ®å†™å…¥åˆ°&lt;code&gt;rdb&lt;/code&gt;è¿›è¡ŒæŒä¹…åŒ–æ“ä½œï¼Œå¦‚æœåœ¨æ“ä½œçš„æ—¶å€™ä¸»è¿›ç¨‹å¯¹å†…å­˜ä¿®æ”¹äº†ï¼Œä½¿ç”¨&lt;code&gt;å†™æ—¶æ‹·è´&lt;/code&gt;æŠ€æœ¯ï¼Œå°†å¯¹åº”çš„å†…å­˜åˆ›å»ºä¸€ä¸ªå‰¯æœ¬ç„¶åè¿›è¡Œå†™å…¥æŒä¹…åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gw14asdso9j30qo0eygme.jpg&#34; 
    alt=&#34;ç¤ºæ„å›¾&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;å¦‚ä¸Šå›¾ä¸»è¿›ç¨‹åˆ™æä¾›æœåŠ¡ï¼Œåªæœ‰å½“æœ‰äººä¿®æ”¹å½“å‰å†…å­˜æ•°æ®æ—¶ï¼Œæ‰å»å¤åˆ¶è¢«ä¿®æ”¹çš„å†…å­˜é¡µï¼Œç”¨äºç”Ÿæˆå¿«ç…§ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç®¡é“é€šè®¯&#34;&gt;
    &lt;a href=&#34;#%e7%ae%a1%e9%81%93%e9%80%9a%e8%ae%af&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    ç®¡é“é€šè®¯
&lt;/h2&gt;
&lt;p&gt;é™¤äº†æœ¬åœ°æœåŠ¡å™¨å†…å­˜å’Œæ•°æ®ç»“æ„çš„æ“ä½œå½±å“å®¢æˆ·ç«¯è¯»å†™æ•ˆç‡çš„è¿˜æœ‰ç½‘ç»œåŸå› ã€‚&lt;code&gt;redis&lt;/code&gt;çš„é€šè®¯åè®®æ˜¯ç”¨ä¸€ç§æ–‡ä»¶åè®®ï¼Œæœ‰å…´è¶£è‡ªå·±å»ç ”ç©¶ç ”ç©¶å§ï¼Œæˆ‘è¿™é‡Œä¸æ‰“ç®—å†™ã€‚æ¯æ¬¡å®¢æˆ·ç«¯æ“ä½œçš„æ—¶å€™ï¼Œå‘½ä»¤å’Œå…ƒæ•°æ®éƒ½è¢«æ‰“åŒ…æˆ&lt;code&gt;redis&lt;/code&gt;åè®®è¿›è¡Œä¼ è¾“åˆ°æœåŠ¡å™¨ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;æŒ‰ç…§è¿™æ ·é‚£æ¯ä¸ªå‘½ä»¤çš„æ‰§è¡Œæ—¶é—´ï¼š&lt;code&gt;å®¢æˆ·ç«¯å‘é€æ—¶é—´ + æœåŠ¡å™¨å¤„ç†å’Œè¿”å›æ—¶é—´ + ä¸€ä¸ªç½‘ç»œæ¥å›çš„æ—¶é—´ã€‚&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gw14qin0ghj30gx0fdmxc.jpg&#34; 
    alt=&#34;æ•°æ®åŒ…æ¥å›&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºæ¥å¦‚æœæ¯æ“ä½œä¸€æ¡å‘½ä»¤ï¼Œé‚£ä¹ˆå°±è¦æ‰§è¡Œä¸€æ¬¡&lt;code&gt;ç½‘ç»œio&lt;/code&gt;ï¼Œå¦‚æœå®¢æˆ·ç«¯é¢‘ç¹æ“ä½œæ•°æ®é‚£ä¹ˆå°±é¢‘ç¹ç½‘ç»œæ“ä½œï¼Œè¿™ä¸ªè¿‡ç¨‹ä¹Ÿæ˜¯éå¸¸è€—æ—¶çš„ï¼Œå½±å“æ€§èƒ½çš„ã€‚&lt;code&gt;redis&lt;/code&gt;åœ¨å®¢æˆ·ç«¯ç¨‹åºä¸­åšäº†ä¸€äº›ä¼˜åŒ–å¼•å…¥äº†ä¸€ä¸ªç®¡é“ï¼ˆ&lt;code&gt;pipelining&lt;/code&gt;ï¼‰æ¦‚å¿µã€‚&lt;/p&gt;
&lt;p&gt;ç®¡é“ä¼šæŠŠå¤šæ¡æ— å…³å‘½ä»¤æ‰¹é‡æ‰§è¡Œï¼Œä»¥å‡å°‘å¤šä¸ªå‘½ä»¤åˆ†åˆ«æ‰§è¡Œå¸¦æ¥çš„ç½‘ç»œäº¤äº’æ—¶é—´ï¼Œåœ¨ä¸€äº›æ‰¹é‡æ“ä½œæ•°æ®çš„åœºæ™¯ã€‚&lt;/p&gt;
&lt;h1 id=&#34;å°ç»“&#34;&gt;
    &lt;a href=&#34;#%e5%b0%8f%e7%bb%93&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å°ç»“
&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;ç®€å•å§‹äºå¤æ‚ï¼&lt;/code&gt;ï¼Œåˆ«çœ‹å®¢æˆ·ç«¯å°±å‡ ä¸ªç®€å•&lt;code&gt;api call&lt;/code&gt;çš„äº‹æƒ…ï¼Œè¿™åé¢è¿˜æœ‰å¾ˆå¤šè®¾è®¡å€¼å¾—å»å­¦ä¹ ï¼Œçœ‹å®Œè¿™ç¯‡å…«è‚¡æ–‡ä½ æˆ–è®¸å¯¹&lt;code&gt;redis&lt;/code&gt;é«˜æ€§èƒ½æœ‰æ–°çš„è®¤è¯†äº†ï¼Œä¸è¦å°çœ‹æŸäº›ç»†èŠ‚ä¼˜åŒ–å’Œè§£å†³æ–¹æ¡ˆé€‰å‹ï¼Œæœ‰æ—¶å€™å¯ä»¥å¸¦æ¥æ˜æ˜¾æ€§èƒ½æå‡ã€‚å½“ç„¶è¿™ç¯‡æ–‡ç« æ²¡æœ‰æŠŠ&lt;code&gt;redis&lt;/code&gt;è®¾è®¡å†™å®Œï¼Œä¾‹å¦‚è¿˜æœ‰&lt;code&gt;aof&lt;/code&gt;çš„å†…æ ¸æ–‡ä»¶æè¿°ç¬¦æ˜ å°„ï¼Œå¼‚æ­¥å†™æ•°æ®åˆ°ç¡¬ç›˜ä¸Šï¼Œé›¶æ‹·è´æŠ€æœ¯ç­‰ç­‰ã€‚ã€‚ã€‚ã€‚åç»­æ–‡ç« å°†ä¼šæ›´æ–°&lt;code&gt;redisé«˜å¯ç”¨æ˜¯æ€ä¹ˆåšåˆ°çš„ï¼Ÿ&lt;/code&gt;&lt;/p&gt;

    </description>
    </item>
    
    <item>
    <title>Redis Current Limiting</title>
    <link>http://blog.ibyte.me/post/redis-current-limiting/</link>
    <pubDate>Thu, 28 Oct 2021 21:41:23 +0800</pubDate>
    
    <guid>http://blog.ibyte.me/post/redis-current-limiting/</guid>
    <description>
        &lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gvvcuzx8kzj312w0lk0tt.jpg&#34; 
    alt=&#34;&#34; 
     /&gt;&lt;/p&gt;
&lt;h2 id=&#34;current-limiting&#34;&gt;
    &lt;a href=&#34;#current-limiting&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    Current Limiting
&lt;/h2&gt;
&lt;p&gt;åœ¨ç¼–å†™ç³»ç»Ÿæ—¶å€™æœ‰æ—¶å€™æˆ‘ä»¬çš„ç³»ç»Ÿåœ¨è®¾è®¡çš„æ—¶å€™å°±å·²ç»ä¼°ç®—åˆ°äº†æœ€å¤§è¯·æ±‚è´Ÿè½½äº†ï¼Œå¦‚æœå¤§é‡çš„è¯·æ±‚è¶…è¿‡ç³»ç»Ÿæ‰€èƒ½æ‰¿å—ç€çš„å€¼æ—¶ï¼Œé‚£ä¹ˆç³»ç»Ÿå¯èƒ½éšæ—¶æŒ‚æ‰ï¼Œæ‰€æœ‰èªæ˜ç¨‹åºå‘˜å°±æƒ³åˆ°äº†&lt;code&gt;è¯·æ±‚é™æµ&lt;/code&gt;æ¥æ§åˆ¶ç³»ç»Ÿçš„å¯ç”¨å’Œç¨³å®šæ€§ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ»‘åŠ¨çª—å£é™æµ&#34;&gt;
    &lt;a href=&#34;#%e6%bb%91%e5%8a%a8%e7%aa%97%e5%8f%a3%e9%99%90%e6%b5%81&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    æ»‘åŠ¨çª—å£é™æµ
&lt;/h2&gt;
&lt;p&gt;æ»‘åŠ¨çª—å£ç®—æ³•å°†ä¸€ä¸ªå¤§çš„æ—¶é—´çª—å£åˆ†æˆå¤šä¸ªå°çª—å£ï¼Œæ¯æ¬¡å¤§çª—å£å‘åæ»‘åŠ¨ä¸€ä¸ªå°çª—å£ï¼Œå¹¶ä¿è¯å¤§çš„çª—å£å†…æµé‡ä¸ä¼šè¶…å‡ºæœ€å¤§å€¼ï¼Œè¿™ç§å®ç°æ¯”å›ºå®šçª—å£çš„æµé‡æ›²çº¿æ›´åŠ å¹³æ»‘ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gvsyv4m7k2j30y80eowff.jpg&#34; 
    alt=&#34;æ»‘åŠ¨çª—å£&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;ä»¥ç³»ç»Ÿé™åˆ¶ç”¨æˆ·è¡Œä¸ºä¸ºä¾‹å­ï¼Œæ¯”å¦‚ä¸€ç§’å†…è¿›è¡ŒæŸä¸ªæ“ä½œ&lt;code&gt;5&lt;/code&gt;æ¬¡ï¼Œè¿™ç§è¡Œä¸ºåº”è¯¥è¿›è¡Œé™åˆ¶ï¼Œæ»‘åŠ¨çª—å£å°±æ˜¯è®°å½•ä¸€ä¸ªæ»‘åŠ¨çš„æ—¶é—´çª—å£å†…çš„æ“ä½œæ¬¡æ•°ï¼Œæ“ä½œæ¬¡æ•°è¶…è¿‡é˜ˆå€¼åˆ™è¿›è¡Œé™æµã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;boolean&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;isActionAllowed&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;userId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;actionKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;period&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;maxCount&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// ç”Ÿæˆå”¯ä¸€çš„key
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;format&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;hist:%s:%s&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;userId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;actionKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nowTs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;currentTimeMillis&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// ä½¿ç”¨ç®¡é“
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;Pipeline&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pipe&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;jedis&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;pipelined&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;pipe&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;multi&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// æ·»åŠ å½“å‰æ“ä½œå½“zsetä¸­
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;pipe&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;zadd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nowTs&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nowTs&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// æ•´ç†zsetï¼Œåˆ é™¤æ—¶é—´çª—å£å¤–çš„æ•°æ® ç¬¦åˆæ¡ä»¶çš„ä¿ç•™
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;pipe&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;zremrangeByScore&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nowTs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;period&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1000&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// ç›®å‰çª—å£å†…æœ‰å¤šå°‘ä¸ªæ“ä½œ
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;Response&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Long&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;count&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pipe&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;zcard&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// åœ¨ç”Ÿå‘½å‘¨æœŸä¸ŠåŠ ä¸€
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;pipe&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;expire&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;period&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;pipe&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;exec&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;pipe&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;close&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    
    &lt;span class=&#34;c1&#34;&gt;// æ˜¯å¦è¾¾åˆ°é˜€å€¼
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;maxCount&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gvv09e9s36j30dq0fm3yy.jpg&#34; 
    alt=&#34;è¿‡ç¨‹&#34; 
     /&gt;&lt;/p&gt;
&lt;h2 id=&#34;æ¼æ…ç®—æ³•&#34;&gt;
    &lt;a href=&#34;#%e6%bc%8f%e6%8d%85%e7%ae%97%e6%b3%95&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    æ¼æ…ç®—æ³•
&lt;/h2&gt;
&lt;p&gt;éœ²æ¡¶ç®—æ³•çš„æ ¸å¿ƒæ€æƒ³ï¼Œå°±æŠŠè¯·æ±‚è¿›è¡Œç¼“å†²ï¼Œé˜²æ­¢å¤§è§„æ¨¡æ•°é‡ç§¯çš„è¯·æ±‚åŒæ—¶å†²å®ç³»ç»Ÿï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gvv0r9kdrvj309d0e8jrr.jpg&#34; 
    alt=&#34;æµç¨‹&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;æ¯å¤–æ¥çš„è¯·æ±‚éƒ½ä¼šè¢«æ”¾åˆ°ä¸€ä¸ªç¼“å†²åŒºä¹Ÿå°±æ˜¯æ¡¶é‡Œé¢ï¼Œå¦‚æœç¼“å†²åŒºå·²ç»æ»¡äº†ï¼Œé‚£ä¹ˆæ–°æ¥çš„è¯·æ±‚å¯èƒ½è¢«æ‹’ç»ï¼Œè€Œç¼“å†²åŒºé‡Œé¢çš„è¯·æ±‚åˆ™åœ¨ç¬¦åˆç³»ç»Ÿè®¾è®¡è´Ÿè½½çš„é€Ÿç‡ä¸‹è¿›è¡Œæ”¾å‡ºï¼Œç±»ä¼¼äºä¸€ä¸ªé˜Ÿåˆ—ä¸€æ ·ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨&lt;code&gt;redis&lt;/code&gt;ä¸­å®˜æ–¹æ²¡æœ‰æä¾›ç›¸å…³çš„å®ç°è€Œæ˜¯é€šè¿‡ç¬¬ä¸‰æ–¹çš„æ’ä»¶è¿›è¡Œå®Œæˆè¿™ä¸ªç®—æ³•çš„ï¼Œ&lt;code&gt;redis-cell&lt;/code&gt;æ˜¯&lt;code&gt;4.0&lt;/code&gt;ç‰ˆæœ¬æä¾›ä¸€ä¸ªé™é‡æ¨¡å—ï¼Œä½œè€…æ˜¯æ¥è‡ª&lt;code&gt;redis labs&lt;/code&gt;çš„&lt;code&gt;itamar haber&lt;/code&gt;ï¼Œä½¿ç”¨çš„&lt;code&gt;rust&lt;/code&gt;è¯­è¨€ç¼–å†™çš„ï¼Œä½¿ç”¨å¾ˆç®€å•å°±API calläº‹æƒ…ï¼Œæœ‰å…´è¶£è¯»è€…å¯ä»¥å»çœ‹çœ‹ï¼Œæœ¬æ–‡å°±æ°´äº†ä¸€ç¯‡ï¼Œæºœäº†ã€‚ã€‚ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;CL.THROTTLE user123 &lt;span class=&#34;m&#34;&gt;15&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;30&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;60&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
               â–²     â–²  â–²  â–² â–²
               &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;     &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;  &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;  &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; â””â”€â”€â”€â”€â”€ apply &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; token &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;default &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; omitted&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
               &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;     &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;  â””â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€ &lt;span class=&#34;m&#34;&gt;30&lt;/span&gt; tokens / &lt;span class=&#34;m&#34;&gt;60&lt;/span&gt; seconds
               &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ &lt;span class=&#34;m&#34;&gt;15&lt;/span&gt; max_burst
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ key &lt;span class=&#34;s2&#34;&gt;&amp;#34;user123&amp;#34;&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å¦‚æœè¦å‡†ç¡®æ¥è¯´&lt;code&gt;redis-cell&lt;/code&gt;çš„å®ç°æ˜¯&lt;code&gt;ä»¤ç‰Œæ¡¶&lt;/code&gt;è€Œéæ˜¯&lt;code&gt;æ¼æ¡¶ç®—æ³•&lt;/code&gt;ï¼Œè¿˜æ˜¯æœ‰å·®è·çš„ï¼ï¼ï¼ï¼&lt;/p&gt;
&lt;h2 id=&#34;å…¶ä»–&#34;&gt;
    &lt;a href=&#34;#%e5%85%b6%e4%bb%96&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å…¶ä»–
&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/brandur/redis-cell&#34;&gt;https://github.com/brandur/redis-cell&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

    </description>
    </item>
    
    <item>
    <title>Hyperloglog</title>
    <link>http://blog.ibyte.me/post/hyperloglog/</link>
    <pubDate>Mon, 25 Oct 2021 14:18:04 +0800</pubDate>
    
    <guid>http://blog.ibyte.me/post/hyperloglog/</guid>
    <description>
        &lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gvodsvv1xaj60o00maq4a02.jpg&#34; 
    alt=&#34;ä¸€å¼ æœ‰è¶£çš„è¡¨æƒ…&#34; 
     /&gt;&lt;/p&gt;
&lt;h2 id=&#34;hyperloglog&#34;&gt;
    &lt;a href=&#34;#hyperloglog&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    Hyperloglog
&lt;/h2&gt;
&lt;p&gt;ä¸Šä¸€ç¯‡æ–‡ç« &lt;a href=&#34;https://mp.weixin.qq.com/s/nBNnaP2i7lJV_vJzHN0zMg&#34;&gt;HLLåŸºç¡€éƒ¨åˆ†&lt;/a&gt;ä»‹ç»äº†&lt;code&gt;HLL&lt;/code&gt;ä¸€äº›ç›¸å…³ç†è®ºçŸ¥è¯†ï¼Œé‡Œé¢çš„æŠ›ç¡¬å¸æ¸¸æˆï¼Œç¡¬å¸æ­£åä¸¤é¢ï¼Œå¦‚æœç”¨è®¡ç®—æœºé‡Œé¢çš„æ•°æ®è¡¨ç¤ºçš„è¯ï¼Œå®Œå…¨å¯ä»¥ä½¿ç”¨&lt;code&gt;0&lt;/code&gt;å’Œ&lt;code&gt;1&lt;/code&gt;ï¼Œ&lt;code&gt;1&lt;/code&gt;è¡¨ç¤ºæ­£é¢ï¼Œ&lt;code&gt;0&lt;/code&gt;è¡¨ç¤ºåé¢ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;HLL&lt;/code&gt;å¸¸ç”¨äºå»é‡åœºæ™¯ï¼Œ&lt;code&gt;HLL&lt;/code&gt; ç®—æ³•éœ€è¦å®Œæ•´éå†æ‰€æœ‰å…ƒç´ ä¸€æ¬¡ï¼Œè€Œéå¤šæ¬¡æˆ–é‡‡æ ·ï¼Œç®—æ³•&lt;code&gt;åªèƒ½è®¡ç®—é›†åˆä¸­æœ‰å¤šå°‘ä¸ªä¸é‡å¤çš„å…ƒç´ &lt;/code&gt;ï¼Œä¸èƒ½ç»™å‡ºæ¯ä¸ªå…ƒç´ çš„å‡ºç°æ¬¡æ•°æˆ–æ˜¯åˆ¤æ–­ä¸€ä¸ªå…ƒç´ æ˜¯å¦ä¹‹å‰å‡ºç°è¿‡ï¼Œå¤šä¸ªä½¿ç”¨ &lt;code&gt;HLL&lt;/code&gt; ç»Ÿè®¡å‡ºçš„&lt;code&gt;åŸºæ•°å€¼&lt;/code&gt;  å¯ä»¥èåˆã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gvp8dfx7ytj60sw0dq75102.jpg&#34; 
    alt=&#34;ç‰¹æ€§ï¼šæ•°æ®å˜ å†…å­˜ä¸å˜&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;HLL&lt;/code&gt;çš„ç©ºé—´åªä¼šå’Œç²¾åº¦æœ‰å…³ï¼Œä¸‹é¢çš„åé¢ä¸åŒçš„æ•°å­—ä»£è¡¨ç€ä¸åŒçš„ç²¾åº¦ï¼Œæ•°å­—è¶Šå¤§ï¼Œç²¾åº¦è¶Šé«˜ï¼Œå ç”¨çš„ç©ºé—´ä¹Ÿè¶Šå¤§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gvp8ifcvrsj60sw0dqt9p02.jpg&#34; 
    alt=&#34;ç²¾åº¦å’Œç©ºé—´å˜æ¢&#34; 
     /&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸Šä¸€ç¯‡æ–‡ç« &lt;a href=&#34;https://mp.weixin.qq.com/s/nBNnaP2i7lJV_vJzHN0zMg&#34;&gt;HLLåŸºç¡€éƒ¨åˆ†&lt;/a&gt;ä»‹ç»äº†&lt;code&gt;HLL&lt;/code&gt;ä¸€äº›ç›¸å…³ç†è®ºçŸ¥è¯†ï¼Œé‡Œé¢çš„æŠ›ç¡¬å¸æ¸¸æˆï¼Œä½ éå¸¸å¹¸è¿ï¼Œç¬¬ä¸€æ¬¡è¿›è¡Œè¿™ä¸ªå®éªŒå°±è¿æŠ›äº† 20 æ¬¡æ­£é¢ï¼Œä½ è¿›è¡Œäº†å¾ˆå¤šæ¬¡è¿™ä¸ªå®éªŒæ‰å¾—åˆ°äº†è¿™ä¸ªè®°å½•ï¼Œè¿™å°±ä¼šå¯¼è‡´é”™è¯¯çš„é¢„ä¼°ï¼Œæ”¹è¿›çš„æ–¹å¼æ˜¯è¯· &lt;code&gt;10&lt;/code&gt; ä½ä¸åŒçš„äººè¿›è¡Œè¿™é¡¹å®éªŒï¼Œè¿™æ ·å°±å¯ä»¥è§‚å¯Ÿåˆ°æ›´å¤šçš„æ ·æœ¬æ•°æ®ï¼Œé™ä½å‡ºç°ä¸Šè¿°æƒ…å†µçš„æ¦‚ç‡ï¼Œè¿™å°±æ˜¯ &lt;code&gt;HLL&lt;/code&gt; ç®—æ³•çš„æ ¸å¿ƒæ€æƒ³ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code&gt;HLL&lt;/code&gt;å®ç°åŸç†çš„è¯ï¼Œå½“è¾“å…¥ä¸€ä¸ªå…ƒç´ çš„æ—¶å€™ï¼Œä¼šæŠŠå…ƒç´ é€šè¿‡&lt;code&gt;Jenkins hash function&lt;/code&gt;ï¼ˆå½“ç„¶è¿™é‡Œä¹Ÿå¯ä»¥ç”¨å…¶ä»–&lt;code&gt;hash&lt;/code&gt;ç®—æ³•ï¼‰è½¬æˆå“ˆå¸Œå€¼ç„¶åå†è½¬æ¢æˆ&lt;code&gt;01&lt;/code&gt;è¡¨ç¤ºçš„äºŒè¿›åˆ¶æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gvpfp5wrgvj609w0dr3ym02.jpg&#34; 
    alt=&#34;è½¬æ¢è¿‡ç¨‹&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;æœ‰äº†&lt;code&gt;bit&lt;/code&gt;ä½å€¼åï¼Œé‡Œé¢çš„&lt;code&gt;0&lt;/code&gt;å’Œ&lt;code&gt;1&lt;/code&gt;å°±å¯ä»¥è¡¨ç¤ºæŸä¸ªäº‹ä»¶ç»“æœçš„ä¸¤ç§çŠ¶æ€ï¼Œä¾‹å¦‚&lt;code&gt;æ­£åé¢&lt;/code&gt;ã€‚æœ‰è¿™äº›å°±å¯ä»¥æ‰¾å‡ºæ¯ä¸ªä½ä¸²ä¸Šç¬¬ä¸€ä¸ªæœ€æ™š&lt;code&gt;1&lt;/code&gt;å‡ºç°çš„ä½ç½®å¹¶ä¸”è®°å½•ä¸‹æ¥ï¼Œå¹¶ä¸”æ¥æ ¹æ®è¿™ä¸ª&lt;code&gt;1&lt;/code&gt;æ¥ä¼°ç®—è¿™äº›å“ˆå¸Œå€¼ä¸­ä¸é‡å¤çš„ä¸ªæ•°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gvpgzsunugj609w044dfo02.jpg&#34; 
    alt=&#34;è¦åŒºåˆ†é«˜ä½ä½&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚æœ‰é›†åˆä¸º&lt;code&gt;[010, 100, 001]&lt;/code&gt;, é›†åˆä¸­å…ƒç´ çš„ç¬¬ä¸€ä¸ª &lt;code&gt;1&lt;/code&gt; å‡ºç°çš„ä½ç½®åˆ†åˆ«ä¸º &lt;code&gt;2, 1, 3&lt;/code&gt;ï¼Œå¯ä»¥å¾—åˆ°é‡Œé¢æœ€å¤§çš„å€¼ä¸º &lt;code&gt;3&lt;/code&gt;ï¼Œæ•…è¯¥é›†åˆä¸­ç¬¬ä¸€ä¸ª&lt;code&gt;1&lt;/code&gt;å‡ºç°çš„æœ€æ™šçš„ä½ç½®ä¸º &lt;code&gt;3&lt;/code&gt;å› ä¸ºæ¯ä¸ªä½ç½®ä¸Šå‡ºç°&lt;code&gt;1&lt;/code&gt;çš„æ¦‚ç‡éƒ½æ˜¯ &lt;code&gt;1/2&lt;/code&gt;ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åšä¸€ä¸ªç®€å•çš„æ¨æ–­ï¼Œè¯¥é›†åˆä¸­æœ‰ &lt;code&gt;8&lt;/code&gt; ä¸ªä¸é‡å¤çš„å…ƒç´ ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç§ç®€å•çš„æ¨æ–­è®¡ç®—å‡ºæ¥é›†åˆçš„åŸºæ•°å€¼æ˜¯æœ‰è¾ƒå¤§çš„åå·®ï¼Œä¸ºäº†å‡å°‘è¯¯å·®ï¼Œ&lt;code&gt;HLL&lt;/code&gt; é€šè¿‡å¤šæ¬¡çš„è¿›è¡Œè¯•éªŒæ¥å‡å°‘è¯¯å·®ï¼Œ&lt;code&gt;HLL&lt;/code&gt;è®¾è®¡è€…ä½¿ç”¨äº†åˆ†æ¡¶çš„æ€æƒ³ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gvpguk73qcj60t406ydg702.jpg&#34; 
    alt=&#34;æ˜ å°„åˆ°æ¡¶&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;å¦‚ä¸Šå›¾ï¼Œè¯¥ &lt;code&gt;hash &lt;/code&gt;å€¼çš„å &lt;code&gt;10&lt;/code&gt; ä½çš„ &lt;code&gt;bit&lt;/code&gt; å€¼æ˜¯ &lt;code&gt;0000001001&lt;/code&gt;ï¼Œè½¬æˆåè¿›åˆ¶æ˜¯ &lt;code&gt;9&lt;/code&gt;ï¼Œå¯¹åº”ç¬¬&lt;code&gt; 9&lt;/code&gt; å·æ¡¶ï¼Œè€Œè¯¥å€¼ç¬¬ä¸€ä¸ª&lt;code&gt;1&lt;/code&gt;å‡ºç°çš„ä½ç½®æ˜¯ç¬¬&lt;code&gt;6&lt;/code&gt;ä½ï¼Œæ¯”åŸå…ˆ &lt;code&gt;9&lt;/code&gt;å·æ¡¶ä¸­çš„æ•°å­—å¤§ï¼Œæ•…æŠŠ &lt;code&gt;9&lt;/code&gt; å·æ¡¶ä¸­çš„æ•°å­—æ›´æ–°ä¸º &lt;code&gt;6&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆæ˜¯å–å&lt;code&gt;10&lt;/code&gt;ä½ï¼Œè¿™æ˜¯æ˜¯å–å†³äºç»“æœçš„ç²¾ç¡®åº¦ï¼Œ&lt;code&gt;HLL&lt;/code&gt;ç®—æ³•çš„ç²¾åº¦å°±è¶Šé«˜ï¼Œ&lt;code&gt;HLL(10)&lt;/code&gt; æœ‰ &lt;code&gt;1024(2^10)&lt;/code&gt; ä¸ªæ¡¶ï¼Œ&lt;code&gt;HLL(16)&lt;/code&gt;æœ‰ &lt;code&gt;65536(2^16)&lt;/code&gt; ä¸ªæ¡¶ï¼Œæ¡¶çš„ä¸ªæ•°è¶Šå¤šï¼Œæ‰€å ç”¨çš„ç©ºé—´ä¹Ÿä¼šè¶Šå¤§ã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®æˆ‘è¿™é‡Œå†™çš„è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œçœç•¥äº†ä¸€äº›ç»†èŠ‚ï¼ŒçœŸå®çš„ &lt;code&gt;HLL&lt;/code&gt; ç®—æ³•çš„å®Œæ•´æè¿°è§ä¸Šå›¾ï¼Œè¿™è¾¹çš„é‡ç‚¹æ˜¯è®¡ç®—æ¡¶ä¸­å¹³å‡æ•°æ—¶ä½¿ç”¨è°ƒå’Œå¹³å‡æ•°ï¼Œè°ƒå’Œå¹³å‡æ•°çš„ä¼˜ç‚¹æ˜¯å¯ä»¥è¿‡æ»¤æ‰ä¸å¥åº·çš„ç»Ÿè®¡å€¼ï¼Œä½¿ç”¨ç®—æœ¯å¹³å‡å€¼å®¹æ˜“å—åˆ°æå€¼çš„å½±å“ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼šæ±‚ä¸€ä¸ª&lt;code&gt;Google L3å‘˜å·¥å’Œä¸€ä¸ª Google L6 çš„è¯„ä»·å·¥èµ„&lt;/code&gt;ï¼Œå¦‚æœä½¿ç”¨ä¼ ç»Ÿçš„ç®—æ³•è®¡ç®—ï¼Œè®¡ç®—ä¸¤ä¸ªç›¸åŠ ç„¶å/ä¸ªæ•°ã€‚&lt;/p&gt;
&lt;p&gt;è€Œè°ƒå’Œå¹³å‡æ•°è®¡ç®—å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span class=&#34;err&#34;&gt;é‡‡ç”¨è°ƒå’Œå¹³å‡æ•°çš„æ–¹å¼å°±æ˜¯ï¼š&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1000&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;30000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;err&#34;&gt;â‰ˆ&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;1935.484&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;redis&#34;&gt;
    &lt;a href=&#34;#redis&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    Redis
&lt;/h2&gt;
&lt;p&gt;åˆ†æ¡¶è¿‡ç¨‹ï¼šæŠ½è±¡åˆ°è®¡ç®—æœºå­˜å‚¨ä¸­å»ï¼Œå°±æ˜¯å­˜å‚¨çš„æ˜¯ä¸€ä¸ªä»¥å•ä½æ˜¯æ¯”ç‰¹&lt;code&gt;(bit)&lt;/code&gt;ï¼Œé•¿åº¦ä¸º &lt;code&gt;L&lt;/code&gt; çš„å¤§æ•°ç»„ &lt;code&gt;S&lt;/code&gt; ï¼Œå°† &lt;code&gt;S&lt;/code&gt; å¹³å‡åˆ†ä¸º &lt;code&gt;m&lt;/code&gt; ç»„ï¼Œæ³¨æ„è¿™ä¸ª &lt;code&gt;m&lt;/code&gt; ç»„ï¼Œå°±æ˜¯å¯¹åº”å¤šå°‘è½®ï¼Œç„¶åæ¯ç»„æ‰€å æœ‰çš„æ¯”ç‰¹ä¸ªæ•°æ˜¯å¹³å‡çš„ï¼Œè®¾ä¸º &lt;code&gt;P&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;nx&#34;&gt;L&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;S&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;length&lt;/span&gt;
&lt;span class=&#34;nx&#34;&gt;L&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;m&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;p&lt;/span&gt;
&lt;span class=&#34;nx&#34;&gt;ä»¥&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;K&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ä¸ºå•ä½&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼Œ&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;S&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;å ç”¨å†…å­˜&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;L&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;8&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1024&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;åœ¨&lt;code&gt;Redis&lt;/code&gt;ä¸­&lt;code&gt;HyperLogLog&lt;/code&gt;è®¾ç½®ä¸ºï¼š&lt;code&gt;m=16834ï¼Œp=6ï¼ŒL=16834 * 6&lt;/code&gt;ï¼Œæ‰€ä»¥å ç”¨å†…å­˜ä¸º=&lt;code&gt;16834 * 6 / 8 / 1024 = 12K&lt;/code&gt;ã€‚&lt;/p&gt;

    </description>
    </item>
    
    <item>
    <title>Bernoulli Experiment</title>
    <link>http://blog.ibyte.me/post/bernoulli-experiment/</link>
    <pubDate>Mon, 25 Oct 2021 14:15:01 +0800</pubDate>
    
    <guid>http://blog.ibyte.me/post/bernoulli-experiment/</guid>
    <description>
        &lt;h2 id=&#34;ä¸€ä¸ªå…³äºç»Ÿè®¡å­¦çš„é—®é¢˜&#34;&gt;
    &lt;a href=&#34;#%e4%b8%80%e4%b8%aa%e5%85%b3%e4%ba%8e%e7%bb%9f%e8%ae%a1%e5%ad%a6%e7%9a%84%e9%97%ae%e9%a2%98&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    ä¸€ä¸ªå…³äºç»Ÿè®¡å­¦çš„é—®é¢˜
&lt;/h2&gt;
&lt;p&gt;è¯´&lt;code&gt;Hyperloglog&lt;/code&gt;ä¹‹å‰ï¼Œæˆ‘å¾—å…ˆå†™ä¸€äº›å®ƒçš„ç”±æ¥ã€‚è®¾æƒ³ä¸€ä¸‹ï¼ŒæŸæŸåœ°æ–¹ä¸¾åŠäº†ä¸€åœºæŠ€æœ¯äº¤æµæ´»åŠ¨ï¼Œå·¥ä½œäººå‘˜éœ€è¦ç»Ÿè®¡ä¸€ä¸‹è¿™ä¸ªæ´»åŠ¨å½“å¤©æœ‰å¤šå°‘çš„äººå‚åŠ ï¼Ÿè¿™ä¸ªéœ€æ±‚å°±æ˜¯ä¸€ä¸ªç®€å•çš„ç»Ÿè®¡çš„éœ€æ±‚ï¼Œè§£å†³æ–¹æ³•æœ‰å¾ˆå¤šç§ï¼Œä¾‹å¦‚ï¼šæ´»åŠ¨ä¸¾åŠæ–¹åœ¨ä¼šåœºé—¨å£è®¾ç½®ä¸€ä¸ªç­¾åˆ°å¤„ï¼Œæ¯æ¥ä¸€ä¸ªå‚ä¼šè€…è®°å½•ä¸€ä¸‹ï¼Œæœ€åç»Ÿè®¡ä¸€ä¸‹äººæ•°å°±å¯ä»¥äº†ã€‚è¿™æ˜¯ä¸€ä¸ªå¾ˆç®€å•é—®é¢˜ï¼Œå½“æ—¶æŸä¸€å¤©ä½œä¸ºå¼€å‘çš„æˆ‘ï¼Œæ¥åˆ°ä¸€ä¸ªæ¥è‡ªäº§å“éœ€æ±‚ï¼Œ&lt;code&gt;è¦æˆ‘ç»Ÿè®¡ä¸€ä¸‹åœ¨åŒåä¸€1å¤©å†…çš„æŸä¸€ä¸ªé¡µé¢çš„UVï¼ˆUnique Visitorsï¼‰ï¼Ÿ&lt;/code&gt;ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Ÿæ€ä¹ˆè§£å†³ï¼Ÿ&lt;/p&gt;
&lt;p&gt;äº†è§£è¿™ä¸ªé—®é¢˜ä¹‹å‰å…ˆè¯´ä¸€ä¸‹&lt;code&gt;uvç»Ÿè®¡æ ‡å‡†&lt;/code&gt;ï¼šç‹¬ç«‹è®¿å®¢UVæŒ‡ä¸åŒçš„ç”¨æˆ·ï¼Œé€šè¿‡äº’è”ç½‘è®¿é—®åŒä¸€ä¸ªç½‘é¡µæˆ–äº§å“çš„ç‹¬ç«‹è§¦å‘ç”¨æˆ·æ•°ã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾ä¸€ä¸ªåœºæ™¯: ä»Šå¤©çˆ¸çˆ¸ã€å¦ˆå¦ˆã€å„¿å­ä¸‰äººé€šè¿‡ä¸‰ä¸ªè´¦å·è®¿é—®äº†æŸå®ç½‘é¡µï¼Œåˆ™&lt;code&gt;UV=3&lt;/code&gt;ï¼Œ
è¿™é‡Œéœ€è¦æä¸€ç‚¹ï¼šç‹¬ç«‹&lt;code&gt;UV&lt;/code&gt;æ˜¯æŒ‰æµè§ˆå™¨&lt;code&gt;cookie&lt;/code&gt;ä¸ºä¾æ®ã€‚åªè¦&lt;code&gt;cookie&lt;/code&gt;ä¸æ¸…æ¥šï¼Œ3ä¸ªäººåœ¨&lt;code&gt;0:00â€”24:00&lt;/code&gt;å†…ç”¨åŒä¸€ä¸ªæµè§ˆå™¨ä¸åŒçš„è´¦å·ç™»é™†ï¼Œåªä¼šç®—ä½œä¸€ä¸ª&lt;code&gt;UV&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚å›¾3ä¸ªä¸åŒè´¦æˆ·ä½†æ˜¯é€šè¿‡åŒä¸€å°ç”µè„‘çš„æµè§ˆå™¨è®¿é—®çš„ï¼Œå¦‚æœé»˜è®¤ä»¥&lt;code&gt;cookie&lt;/code&gt;ä½œä¸ºæ ‡å‡†çš„è¯ï¼Œæ²¡æœ‰æ¸…ç†&lt;code&gt;cookie&lt;/code&gt;çš„è¯ï¼Œé‚£ä¹ˆåªä¼šç®—ä¸€ä¸ª&lt;code&gt;uv&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gvn6plcne8j60gx0ab0t602.jpg&#34; 
    alt=&#34;uvè®¿é—®è®°å½•&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆæœ‰å¼€å‘ç»éªŒçš„è‚¯å®šä¼šè¯´ç®€å•å•Šï¼Œç”¨&lt;code&gt;hashmap&lt;/code&gt;æˆ–è€…ç”¨&lt;code&gt;set&lt;/code&gt;é›†åˆ&amp;hellip;çœ‹ä¼¼æ˜¯ä¸€ä¸ªç®€å•é—®é¢˜ï¼Œé—®é¢˜è™½ä¸éš¾ï¼Œä½†å½“å‚ä¸é—®é¢˜ä¸­çš„å˜é‡è¾¾åˆ°ä¸€å®šæ•°é‡çº§çš„æ—¶å€™ï¼Œå†ç®€å•çš„é—®é¢˜éƒ½ä¼šå˜æˆä¸€ä¸ªéš¾é¢˜ã€‚å‡è®¾æ—¥æ´»ç”¨æˆ·è¾¾åˆ°ç™¾ä¸‡æˆ–åƒä¸‡ä»¥ä¸Šçº§åˆ«çš„è¯ï¼Œæˆ‘ä»¬é‡‡ç”¨ &lt;code&gt;HashMap&lt;/code&gt; çš„åšæ³•ï¼Œå°±ä¼šå¯¼è‡´ç¨‹åºä¸­å ç”¨å¤§é‡çš„å†…å­˜ï¼Œå¹¶ä¸”éƒ½æ˜¯åœ¨å¹¶è¡Œçš„æ“ä½œè®°å½•ï¼Œè¿˜å¯èƒ½è¦è€ƒè™‘é”é¢—ç²’åº¦é—®é¢˜ï¼Œæ˜¾ç„¶æœ‰ç»éªŒçš„è€å¸æœºä¼šç›´æ¥å¦å†³ğŸ™…è¿™ç§æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;h2 id=&#34;hyperloglog&#34;&gt;
    &lt;a href=&#34;#hyperloglog&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    HyperLogLog
&lt;/h2&gt;
&lt;p&gt;çœ‹äº†ä»€ä¹ˆçš„é—®é¢˜ï¼Œé‚£æœ‰æœ¨æœ‰ä»€ä¹ˆå¥½çš„è§£å†³æ–¹æ¡ˆï¼Ÿ æœ‰è‚¯å®šæ˜¯æœ‰çš„ï¼š&lt;code&gt;B+ tree&lt;/code&gt;ï¼Œ&lt;code&gt;Bitmap&lt;/code&gt;ï¼Œåœ¨&lt;code&gt;redis&lt;/code&gt;ä¸­å°±æœ‰é€ å¥½çš„è½®å­çš„&lt;code&gt;HyperLogLog&lt;/code&gt;æ¦‚ç‡æ•°æ®ç»“æ„ç®—æ³•ï¼Œåœ¨&lt;code&gt;redis&lt;/code&gt;ä¸­ä½¿ç”¨ä¹Ÿå°±æ˜¯&lt;code&gt;3&lt;/code&gt;ä¸ª&lt;code&gt;api&lt;/code&gt;çš„äº‹æƒ…ï¼š&lt;code&gt;pfadd&lt;/code&gt;ã€&lt;code&gt;pfcount&lt;/code&gt;ã€&lt;code&gt;pfmerge&lt;/code&gt;ã€‚ä½†æ˜¯æƒ³æ·±æŒ–ä¸‹å»è¿™ä¸ªä¸œè¥¿å±å®æœ‰ç‚¹å¤æ‚ï¼Œä¼šæ¶‰åŠåˆ°ä¸€äº›æ•°å­¦ä¸Šçš„ä¸œè¥¿ï¼Œæ­£å¥½ç¬”è€…æˆ‘ä¹Ÿçœ‹äº†çœ‹å®ç°ï¼Œé¡ºä¾¿å°±å†™äº†è¿™ç¯‡æ–‡ç« ï¼Œ&lt;code&gt;HyperLogLog&lt;/code&gt;è¿™ä¸ªæ˜¯ç”±ä¸‹é¢ğŸ‘‡è¿™ä¸ª&lt;code&gt;è‚¥å®…&lt;/code&gt;åœ¨ä»–çš„è®ºæ–‡ä¸­æå‡ºçš„ï¼Œå¯¹å¯èƒ½è¿™å°±æ˜¯å›½å¤–æå­¦æœ¯çš„å¤§ä½¬å§ï¼Œä¸è¿‡å¯æƒœçš„æ˜¯å¤§ä½¬åœ¨ &lt;code&gt;2011å¹´3æœˆ22æ—¥&lt;/code&gt;å°±å»ä¸–äº†ï¼Œä¸è¿‡ä»–ç•™ä¸‹çš„&lt;code&gt;HyperLogLog&lt;/code&gt;è¿˜æ˜¯å¾ˆå€¼å¾—ç ”ç©¶çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gvn7lmdwfaj605e0773yj02.jpg&#34; 
    alt=&#34;Philippe Flajoletæ•™æˆ&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;HLL&lt;/code&gt;çš„ç‰¹ç‚¹å°±æ˜¯èƒ½èŠ±è¾ƒä½çš„å†…å­˜å ç”¨ç»Ÿè®¡æµ·é‡çš„æ•°æ®ï¼Œä½†æ˜¯ç¼ºç‚¹ä¹Ÿæœ‰ä»£ç å®ç°æ¯”è¾ƒéš¾ï¼Œæœ‰ä¸€å®šçš„è¯¯å·®ï¼Œå¦‚æœè¦ç»Ÿè®¡çš„&lt;code&gt;100%&lt;/code&gt;çš„å‡†ç¡®æ€§ï¼Œè¿˜æ˜¯è¦è€ƒè™‘å…¶ä»–æ–¹æ¡ˆæˆ–è€…é€šè¿‡æ•°å­¦è®¡ç®—ç®—å‡ºè¯¯å·®å€¼ï¼ˆè´Ÿè½½å› å­ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨&lt;code&gt;redis&lt;/code&gt;å®ç°çš„&lt;code&gt;HyperLogLog&lt;/code&gt;ä¸­èƒ½ç”¨&lt;code&gt;12k&lt;/code&gt;å†…å­˜å°±èƒ½ç»Ÿè®¡&lt;code&gt;2^64&lt;/code&gt;ä¸ªæ•°æ®ï¼Œæˆ‘è¡¨ç¤ºå¾ˆéœ‡æ’¼ã€‚ã€‚ã€‚æ€ä¹ˆåšåˆ°çš„ï¼Ÿï¼Ÿï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gvn8x0umjvj60ck0b4aai02.jpg&#34; 
    alt=&#34;&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;æŒ–æ§½è¿™æ˜¯æ€ä¹ˆåšåˆ°çš„ï¼Ÿçœ‹äº†ä¸€ä¸‹é‚£ç¯‡è®ºæ–‡ï¼š&lt;a href=&#34;http://algo.inria.fr/flajolet/Publications/FlFuGaMe07.pdf&#34;&gt;http://algo.inria.fr/flajolet/Publications/FlFuGaMe07.pdf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gvn95nc0o8j60k010jtbc02.jpg&#34; 
    alt=&#34;å‘µå‘µå“ˆå“ˆå“ˆ&#34; 
     /&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä¼¯åŠªåˆ©è¯•éªŒè¯æ˜&#34;&gt;
    &lt;a href=&#34;#%e4%bc%af%e5%8a%aa%e5%88%a9%e8%af%95%e9%aa%8c%e8%af%81%e6%98%8e&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    ä¼¯åŠªåˆ©è¯•éªŒè¯æ˜
&lt;/h2&gt;
&lt;p&gt;åœ¨è¯´&lt;code&gt;HLL&lt;/code&gt;ä¹‹å‰å¾—å…ˆäº†è§£ä¸€ä¸‹&lt;code&gt;ä¼¯åŠªåˆ©è¯•éªŒ&lt;/code&gt;!&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¼¯åŠªåˆ©è¯•éªŒæ˜¯æ•°å­¦æ¦‚ç‡è®ºä¸­çš„ä¸€éƒ¨åˆ†å†…å®¹ï¼Œå®ƒçš„å…¸æ•…æ¥æºäºæŠ›ç¡¬å¸æ¸¸æˆã€‚ å®éªŒçš„å†…å®¹ï¼šåœ¨åŒä¸€ä¸ªæ¡ä»¶ä¸‹é‡å¤åœ°ã€å„æ¬¡ä¹‹é—´ç›¸äº’ç‹¬ç«‹åœ°è¿›è¡Œçš„ä¸€ç§è¯•éªŒï¼Œä½†æ˜¯å®éªŒçš„ç»“æœåªè¦ä¸¤ç§ç»“æœï¼Œæ¯æ¬¡å®éªŒç»“æœåªä¼šæ˜¯ä¸¤ç§ç»“æœä¸­ä¸€ä¸ªï¼Œç„¶ååœ¨ç›¸åŒæ¡ä»¶ä¸‹é‡å¤åš&lt;code&gt;n&lt;/code&gt;æ¬¡çš„è¯•éªŒç§°ä¸º&lt;code&gt;n&lt;/code&gt;æ¬¡ç‹¬ç«‹é‡å¤è¯•éªŒï¼Œç‹¬ç«‹æ€§æ˜¯åªå„æ¬¡è¯•éªŒçš„ç»“æœä¸ä¼šå—å…¶ä»–å®éªŒç»“æœçš„å½±å“ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ¬¡æ•°è¾ƒå°‘çš„å®éªŒæ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œåªè¦å½“å®éªŒæ¬¡æ•°è¾¾åˆ°ä¸€å®šæ•°é‡ï¼Œå°±å’Œå¾®ç§¯åˆ†ä¸€æ ·ï¼ŒçŸ­æ—¶é—´æ˜¯çœ‹ä¸å‡ºæ¥å·®å¼‚çš„ï¼Œä½†æ˜¯å¦‚æœæŠŠæ—¶é—´çº¿æ‹‰é•¿ï¼Œé‚£ä¹ˆå·®å¼‚å°±å‡ºæ¥äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gvn9weyz9pg609o05ggp202.gif&#34; 
    alt=&#34;ç»“æœæ˜¯ï¼Ÿ&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;å®éªŒè¿‡ç¨‹ï¼š ç¡¬å¸æ‹¥æœ‰æ­£åä¸¤é¢ï¼Œä¸€æ¬¡çš„ä¸ŠæŠ›è‡³è½ä¸‹ï¼Œæœ€ç»ˆå‡ºç°æ­£åé¢çš„æ¦‚ç‡å„è‡ªéƒ½æ˜¯&lt;code&gt;50%&lt;/code&gt;ï¼Œå‡è®¾ä¸€ç›´æŠ›ç¡¬å¸ï¼Œç›´åˆ°å®ƒå‡ºç°æ­£é¢ä¸ºæ­¢ï¼Œæˆ‘ä»¬è®°å½•ä¸ºä¸€æ¬¡å®Œæ•´çš„è¯•éªŒï¼Œé—´ä¸­å¯èƒ½æŠ›äº†ä¸€æ¬¡å°±å‡ºç°äº†æ­£é¢ï¼Œä¹Ÿå¯èƒ½æŠ›äº†&lt;code&gt;n&lt;/code&gt;æ¬¡æ‰å‡ºç°æ­£é¢ï¼Œä¸ç®¡æŠ›å‡ºå¤šå°‘æ¬¡ï¼Œåªè¦å‡ºç°äº†æ­£é¢ï¼Œå°±è®°å½•ä¸ºä¸€æ¬¡è¯•éªŒã€‚&lt;/p&gt;
&lt;p&gt;é‡å¤ä¸æ–­è¿™ä¸ªè¿‡ç¨‹ï¼Œå‡è®¾è¿™ä¸ªå¤šæ¬¡ä¸º&lt;code&gt;n&lt;/code&gt;æ¬¡ï¼Œå°±æ„å‘³ç€å‡ºç°äº†&lt;code&gt;n&lt;/code&gt;æ¬¡çš„æ­£é¢ã€‚å‡è®¾æ¯æ¬¡ä¼¯åŠªåˆ©è¯•éªŒæ‰€ç»å†äº†çš„æŠ›æ·æ¬¡æ•°ä¸º&lt;code&gt;k&lt;/code&gt;ï¼Œç¬¬ä¸€æ¬¡ä¼¯åŠªåˆ©è¯•éªŒï¼Œæ¬¡æ•°è®¾ä¸º&lt;code&gt;k1&lt;/code&gt;ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç¬¬&lt;code&gt;n&lt;/code&gt;æ¬¡å¯¹åº”çš„æ˜¯&lt;code&gt;kn&lt;/code&gt;ï¼Œåœ¨å®éªŒè¿‡ç¨‹ä¸­è‚¯å®šä¼šå‡ºç°æŠ›å‡º&lt;code&gt;n&lt;/code&gt;æ‰èƒ½å‡ºç°ä¸€æ¬¡æ­£é¢ï¼Œé‚£ä¹ˆç§°è¿™ä¸ªä¸º&lt;code&gt;k_max&lt;/code&gt;ï¼Œä»£è¡¨æŠ›äº†æœ€å¤šçš„æ¬¡æ•°ã€‚&lt;/p&gt;
&lt;p&gt;ç»è¿‡åå¤å®éªŒå¾—å‡ºç»“æœï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;N&lt;/code&gt;æ¬¡å®éªŒæŠ›å‡ºçš„æ¬¡æ•°ä¸ä¼šå¤§äº&lt;code&gt;k_max&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;N&lt;/code&gt;æ¬¡å®éªŒæœ€å°‘æœ‰ä¸€æ¬¡çš„æ¬¡æ•°æ˜¯&lt;code&gt;k_max&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å½“æœ‰äº†è¿™äº›ç»“è®ºä¹‹åï¼Œå‘ç°åœ¨&lt;code&gt;n&lt;/code&gt;å’Œ&lt;code&gt;k_max&lt;/code&gt;ä¸­å­˜åœ¨ä¼°ç®—å…³è”ï¼š&lt;code&gt;n = 2^(k_max)&lt;/code&gt;ï¼Œå½“ç„¶éœ€è¦å¤§é‡çš„æ•°æ®å’Œå®éªŒæ¬¡æ•°è¯æ˜ï¼Œå¦‚æœéœ€è¦æ·±å…¥æŒ–æ˜å…¶ä¸­çš„å¥¥ç§˜ï¼Œé‚£ä¹ˆè¿˜ä¼šæ¶‰åŠåˆ°æ•°å­¦ä¸­çš„æ¦‚ç‡å’Œç»Ÿè®¡çš„æ–¹æ³•æ‰èƒ½æ¨å¯¼å’ŒéªŒè¯è¿™ç§å…³è”å…³ç³»ã€‚ã€‚ã€‚ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;nx&#34;&gt;ç¬¬ä¸€æ¬¡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;æŠ›äº†3æ¬¡å‡ºæ­£é¢&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼Œ&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;æ­¤æ—¶&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼Œ&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;
&lt;span class=&#34;nx&#34;&gt;ç¬¬äºŒæ¬¡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;æŠ›äº†2æ¬¡å‡ºæ­£é¢&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼Œ&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;æ­¤æ—¶&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼Œ&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;
&lt;span class=&#34;nx&#34;&gt;ç¬¬ä¸‰æ¬¡&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;æŠ›äº†6æ¬¡å‡ºæ­£é¢&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼Œ&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;æ­¤æ—¶&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼Œ&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;
&lt;span class=&#34;nx&#34;&gt;ç¬¬n&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;æ¬¡&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼š&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;æŠ›äº†20æ¬¡å‡ºæ­£é¢&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼Œ&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;æ­¤æ—¶æˆ‘ä»¬ä¼°ç®—&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼Œ&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;n&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;20&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;çœ‹ä¸Šé¢çš„å®éªŒå¦‚æœå¥—ç”¨è¿™ä¸ªä¼°ç®—å…³ç³»å…¬å¼çš„è¯ï¼Œé‚£ä¹ˆç»“æœæ˜¯ï¼šä¸Šé¢ä¾‹å­ä¸­å®éªŒç»„æ•°å…±3ç»„ï¼Œé‚£ä¹ˆ &lt;code&gt;k_max = 6&lt;/code&gt;ï¼Œæœ€ç»ˆ &lt;code&gt;n=3&lt;/code&gt;ï¼Œæˆ‘ä»¬æ”¾è¿›ä¼°ç®—å…¬å¼ä¸­å»ï¼Œæ˜æ˜¾ï¼š &lt;code&gt;3 â‰  2^6&lt;/code&gt;ä¸æˆç«‹çš„ï¼Œä½†æ˜¯è¯æ˜äº†æ•°æ®æ¬¡æ•°è¶Šå°‘ï¼Œæ„ä¹‰å°±ä¸å¤§ï¼Œå‘æŒ¥ä¸äº†ä½œç”¨ï¼Œå°±å­˜åœ¨ä¸€å®šçš„è¯¯å·®å€¼ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡ä¸Šé¢ä¸€ç³»åˆ—çš„æ¨å¯¼ï¼Œåˆä¼šå¾—å‡ºä¸€ä¸ªç»“è®ºå°±æ˜¯ï¼Œå¦‚æœæˆ‘æ¯è½®å®éªŒçš„æ¬¡æ•°è¶Šå¤šï¼Œé‚£ä¹ˆç»“æœåå·®å°±ä¼šè¶Šå°ï¼Œä½†æ˜¯è¿˜æœ‰æœ‰åå·®çš„å­˜åœ¨ã€‚é‚£ä¹ˆå¯ä¸å¯ä»¥æä¸€ä¸ªå¤šè½®çš„æ¬¡æ•°æµ‹è¯•ï¼Œä¾‹å¦‚æ&lt;code&gt;1000&lt;/code&gt;æ¬¡ï¼Œç„¶åå†å»å–&lt;code&gt;æ¯è½®çš„k_max&lt;/code&gt;ï¼Œç„¶åæŠŠ&lt;code&gt;k_max&lt;/code&gt;å¹³æ‘Šåˆ°è½®æ•°ä¸Šï¼Œå°±èƒ½ç®—å‡º&lt;code&gt;n&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ç»“æœè¿˜æ˜¯æœ‰åå·®çš„ï¼Œé‚£æ€ä¹ˆåŠï¼Ÿå¯ä»¥é€šè¿‡å°‘é‡çš„æµ‹è¯•è§‚å¯Ÿç»“æœè¯¯å·®ï¼Œé€‚å½“ç”¨&lt;code&gt;ä¿®æ­£å› å­&lt;/code&gt;åšè®¡ç®—æé«˜å‡†ç¡®ç‡ï¼Œç„¶ååˆæ¼”è¿›å‡ºäº†ä¸€ç§&lt;code&gt;LogLog&lt;/code&gt;çš„ä¼°ç®—å…¬å¼ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gvnavkzk30j60gu03c0sm02.jpg&#34; 
    alt=&#34;LogLogä¼°ç®—å…¬å¼&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šé¢çš„&lt;code&gt;DVLL&lt;/code&gt;å¯¹åº”çš„å°±æ˜¯&lt;code&gt;n&lt;/code&gt;ï¼Œ&lt;code&gt;constant&lt;/code&gt;ä¸ºä¿®æ­£å› å­å…·ä½“å€¼æ˜¯ä¸å®šçš„ï¼Œè‡ªå®šä¹‰è®¾ç½®ï¼Œå¯ä»¥é€šè¿‡å°‘é‡çš„æµ‹è¯•è§‚å¯Ÿç»“æœè¯¯å·®ï¼Œ&lt;code&gt;m&lt;/code&gt;ä»£è¡¨çš„æ˜¯è¯•éªŒçš„è½®æ•°ï¼Œå¤´ä¸Šæœ‰ä¸€æ¨ªçš„Rå°±æ˜¯å¹³å‡æ•°ï¼š&lt;code&gt;(k_max_1 + ... + k_max_m)/m&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å°ç»“&#34;&gt;
    &lt;a href=&#34;#%e5%b0%8f%e7%bb%93&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å°ç»“
&lt;/h2&gt;
&lt;p&gt;æœ¬æ–‡æ•´ç†ä¸€ä¸‹&lt;code&gt;LogLog&lt;/code&gt;ç›¸å…³åŸºç¡€ç†è®ºï¼Œä½†æ˜¯æ²¡æœ‰å†™å®Œï¼Œåé¢æ›´æ–°ä¸‹ç¯‡æ–‡ç« ä¼šè®²&lt;code&gt;redis&lt;/code&gt;çš„&lt;code&gt;hll&lt;/code&gt;å…·ä½“å®ç°ç»†èŠ‚ï¼Œ&lt;code&gt;HyperLogLog&lt;/code&gt;æ˜¯ç”±&lt;code&gt;Loglog&lt;/code&gt;ä¼˜åŒ–æ”¹è¿›è¿‡æ¥çš„ï¼Œæ‰€ä»¥æœ¬ç¯‡å…ˆå†™åˆ°è¿™ã€‚&lt;/p&gt;

    </description>
    </item>
    
    <item>
    <title>Virtual Memory</title>
    <link>http://blog.ibyte.me/post/virtual-memory/</link>
    <pubDate>Fri, 08 Oct 2021 20:40:55 +0800</pubDate>
    
    <guid>http://blog.ibyte.me/post/virtual-memory/</guid>
    <description>
        &lt;h2 id=&#34;ä»€ä¹ˆæ˜¯é€»è¾‘å†…å­˜&#34;&gt;
    &lt;a href=&#34;#%e4%bb%80%e4%b9%88%e6%98%af%e9%80%bb%e8%be%91%e5%86%85%e5%ad%98&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    ä»€ä¹ˆæ˜¯é€»è¾‘å†…å­˜
&lt;/h2&gt;
&lt;p&gt;ä»€ä¹ˆæ˜¯é€»è¾‘å†…å­˜ï¼ŸæŠŠç‰©ç†å†…å­˜é€šè¿‡ç¨‹åºè¿›è¡Œè™šæ‹ŸåŒ–å‡ºæ¥çš„å†…å­˜æ˜ å°„ï¼Œè¿™å°±ç§°ä¹‹ä¸º&lt;code&gt;é€»è¾‘å†…å­˜&lt;/code&gt;æˆ–&lt;code&gt;è™šæ‹Ÿå†…å­˜&lt;/code&gt;ã€‚å†…å­˜å¯¹äºç¨‹åºæ¥è¯´éå¸¸é‡è¦ï¼Œå½“ç„¶å¤§éƒ¨åˆ†ç°åœ¨å¦‚æœä½ ä¸ææ“ä½œç³»ç»Ÿæˆ–è€…ä¸€äº›ç‰¹å®šé¢†åŸŸçš„å¼€å‘ä¸€èˆ¬å¾ˆå°‘äº†è§£ã€‚å†…å­˜å¯¹äºè®¡ç®—æœºæ¥è¯´éå¸¸å®è´µçš„ä¸œè¥¿ï¼Œç°åœ¨çš„ç¨‹åºå‘˜åªä¼šåœ¨è¿™äº›åŸºç¡€ä¹‹ä¸Šè¿›è¡Œå¼€å‘ä¸œè¥¿ï¼Œå†…å­˜ç®¡ç†æ˜¯äº¤ç»™æ“ä½œç³»ç»Ÿè¿›è¡Œç®¡ç†çš„ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å†…å­˜ç®¡ç†&#34;&gt;
    &lt;a href=&#34;#%e5%86%85%e5%ad%98%e7%ae%a1%e7%90%86&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å†…å­˜ç®¡ç†
&lt;/h2&gt;
&lt;p&gt;å¯¹äºæ“ä½œç³»ç»Ÿæ¥è¯´æ€ä¹ˆåˆ†é…å†…å­˜ï¼Œæ€ä¹ˆå»ç»™æ¯ä¸ªä¸åŒç¨‹åºåˆ†é…å†…å­˜ï¼Œç®¡ç†æ•°æ®ï¼Œæ€ä¹ˆéš”ç¦»å†…å­˜ï¼Œæ€ä¹ˆä¸è®©ç¨‹åº&lt;code&gt;a&lt;/code&gt;å»è®¿é—®ç¨‹åº&lt;code&gt;b&lt;/code&gt;çš„å†…å­˜ï¼Œå†…å­˜ä¸å¤Ÿäº†ä¼šæ€ä¹ˆæ ·ï¼Ÿè¿™äº›é—®é¢˜éƒ½æ˜¯éœ€è¦æ“ä½œç³»ç»Ÿè§£å†³çš„ã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾è®¡ç®—æœºå†…å­˜æ˜¯&lt;code&gt;4GB&lt;/code&gt;ï¼Œè¿™é‡Œéœ€è¦è¿è¡Œ&lt;code&gt;4&lt;/code&gt;ä¸ªç¨‹åºï¼Œå¦‚å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gv856r4smhj60g50bg74p02.jpg&#34; 
    alt=&#34;ç¤ºæ„å›¾&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;å¦‚å›¾å†…å­˜åªè¦&lt;code&gt;4GB&lt;/code&gt;ä½†æ˜¯éœ€è¦è¿è¡Œçš„ç¨‹åºå†…å­˜æ€»å’Œè¿˜è¦å¤§äº&lt;code&gt;4GB&lt;/code&gt;ï¼Œåªèƒ½æ»¡è¶³&lt;code&gt;ABC&lt;/code&gt;è¿™&lt;code&gt;3&lt;/code&gt;ä¸ªç¨‹åºçš„è¿è¡Œï¼Œè¿™æ—¶éœ€è¦è¿è¡Œ&lt;code&gt;D&lt;/code&gt;é‚£ä¹ˆå°±è¦ç­‰ç€ï¼Œæ“ä½œç³»ç»Ÿå›æ”¶å†…å­˜å†å»çœ‹çœ‹æœ‰æœ¨æœ‰åˆé€‚çš„ä½ç½®æ»¡è¶³è¿è¡Œæ¡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯è¿™åˆå‡ºç°ä¸€ä¸ªæ–°çš„é—®é¢˜ï¼Œå¦‚å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gv85cu4f08j606605cglk02.jpg&#34; 
    alt=&#34;å†…å­˜æƒ…å†µ&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;å½“æ“ä½œç³»ç»Ÿå›æ”¶äº†&lt;code&gt;Aå’ŒC&lt;/code&gt;ç¨‹åºæ‰€å ç”¨çš„å†…å­˜æ—¶ï¼Œå‘ç°è¿™å—å†…å­˜ä¸æ˜¯è¿ç»­çš„ï¼Œè€Œ&lt;code&gt;D&lt;/code&gt;ç¨‹åºéœ€è¦ä¸€å—è¿ç»­çš„å†…å­˜æ‰èƒ½æ­£å¸¸è·‘èµ·æ¥ï¼Œè¿™é‡Œé—®é¢˜å°±æ˜¯ä¸ºä»€ä¹ˆéœ€è¦æœ‰&lt;code&gt;virtual memory&lt;/code&gt;çš„åŸå› ä¹‹ä¸€äº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;virtual-memory&#34;&gt;
    &lt;a href=&#34;#virtual-memory&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    Virtual Memory
&lt;/h2&gt;
&lt;p&gt;æœ‰äº†è¿™äº›ä½¿ç”¨ä¸Šçš„é—®é¢˜ï¼Œç„¶åå°±ä¼šå‡ºç°äº†&lt;code&gt;Virtual Memory&lt;/code&gt;è¿™ç§æŠ€æœ¯ï¼ŒæŠŠ&lt;code&gt;ç‰©ç†&lt;/code&gt;åŠ ä¸€å±‚æ˜ å°„ï¼Œè€Œæ˜ å°„è¿™ä¸€å±‚å°±æ˜¯ç°åœ¨çš„&lt;code&gt;Virtual Memory&lt;/code&gt;ï¼Œä¸‹é¢æˆ‘ç”»äº†ä¸€å¼ å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gv85ogr9ylj60g506uwer02.jpg&#34; 
    alt=&#34;MMU&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡è¿™ç§æ–¹å¼æŠŠ&lt;code&gt;ç‰©ç†å†…å­˜&lt;/code&gt;è™šæ‹ŸåŒ–æˆä¸€ä¸ªè™šæ‹ŸåŒ–çš„å†…å­˜ï¼Œä»è€Œè¾¾åˆ°é«˜æ•ˆçš„åˆ©ç”¨ï¼Œè™šæ‹Ÿåœ°å€æŠ½è±¡ä¸èƒ½åœ¨åº”ç”¨çš„è¿è¡Œè¿‡ç¨‹ä¸­é€ æˆæ˜æ˜¾çš„å¼€é”€ï¼Œä¹Ÿä¸ä¼šå ç”¨è¿‡å¤šçš„ç‰©ç†å†…å­˜èµ„æºï¼Œæœ‰æ•ˆçš„åŠ¨æ€è§„åˆ’åˆ©ç”¨ç‰©ç†å†…å­˜ã€‚è™šæ‹Ÿå†…å­˜å¯ä»¥å®Œå…¨æŠŠä¸åŒç¨‹åºçš„å†…å­˜éš”ç¦»å¼€æ¥ï¼Œè®©ç¨‹åºæ— æ³•è®¿é—®åˆ°å…¶ä»–ç¨‹åºçš„å†…å­˜ï¼Œå®‰å…¨æ€§é«˜ã€‚é€æ˜æ€§ï¼Œç¨‹åºå¼€å‘è€…ä¹Ÿæ— é™å…³ç³»ç¨‹åºåœ¨è¿è¡Œçš„æ—¶å€™å†…å­˜æ˜¯å¦å¤Ÿç”¨ï¼Œæ„Ÿè§‰ä¸åˆ°è™šæ‹Ÿå†…å­˜çš„å­˜åœ¨ã€‚&lt;/p&gt;
&lt;p&gt;è™šæ‹Ÿå†…å­˜åˆ’åˆ†è§„åˆ™æœ‰å¾ˆå¤šç§ï¼Œä¾‹å¦‚&lt;code&gt;åˆ†æ®µæœºåˆ¶&lt;/code&gt;å’Œ&lt;code&gt;åˆ†é¡µæœºåˆ¶&lt;/code&gt;è¿™é‡Œæˆ‘ä¹Ÿæ²¡æœ‰æ‰“ç®—å†™ï¼Œåé¢æœ‰ç©ºå†å†™å†™&lt;code&gt;åˆ†æ®µå’Œåˆ†é¡µåŒºåˆ«&lt;/code&gt;å’Œ&lt;code&gt;ç¼ºé¡µå¼‚å¸¸å’Œå†…å­˜é¡µæ›¿æ¢ç­–ç•¥ï¼Œæ€ä¹ˆåœ¨ç‰©ç†å†…å­˜ä¸å¤Ÿç”¨çš„æƒ…å†µä¸‹å»è§£å†³è¿™ä¸ªé—®é¢˜ç­‰...&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å…¶ä»–&#34;&gt;
    &lt;a href=&#34;#%e5%85%b6%e4%bb%96&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å…¶ä»–
&lt;/h2&gt;
&lt;p&gt;å¦‚æœå¯¹ç›¸å…³å†…å®¹æ„Ÿå…´è¶£ï¼Œå¯ä»¥å»çœ‹çœ‹&lt;code&gt;ä¸Šæµ·äº¤å¤§é™ˆæµ·æ³¢æ•™æˆçš„æ“ä½œç³»ç»Ÿè¯¾ç¨‹&lt;/code&gt;ï¼Œåœ°å€ï¼š&lt;code&gt;https://ipads.se.sjtu.edu.cn/courses/os/&lt;/code&gt;ï¼Œå½“ç„¶è¿™ä¸ªéƒ¨åˆ†å†…å­˜åªæ”¯æŒå†…ç½‘è®¿é—®ã€‚&lt;/p&gt;

    </description>
    </item>
    
    <item>
    <title>Go Slice Expansion Mechanism</title>
    <link>http://blog.ibyte.me/post/go-slice-expansion-mechanism/</link>
    <pubDate>Sun, 26 Sep 2021 23:06:08 +0800</pubDate>
    
    <guid>http://blog.ibyte.me/post/go-slice-expansion-mechanism/</guid>
    <description>
        &lt;p&gt;åˆ‡ç‰‡æ˜¯&lt;code&gt;Golang&lt;/code&gt;é‡Œé¢ä¸€ä¸ªå¤åˆæ•°æ®ç±»å‹ï¼Œå¯ä»¥æŠŠå®ƒçœ‹åšä¸ºä¸€ä¸ªå¯å˜é•¿åº¦çš„æ•°ç»„ï¼Œå’Œ&lt;code&gt;åŠ¨æ€æ•°ç»„&lt;/code&gt;ä¸€æ ·ï¼Œåœ¨åˆ›å»ºçš„æ—¶å€™æˆ‘ä»¬å¯ä»¥æŒ‡å®šå®¹é‡å¤§å°ï¼Œå¦‚æœä¸å¤Ÿäº†ï¼Œå®ƒè¿˜èƒ½æŒ‡å®šæ‰©å®¹ï¼ŒåŸºæœ¬çš„&lt;code&gt;crud&lt;/code&gt;æ²¡æœ‰ä»€ä¹ˆå¯è¯´çš„æœ¬ç¯‡æ–‡ç« å°†å†™å†™åˆ‡ç‰‡åº•å±‚çš„å®ç°ã€‚&lt;/p&gt;
&lt;h2 id=&#34;slice-struct&#34;&gt;
    &lt;a href=&#34;#slice-struct&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    slice struct
&lt;/h2&gt;
&lt;p&gt;å…¶å®&lt;code&gt;slice&lt;/code&gt;åœ¨åº•å±‚å°±æ˜¯ä¸€ä¸ª&lt;code&gt;struct&lt;/code&gt;å£°æ˜ä¸€ä¸ªç»“æ„ä½“ï¼Œç»“æ„å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;slice&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;array&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;unsafe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Pointer&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;len&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;cap&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1guu9lfrp8tj60kt070q3f02.jpg&#34; 
    alt=&#34;å†…å­˜ç»“æ„ä½“&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;slice&lt;/code&gt;æœ¬èº«ä¸€ä¸ªç»“æ„ä½“é‡Œé¢åŒ…å«äº†&lt;code&gt;array&lt;/code&gt;å’Œ&lt;code&gt;len&lt;/code&gt;å’Œ&lt;code&gt;cap&lt;/code&gt;æˆå‘˜å˜é‡ï¼Œ&lt;code&gt;array&lt;/code&gt;æ˜¯ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘çœŸæ­£å­˜å‚¨æ•°æ®çš„å†…å­˜å¤´å…ƒç´ åœ°å€ï¼Œ&lt;code&gt;len&lt;/code&gt;è®°å½•ç€å½“å‰å®é™…çš„å…ƒç´ ä¸ªæ•°ï¼Œ&lt;code&gt;cap&lt;/code&gt;è®°å½•å½“å‰åˆ‡ç‰‡çš„å®¹é‡ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;h2 id=&#34;append-expansion&#34;&gt;
    &lt;a href=&#34;#append-expansion&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    append expansion
&lt;/h2&gt;
&lt;p&gt;åœ¨è¯´&lt;code&gt;append&lt;/code&gt;æ‰©å®¹æœºåˆ¶ä¹‹å‰ï¼Œå…ˆçœ‹ä¸€ä¸ªä¸‹é¢çš„é¢˜ç›®ï¼Œæœ€ç»ˆè¾“å‡ºä»€ä¹ˆï¼Ÿï¼Ÿ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
	&lt;span class=&#34;s&#34;&gt;&amp;#34;fmt&amp;#34;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;array&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;...&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;s1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;array&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;array&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;...&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;s2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;s1&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;s1&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,[]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;...&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;nf&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;nf&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Println&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; 
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;range&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¼°è®¡å¤§å¤šæ•°äººè‚¯å®šä¼šç§’å›ç­”è¯´&lt;code&gt;[1 2 3 5 5 6 7] [1 2 3 5 5]&lt;/code&gt;ï¼Œå¦‚æœå›ç­”è¿™ä¸ªå°±è¯´æ˜ä½ è¿&lt;code&gt;go&lt;/code&gt;é‡Œé¢å‡½æ•°å‚æ•°æ˜¯&lt;code&gt;å€¼ä¼ é€’&lt;/code&gt;è¿˜æ˜¯&lt;code&gt;å¼•ç”¨ä¼ é€’&lt;/code&gt;éƒ½æ²¡æœ‰ææ¸…æ¥šï¼Œè€Œä¸”ä½ å¯¹&lt;code&gt;append&lt;/code&gt;ä¹Ÿæ²¡æœ‰ææ¸…æ¥šã€‚&lt;/p&gt;
&lt;p&gt;ä¸Šé¢ä»£ç è¿è¡Œæ­£ç¡®çš„ç­”æ¡ˆæ˜¯&lt;code&gt;[2 4 6 10 12 14] [2 4 6 10]&lt;/code&gt;ï¼&lt;/p&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿè¿™ä¸ªé¦–å…ˆåœ¨&lt;code&gt;Go&lt;/code&gt;è¯­è¨€ä¸­çš„æ‰€æœ‰ä¸œè¥¿éƒ½æ˜¯ä»¥å€¼ä¼ é€’çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ªå‡½æ•°æ€»æ˜¯å¾—åˆ°ä¸€ä¸ªè¢«ä¼ é€’çš„ä¸œè¥¿çš„å‰¯æœ¬ï¼Œå°±åƒæœ‰ä¸€ä¸ªèµ‹å€¼è¯­å¥å°†å€¼èµ‹ç»™å‚æ•°ä¸€æ ·ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1guubusz0luj60kp09i0t502.jpg&#34; 
    alt=&#34;append expansion&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šå›¾å°±æ˜¯æ•´ä¸ª&lt;code&gt;append&lt;/code&gt;æ‰©å®¹è¿‡ç¨‹ï¼Œé¦–å…ˆæ£€æµ‹åŸå§‹çš„&lt;code&gt;array&lt;/code&gt;åº•å±‚çš„é‚£ä¸ªæ•°ç»„å®¹é‡å¤Ÿä¸å¤Ÿï¼Œå¦‚æœä¸å¤Ÿå°±ä¼šå…ˆç”³è¯·ä¸€å—æ–°çš„å†…å­˜ï¼Œå½“ç„¶è¿™ä¸ªæ‰©å®¹å¤§å°æœ‰ç›¸åº”çš„ç­–ç•¥çš„ï¼Œæˆ‘ç”»çš„è¿™å¹…æ–¹ä¾¿ç†è§£ï¼Œæ‰€ä»¥æˆ‘è¿™é‡Œå°±å½“åŸå§‹æ•°é‡çš„&lt;code&gt;*2&lt;/code&gt;è¿›è¡Œæ‰©å®¹ã€‚æ‰©å®¹ä¹‹åæŠŠæ—§åˆ‡ç‰‡çš„å…ƒç´ å¤åˆ¶åˆ°æ–°çš„åˆ‡ç‰‡ä¸­ï¼Œç„¶åå°†ç›¸åº”çš„æ·»åŠ çš„å…ƒç´ è¿½åŠ è¿›å»å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;äº†è§£è¿™äº›å°±å¾ˆæ–¹ä¾¿ç†è§£ä¸ºä»€ä¹ˆï¼Ÿï¼Ÿä¸Šé¢ç»“æœæ˜¯&lt;code&gt;[2 4 6 10 12 14] [2 4 6 10]&lt;/code&gt;äº†ï¼Œé¦–å…ˆæˆ‘å°†&lt;code&gt;s1&lt;/code&gt;èµ‹å€¼ç»™äº†&lt;code&gt;s2&lt;/code&gt;ï¼Œ&lt;code&gt;s2&lt;/code&gt;å’Œ&lt;code&gt;s1&lt;/code&gt;å…±ç”¨ä¸€å—åº•å±‚çš„å…ƒç´ å†…å­˜ï¼Œç„¶åå°†&lt;code&gt;s1&lt;/code&gt;è¿›è¡Œäº†&lt;code&gt;append&lt;/code&gt;æ“ä½œï¼Œè¿™ä¸€æ“ä½œä¼šè§¦å‘æ‰©å®¹æœºåˆ¶ï¼Œæ‰€æœ‰åœ¨æ‰©å®¹ä¹‹å&lt;code&gt;s2&lt;/code&gt;å’Œ&lt;code&gt;s1&lt;/code&gt;åº•å±‚æ•°ç»„å®Œå…¨æ˜¯ä¸ä¸€æ ·çš„ï¼&lt;code&gt;test(s []int)&lt;/code&gt;åˆæ˜¯å€¼æ‹·è´ï¼Œæ‹·è´ä¹Ÿæ˜¯åº•å±‚çš„æŒ‡é’ˆï¼Œæ‰€æœ‰æ“ä½œè¿˜æ˜¯ä¸€å—å†…å­˜ï¼Œå°±ä¼šå½±å“åˆ°å¤–é¢çš„ï¼Œè¿™é‡Œçš„æ‹·è´åªä¼šå½±å“åˆ°&lt;code&gt;unsafe.Pointer&lt;/code&gt;æŒ‡é’ˆç±»å‹ï¼Œ&lt;code&gt;len&lt;/code&gt;å’Œ&lt;code&gt;cap&lt;/code&gt;åˆ™æ˜¯å€¼æ‹·è´ã€‚&lt;/p&gt;

    </description>
    </item>
    
    <item>
    <title>Computer Science Learning</title>
    <link>http://blog.ibyte.me/post/computer-science-learning/</link>
    <pubDate>Fri, 24 Sep 2021 21:38:31 +0800</pubDate>
    
    <guid>http://blog.ibyte.me/post/computer-science-learning/</guid>
    <description>
        &lt;p&gt;æœ¬é¡µé¢æ˜¯æœ¬åšä¸»ä¸ªäººå¹³æ—¶æ•´ç†çš„ä¸€äº›è®¡ç®—æœºç§‘å­¦ä¸“ä¸šè§†é¢‘å­¦ä¹ èµ„æ–™ï¼Œæ•´ç†æ”¾åœ¨ä¸‹é¢æ–¹ä¾¿å¤§å®¶æµè§ˆï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰å¸®åŠ©ã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;èµ„æ–™åç§°&lt;/th&gt;
&lt;th&gt;é“¾æ¥&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;æ•°æ®åº“åŸºç¡€&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://www.bilibili.com/video/BV1GP4y1h7Z&#34;&gt;å“”å“©å“”å“©è§†é¢‘&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ•°æ®ç»“æ„åŸºç¡€&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://www.bilibili.com/video/BV1E4411H73v&#34;&gt;å“”å“©å“”å“©è§†é¢‘&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ“ä½œç³»ç»ŸåŸºç¡€&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://ipads.se.sjtu.edu.cn/mospi/&#34;&gt;ä¸Šæµ·äº¤é€šå¤§å­¦-é™ˆæµ·æ³¢&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

    </description>
    </item>
    
    <item>
    <title>Often Used Structured Query Languages</title>
    <link>http://blog.ibyte.me/post/often-used-structured-query-languages/</link>
    <pubDate>Tue, 21 Sep 2021 18:52:13 +0800</pubDate>
    
    <guid>http://blog.ibyte.me/post/often-used-structured-query-languages/</guid>
    <description>
        &lt;h2 id=&#34;æ¦‚-è¿°&#34;&gt;
    &lt;a href=&#34;#%e6%a6%82-%e8%bf%b0&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    æ¦‚ è¿°
&lt;/h2&gt;
&lt;p&gt;åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä½œä¸ºä¸€ä¸ª&lt;code&gt;crud boy&lt;/code&gt;æ¥è¯´ä¼šä½¿&lt;code&gt;sql&lt;/code&gt;æ¥æ“ä½œæ•°æ®åº“å¢åˆ æ”¹æŸ¥æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œè¿™ç¯‡æ–‡ç« å°†å†™å†™æ—¥å¸¸å¼€å‘ä¸­å¸¸ç”¨çš„&lt;code&gt;sql&lt;/code&gt;è¯­å¥ã€‚æ•°æ®æ˜¯ä¸€ä¸ªæŠ½è±¡çš„çš„å®šä¹‰ï¼Œæ‰€è°“çš„æ•°æ®åº“å°±æ˜¯æŠŠä¸€äº›å…ƒæ•°æ®é€šè¿‡ç‰¹å®šè§„å¾‹æ•´ç†åˆ°ä¸€èµ·ç®¡ç†èµ·æ¥ï¼Œæ–¹ä¾¿é€šè¿‡ä»–ç‰¹å®š&lt;code&gt;DDL&lt;/code&gt;ï¼Œ&lt;code&gt;DCL&lt;/code&gt;ï¼Œ&lt;code&gt;DML&lt;/code&gt;è¿™äº›ç‰¹å®šçš„è¯­å¥æ¥æ–¹ä¾¿ç®¡ç†æ•°æ®ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;DDL (data definition languages)&lt;/code&gt; æ–¹ä¾¿å¼€å‘è€…é€šè¿‡&lt;code&gt;SQL&lt;/code&gt;æ¥å®šä¹‰å­˜å‚¨çš„æ•°æ®æ ¼å¼ï¼Œç»„ç»‡æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;DML (data manipulation languages)&lt;/code&gt; å…è®¸ç”¨æˆ·å¯¹æ•°æ®è¿›è¡Œ&lt;code&gt;create&lt;/code&gt;ã€&lt;code&gt;delete&lt;/code&gt;ã€&lt;code&gt;insert&lt;/code&gt;ã€&lt;code&gt;updated&lt;/code&gt;æ“ä½œã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;DCL (data control languages)&lt;/code&gt; å¯ä»¥æ¥ç®¡ç†ç”¨æˆ·å¯¹æ•°æ®çš„è®¿é—®æ“ä½œæƒé™ï¼Œä¾‹å¦‚æ£€ç´¢ï¼Œæ›´æ–°ï¼Œåˆ é™¤ &amp;hellip;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;æŸ¥è¯¢è¯­å¥&#34;&gt;
    &lt;a href=&#34;#%e6%9f%a5%e8%af%a2%e8%af%ad%e5%8f%a5&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    æŸ¥è¯¢è¯­å¥
&lt;/h2&gt;
&lt;p&gt;åœ¨æ—¥å¸¸å¼€å‘è¿‡ç¨‹ä¸­æŸ¥è¯¢æ•°æ®æ˜¯åº”ç”¨åœºæ™¯æœ€å¤šçš„ï¼ŒæŸ¥è¯¢å°±è¦ä½¿ç”¨&lt;code&gt;select&lt;/code&gt;å…³é”®å­—ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tableName&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¾‹å¦‚æœ‰ä¸€ä¸ªè¡¨ç»“æ„å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1guogri7g9hj60f106zglu02.jpg&#34; 
    alt=&#34;ç”¨æˆ·è¡¨&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šé¢æ˜¯æŸ¥è¯¢æ•´å¼ è¡¨çš„æ‰€æœ‰å­—æ®µæ•°æ®ï¼Œå¦‚æœéœ€è¦ç­›é€‰å°±éœ€è¦åˆ¶å®šå…¶&lt;code&gt;field name&lt;/code&gt;å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;as&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;ç”¨æˆ·å&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TableName&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å¹¶ä¸”ä¸Šé¢ä½¿ç”¨äº†&lt;code&gt;as&lt;/code&gt;å…³é”®å­—å¹¶è¿›è¡Œäº†åˆ«åï¼ŒæŸ¥è¯¢å‡ºæ¥æ•°æ®å°±æŒ‰ç…§åˆ«åè¿›è¡Œå±•ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæƒ³æŸ¥è¯¢æŒ‡å®šçš„æ•°æ®,å°±è¦ä½¿ç”¨&lt;code&gt;where&lt;/code&gt;å­è¯­å¥ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TableName&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;where&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ID&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;é‚£ä¹ˆä¸Šçš„&lt;code&gt;SQL&lt;/code&gt;è¯­å¥æŸ¥è¯¢å‡ºæ¥çš„ç»“æœå°±æ˜¯ä¸Šå›¾ä¸­&lt;code&gt;ID&lt;/code&gt;ç­‰äº&lt;code&gt;1&lt;/code&gt;çš„ä¸€æ¡æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœéœ€è¦æ•´ç†ç»“æœé›†å»é‡å¤çš„è¯åœ¨å‰é¢åŠ å…¥&lt;code&gt;distinct&lt;/code&gt;å…³é”®å­—ï¼Œå°±å¯ä»¥å»é‡äº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æŸ¥è¯¢è¿‡æ»¤&#34;&gt;
    &lt;a href=&#34;#%e6%9f%a5%e8%af%a2%e8%bf%87%e6%bb%a4&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    æŸ¥è¯¢è¿‡æ»¤
&lt;/h2&gt;
&lt;p&gt;æœ‰æ—¶å€™æˆ‘ä»¬é€šè¿‡æ¡ä»¶æŸ¥è¯¢åˆ°çš„æ•°æ®éœ€è¦è¿›è¡Œå…¶ä»–ç­›é€‰ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±è¦ä½¿ç”¨åˆ°&lt;code&gt;limit&lt;/code&gt;æˆ–è€…&lt;code&gt;order by&lt;/code&gt;è¿›è¡Œè¿‡æ»¤æˆ–è€…é‡æ–°æ•´ç†äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚æˆ‘è¦æŸ¥è¯¢è¡¨ä¸­å¹´é¾„æœ€å°é‚£ä¸ªç”¨æˆ·çš„åå­—ï¼Œè¿™é‡Œä¸æ’é™¤å¹´é¾„æ˜¯é‡å¤çš„æƒ…å†µï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TableName&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;order&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;by&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;age&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;desc&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;limit&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¸Šé¢å°±æ˜¯å¯¹ &lt;code&gt;age&lt;/code&gt;è¿›è¡Œé™åºç„¶åå–ä¸€æ¡æ•°æ®ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TableName&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;order&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;by&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;age&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;ASC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å¯¹è¡¨è¿›è¡ŒæŒ‰ç…§&lt;code&gt;age&lt;/code&gt;å‡åºæ’åºæ•´ç†è¾“å‡ºç»“æœã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;limit&lt;/code&gt;æ”¯æŒå‡ ç§æ–¹å¼ï¼Œ&lt;code&gt;limit 2,5&lt;/code&gt;æ„æ€æ˜¯ä»ç¬¬&lt;code&gt;2&lt;/code&gt;è¡Œå¼€å§‹ï¼Œå¾€åæŸ¥è¯¢&lt;code&gt;5&lt;/code&gt;æ¡æ•°æ®ï¼Œ&lt;code&gt;limit 2 offset 3&lt;/code&gt;æ„æ€æ˜¯ä»&lt;code&gt;3&lt;/code&gt;å¼€å§‹å¾€åæŸ¥è¯¢&lt;code&gt;2&lt;/code&gt;æ¡æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰æ—¶å€™æˆ‘ä»¬æŸ¥è¯¢éœ€è¦ä½¿ç”¨è¿ç®—ç¬¦ï¼Œ&lt;code&gt;sql&lt;/code&gt;ä¹Ÿæ˜¯æ”¯æŒè¿ç®—ç¬¦çš„&lt;code&gt;&amp;lt;&lt;/code&gt;ã€&lt;code&gt;&amp;gt;&lt;/code&gt;ã€&lt;code&gt;&amp;lt;&amp;gt;&lt;/code&gt;ã€&lt;code&gt;&amp;lt;=&lt;/code&gt;ã€&lt;code&gt;&amp;gt;=&lt;/code&gt;ã€&lt;code&gt;!&amp;lt;&lt;/code&gt;ã€&lt;code&gt;!&amp;gt;&lt;/code&gt;ï¼Œè¿™äº›éƒ½å¯ä»¥åŠ åœ¨æ¡ä»¶è¯­å¥ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;å­—æ®µç±»å‹ä¹Ÿæ”¯æŒæ•°å­¦è¿ç®—ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TableName&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;where&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;age&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;32&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¸Šé¢ä¸€æ¡è¯­å¥å°±æ˜¯æŸ¥è¯¢&lt;code&gt;age&lt;/code&gt;åŠ &lt;code&gt;10&lt;/code&gt;ä»¥åç­‰äº&lt;code&gt;32&lt;/code&gt;çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦å¯¹è¿™ä¸ªè¡¨è¿›è¡Œå¤šä¸ªæ¡ä»¶é™åˆ¶æŸ¥è¯¢ï¼Œæˆ‘ä»¬å¯èƒ½å°±éœ€è¦ä½¿ç”¨åˆ°&lt;code&gt;OR&lt;/code&gt;æˆ–è€…&lt;code&gt;AND&lt;/code&gt;è¿›è¡Œæ¡ä»¶å…³è”æŸ¥è¯¢äº†ï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;users&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mobile&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;user_address&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mobile&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;as&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;ç”¨æˆ·è®¢å•æ‰‹æœºå·&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;user_address&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;address&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;user_address&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;users&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;where&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;user_address&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;user_id&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;users&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;user_id&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¸Šé¢è¿™ä¸ªå¤šè¡¨å…³è”æŸ¥è¯¢äº†ï¼Œæ¡ä»¶æ˜¯&lt;code&gt;user_address&lt;/code&gt;è¡¨çš„&lt;code&gt;id&lt;/code&gt;è¦å’Œ&lt;code&gt;users&lt;/code&gt;è¡¨çš„&lt;code&gt;id&lt;/code&gt;ç›¸ç­‰çš„æ•°æ®æŸ¥è¯¢å‡ºæ¥ã€‚&lt;/p&gt;
&lt;p&gt;å¤šä¸ªæ¡ä»¶å¯ä»¥ä½¿ç”¨&lt;code&gt;and&lt;/code&gt;å…³è”èµ·æ¥ç»„æˆä¸€ä¸ªæ¡ä»¶ï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;BookName&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;as&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ä¹¦å&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Price&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;as&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ä»·æ ¼&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Writer&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;AS&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ä½œè€…&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bookinfo&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;WHERE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;MONTH&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pDate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;9&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;and&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;YEAR&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pDate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2021&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æŸ¥è¯¢å›¾ä¹¦è¡¨é‡Œé¢çš„å‡ºç‰ˆæœˆä»½æ˜¯&lt;code&gt;9&lt;/code&gt;æœˆçš„å¹¶ä¸”æ˜¯&lt;code&gt;2021&lt;/code&gt;å¹´çš„&lt;code&gt;9&lt;/code&gt;æœˆå‡ºç‰ˆçš„å›¾ä¹¦ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TableName&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;where&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Leon Ding&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;or&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;age&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;22&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¸Šé¢ä½¿ç”¨&lt;code&gt;or&lt;/code&gt;æ»¡è¶³ä»»æ„ä¸€è¾¹æ¡ä»¶å³å¯å°±èƒ½æŸ¥è¯¢åˆ°æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ç§å°±æ˜¯æŸ¥è¯¢åœ¨æŸä¸ªèŒƒå›´å†…çš„æ•°æ®ï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;goods&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;where&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cost_price&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;between&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1099&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;and&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2880&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¸Šé¢å°±æ˜¯æŸ¥è¯¢æˆæœ¬ä»·åœ¨&lt;code&gt;1099-2880&lt;/code&gt;ä¹‹é—´çš„å•†å“ä¿¡æ¯ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨&lt;code&gt;not&lt;/code&gt;æ”¾åœ¨&lt;code&gt;between&lt;/code&gt;å‰é¢ï¼Œä¹Ÿå°±æ˜¯å–åçš„æ„æ€ã€‚&lt;/p&gt;
&lt;p&gt;å¤šä¸ªæ¡ä»¶æˆ–è€…é€šè¿‡å¤šä¸ªç±»å‹æ¥æŸ¥è¯¢å¯ä»¥ä½¿ç”¨&lt;code&gt;in&lt;/code&gt;å…³é”®å­—ï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TableName&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;age&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;in&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;22&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;18&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¸Šé¢æ˜¯æŸ¥å¹´é¾„æ˜¯&lt;code&gt;22&lt;/code&gt;å’Œ&lt;code&gt;18&lt;/code&gt;çš„ç”¨æˆ·ä¿¡æ¯ã€‚&lt;/p&gt;

    </description>
    </item>
    
    <item>
    <title>Golang Database Reverse Engineering</title>
    <link>http://blog.ibyte.me/post/golang-database-reverse-engineering/</link>
    <pubDate>Thu, 16 Sep 2021 22:49:08 +0800</pubDate>
    
    <guid>http://blog.ibyte.me/post/golang-database-reverse-engineering/</guid>
    <description>
        &lt;p&gt;ç›¸ä¿¡å¤§å®¶åœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­ä¼šå»ç¼–å†™ä¸€äº›æ•°æ®åº“è¡¨å¯¹åº”çš„&lt;code&gt;model&lt;/code&gt;ï¼Œå·¥ä½œæ¯”è¾ƒé‡å¤å¹¶ä¸”ä½æ•ˆï¼Œæœ¬æ–‡å°†ä»‹ç»ç¬”è€…å†™çš„ä¸€ä¸ªå·¥å…·å¯ä»¥æ ¹æ®æ•°æ®åº“è¡¨ç”Ÿäº§å¯¹åº”çš„&lt;code&gt;model&lt;/code&gt;é€†å‘å·¥ç¨‹å·¥å…·ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä»€ä¹ˆæ˜¯s2s&#34;&gt;
    &lt;a href=&#34;#%e4%bb%80%e4%b9%88%e6%98%afs2s&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    ä»€ä¹ˆæ˜¯s2sï¼Ÿ
&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;s2s (sql to structure)&lt;/code&gt;æ˜¯ä¸€æ¬¾å‘½ä»¤è¡Œæ•°æ®åº“é€†å‘å·¥ç¨‹å·¥å…·ï¼Œå®ƒå¯ä»¥é€šè¿‡æ•°æ®åº“è¡¨ç”Ÿæˆå¯¹åº”çš„&lt;code&gt;Java&lt;/code&gt;ã€&lt;code&gt;Go&lt;/code&gt;ã€&lt;code&gt;Rust&lt;/code&gt;ç»“æ„ä½“ï¼ˆ&lt;code&gt;class&lt;/code&gt;ï¼‰ï¼Œåé¢å°†é™†ç»­æ”¯æŒæ›´å¤šçš„è¯­è¨€ã€‚&lt;/p&gt;
&lt;h2 id=&#34;é…ç½®æ•°æ®åº“æº&#34;&gt;
    &lt;a href=&#34;#%e9%85%8d%e7%bd%ae%e6%95%b0%e6%8d%ae%e5%ba%93%e6%ba%90&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    é…ç½®æ•°æ®åº“æº
&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;s2s&lt;/code&gt;ä¾èµ–äºä½ çš„æ•°æ®åº“ï¼Œæ‰€ä»¥éœ€è¦ä½ é…ç½®å¥½ä½ çš„æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼Œä»¥ä¾¿&lt;code&gt;s2s&lt;/code&gt;ä¼šæ­£å¸¸çš„è¿è¡Œã€‚é…ç½®ä¿¡æ¯æ–¹æ³•å¾ˆç®€å•ä½ åªéœ€è¦åœ¨ä½ çš„ç¯å¢ƒå˜é‡ä¸­åŠ å…¥ä»¥ä¸‹ä¿¡æ¯å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;æ¨èä½¿ç”¨å¼€å‘ç¯å¢ƒçš„ä¸‹çš„&lt;code&gt;root&lt;/code&gt;ç”¨æˆ·ç™»å½•ï¼Œå› ä¸ºå·¥å…·éœ€è¦&lt;code&gt;information_schema&lt;/code&gt;è¡¨çš„æƒé™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#s2s å‘½ä»¤çš„æ•°æ®åº“ä¿¡æ¯&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;s2s_host&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;127.0.0.1:3306&amp;#34;&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;s2s_user&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;root&amp;#34;&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;s2s_pwd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;you db password&amp;#34;&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;s2s_charset&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;utf8&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;windows&lt;/code&gt;çš„é…ç½®&lt;code&gt;æ­¤ç”µè„‘-&amp;gt;å±æ€§-&amp;gt;é«˜çº§ç³»ç»Ÿè®¾ç½®-&amp;gt;ç¯å¢ƒå˜é‡&lt;/code&gt;ï¼Œ&lt;code&gt;Mac&lt;/code&gt;å’Œ&lt;code&gt;Linux&lt;/code&gt;åˆ™åœ¨&lt;code&gt;~/.profile&lt;/code&gt;æˆ–è€…&lt;code&gt;~/.zshrc&lt;/code&gt;ä¸­æ·»åŠ ä»¥ä¸Šé…ç½®ä¿¡æ¯å³å¯ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä½¿ç”¨æ–¹æ³•&#34;&gt;
    &lt;a href=&#34;#%e4%bd%bf%e7%94%a8%e6%96%b9%e6%b3%95&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    ä½¿ç”¨æ–¹æ³•
&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ä½ å¯ä»¥å…‹éš†ä¸‹è½½æœ¬ä»£ç åº“ï¼Œç„¶åå¦‚æœä½ çš„ç”µè„‘ä¸Šå·²ç»å®‰è£…å¥½äº†&lt;code&gt;go&lt;/code&gt;çš„ç¼–è¯‘å™¨é‚£ä¹ˆå°±è¿›å…¥ä¸»ç›®å½•å³å¯ä½¿ç”¨&lt;code&gt;go build&lt;/code&gt;å‘½ä»¤ç¼–è¯‘ç”ŸæˆäºŒè¿›åˆ¶ç¨‹åºæ–‡ä»¶ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœä½ è§‰å¾—éº»çƒ¦å³å¯åœ¨ä¸‹é¢åˆ—è¡¨ä¸­æ‰¾åˆ°ä½ å¯¹åº”çš„å¹³å°æ¶æ„ä¸‹è½½å¯¹åº”çš„äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶åˆ°ç”µè„‘ä¸Šï¼Œå¦‚æœä½ æƒ³åœ¨ç³»ç»Ÿä¸Šéšæ„è°ƒç”¨ä½ åˆ™åªéœ€è¦æŠŠ&lt;code&gt;s2s&lt;/code&gt;çš„å®‰è£…ç›®å½•æ”¾å…¥ä½ çš„ç¯å¢ƒå˜é‡ä¸­ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç›®å‰å¯¹&lt;code&gt;Rust&lt;/code&gt;éƒ¨åˆ†æ•°æ®ç±»å‹æ”¯æŒä¸å¤Ÿå‹å¥½ï¼Œä¸è¿‡ä¸è€½è¯¯ä½¿ç”¨ï¼Œç›®å‰è¢«ç”Ÿæˆçš„æ•°æ®åº“è¡¨åæ ¼å¼å¿…é¡»ä¸º&lt;code&gt;user_info&lt;/code&gt;è¿™æ ·çš„&lt;code&gt;snake case&lt;/code&gt;è¿™ç§æ ¼å¼ï¼ï¼åé¢ä¼šè€ƒè™‘ä¿®å¤è¿™ä¸ª&lt;code&gt;bug&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å¹³å°&lt;/th&gt;
&lt;th&gt;åœ°å€&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Windows-x64&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://github.com/higker/s2s/releases/download/v0.0.1/s2s-windows-x64.zip&#34;&gt;s2s-windows-x64.zip&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Mac-x64&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://github.com/higker/s2s/releases/download/v0.0.1/s2s-darwin-x64.zip&#34;&gt;s2s-darwin-x64.zip&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Linux-64&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://github.com/higker/s2s/releases/download/v0.0.1/s2s-linux-x64.zip&#34;&gt;s2s-linux-x64.zip&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;å†…ç½®å‘½ä»¤&#34;&gt;
    &lt;a href=&#34;#%e5%86%85%e7%bd%ae%e5%91%bd%e4%bb%a4&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å†…ç½®å‘½ä»¤
&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;PS: åœ¨å‘½ä»¤è¡Œæ¨¡å¼ä¸‹æŒ‰ä¸‹&lt;code&gt;tab&lt;/code&gt;é”®ä¼šæœ‰å‘½ä»¤è¡¥å…¨æç¤ºï¼&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‘½ä»¤&lt;/th&gt;
&lt;th&gt;ä½¿ç”¨æ–¹æ³•&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;databases&lt;/td&gt;
&lt;td&gt;æ˜¾ç¤ºæ‰€æœ‰æ•°æ®åº“å&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;use&lt;/td&gt;
&lt;td&gt;æŒ‡å®šä½¿ç”¨å“ªä¸ªæ•°æ®åº“&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tables&lt;/td&gt;
&lt;td&gt;æ˜¾ç¤ºå½“å‰æ•°æ®åº“æ‰€æœ‰è¡¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;gen&lt;/td&gt;
&lt;td&gt;ç”ŸæˆæŒ‡å®šçš„è¡¨ï¼Œ&lt;code&gt;gen è¡¨å&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;info&lt;/td&gt;
&lt;td&gt;æ˜¾ç¤ºæ•°æ®åº“æ‰€æœ‰ä¿¡æ¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;exit&lt;/td&gt;
&lt;td&gt;é€€å‡ºå‘½ä»¤è¡Œæ¨¡å¼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;clear&lt;/td&gt;
&lt;td&gt;æ¸…ç†å±å¹•å†…å®¹&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;ä½¿ç”¨æ¡ˆä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;  1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 51
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 52
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 53
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 54
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 55
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 56
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 57
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 58
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 59
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 60
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 61
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 62
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 63
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 64
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 65
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 66
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 67
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 68
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 69
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 70
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 71
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 72
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 73
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 74
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 75
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 76
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 77
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 78
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 79
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 80
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 81
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 82
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 83
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 84
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 85
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 86
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 87
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 88
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 89
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 90
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 91
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 92
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 93
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 94
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 95
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 96
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 97
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 98
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 99
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;100
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;101
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;102
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;103
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;104
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;105
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;106
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;107
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;108
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;109
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;110
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;111
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;112
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;113
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;114
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;115
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;116
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;117
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;118
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;119
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;120
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;121
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;122
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;123
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;124
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;125
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;126
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;127
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;128
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;129
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;130
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;131
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;132
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;133
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;134
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;135
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;136
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;137
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;138
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;139
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;140
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;141
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;142
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;143
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;144
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;145
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;146
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nl&#34;&gt;$:&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;s2s&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;java&lt;/span&gt;

	        &lt;span class=&#34;n&#34;&gt;______&lt;/span&gt;
	&lt;span class=&#34;o&#34;&gt;.-----.|&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;__&lt;/span&gt;    &lt;span class=&#34;o&#34;&gt;|.-----.&lt;/span&gt;
	&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;__&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;--||&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;__&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;||&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;__&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;--|&lt;/span&gt;
	&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;_____&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;||&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;______&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;||&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;_____&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;



&lt;span class=&#34;err&#34;&gt;ğŸ¥³&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;You&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;have&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;entered&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;the&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;command&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;line&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;

&lt;span class=&#34;err&#34;&gt;ğŸ¥³&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Press&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;the&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tab&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;to&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;get&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;prompt&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼&lt;/span&gt;

&lt;span class=&#34;err&#34;&gt;ğŸ¥³&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Enter&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;exit&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;`&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;to&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;exit&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;the&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;program&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;

&lt;span class=&#34;err&#34;&gt;ğŸ˜ƒ&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;s2s&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;databases&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;+---+--------------------+&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Database&lt;/span&gt;           &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;+---+--------------------+&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;information_schema&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;emp_db&lt;/span&gt;             &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;3&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mysql&lt;/span&gt;              &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;4&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;performance_schema&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sys&lt;/span&gt;                &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;6&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;test_db&lt;/span&gt;            &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;+---+--------------------+&lt;/span&gt;


&lt;span class=&#34;err&#34;&gt;ğŸ˜ƒ&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;s2s&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;use&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;emp_db&lt;/span&gt;

&lt;span class=&#34;err&#34;&gt;ğŸ¤–&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;â€&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Selected&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;database&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;ğŸ‘‰&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;emp_db&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;`ï¼&lt;/span&gt;

&lt;span class=&#34;err&#34;&gt;ğŸ˜ƒ&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;s2s&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tables&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;+---+-----------+&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Tables&lt;/span&gt;    &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;+---+-----------+&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;user_info&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;+---+-----------+&lt;/span&gt;


&lt;span class=&#34;err&#34;&gt;ğŸ˜ƒ&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;s2s&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;gen&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;user_info&lt;/span&gt;

	&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;model&lt;/span&gt;


	&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;java.sql.Timestamp&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

	&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;java.math.BigDecimal&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

	&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;java.math.BigInteger&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;


	&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;UserInfo&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;


      &lt;span class=&#34;c1&#34;&gt;// ç”¨æˆ·è´¦å·
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;      &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Account&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

      &lt;span class=&#34;c1&#34;&gt;// ç”¨æˆ·åˆ›å»ºæ—¶é—´
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;      &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Timestamp&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CreateTime&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

      &lt;span class=&#34;c1&#34;&gt;// ç”¨æˆ·æ›´æ–°æ—¶é—´
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;      &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Timestamp&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UpdatedDate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

      &lt;span class=&#34;c1&#34;&gt;// ç”¨æˆ·å¹´é¾„
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;      &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;short&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Age&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

      &lt;span class=&#34;c1&#34;&gt;// ç”¨æˆ·ä½™é¢
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;      &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;BigDecimal&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Money&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

      &lt;span class=&#34;c1&#34;&gt;// ç”¨æˆ·ID
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;      &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;BigInteger&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Uid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;


      &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getAccount&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
          &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Account&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
      &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

      &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setAccount&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Account&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
          &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;Account&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Account&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
      &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

      &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Timestamp&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getCreateTime&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
          &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CreateTime&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
      &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

      &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setCreateTime&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Timestamp&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CreateTime&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
          &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;CreateTime&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CreateTime&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
      &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

      &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Timestamp&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getUpdatedDate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
          &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UpdatedDate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
      &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

      &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setUpdatedDate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Timestamp&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UpdatedDate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
          &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;UpdatedDate&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UpdatedDate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
      &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

      &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;short&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getAge&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
          &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Age&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
      &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

      &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setAge&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;short&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Age&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
          &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;Age&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Age&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
      &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

      &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;BigDecimal&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getMoney&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
          &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Money&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
      &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

      &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setMoney&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;BigDecimal&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Money&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
          &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;Money&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Money&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
      &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

      &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;BigInteger&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getUid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
          &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Uid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
      &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

      &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setUid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;BigInteger&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Uid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
          &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;Uid&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Uid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
      &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;


      &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
      &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;toString&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;user_info{&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;

            &lt;span class=&#34;s&#34;&gt;&amp;#34;Account=&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Account&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;,&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;

            &lt;span class=&#34;s&#34;&gt;&amp;#34;CreateTime=&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CreateTime&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;,&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;

            &lt;span class=&#34;s&#34;&gt;&amp;#34;UpdatedData=&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UpdatedDate&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;,&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;

            &lt;span class=&#34;s&#34;&gt;&amp;#34;Age=&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Age&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;,&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;

            &lt;span class=&#34;s&#34;&gt;&amp;#34;Money=&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Money&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;,&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;

            &lt;span class=&#34;s&#34;&gt;&amp;#34;Uid=&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Uid&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;,&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;

            &lt;span class=&#34;s&#34;&gt;&amp;#34;}&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
      &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
	&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;err&#34;&gt;ğŸ˜ƒ&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;s2s&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;exit&lt;/span&gt;

&lt;span class=&#34;err&#34;&gt;ğŸ¤–&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;â€&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Bye&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ğŸ‘‹&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;å¯¼å…¥åŒ…&#34;&gt;
    &lt;a href=&#34;#%e5%af%bc%e5%85%a5%e5%8c%85&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å¯¼å…¥åŒ…
&lt;/h2&gt;
&lt;p&gt;æœ¬åº“æ”¯æŒä½ äºŒæ¬¡å¼€å‘ä½¿ç”¨ï¼Œä½ åªéœ€è¦å¯¼å…¥æœ¬åŒ…å³å¯åœ¨ä½ çš„ä»£ç ä¸­è¿›è¡Œæ‰©å……å¼€å‘ï¼Œä½†æ˜¯ç›®å‰ä»…æ”¯æŒ&lt;code&gt;go&lt;/code&gt;è¯­è¨€ï¼&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸‹è½½&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;go get -u github.com/higker/s2s
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;å¯¼å…¥å¹¶ä¸”ä½¿ç”¨&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
    &lt;span class=&#34;s&#34;&gt;&amp;#34;github.com/higker/s2s/core/lang/java&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;s&#34;&gt;&amp;#34;github.com/higker/s2s/core/db&amp;#34;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;


&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;

      &lt;span class=&#34;c1&#34;&gt;// åˆ›å»ºä¸€ä¸ªJavaçš„ä»£ç ç”Ÿæˆå™¨
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;      &lt;span class=&#34;nx&#34;&gt;structure&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;java&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;New&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;

      &lt;span class=&#34;c1&#34;&gt;// æ•°æ®åº“è¿æ¥ä¿¡æ¯
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;      &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;structure&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;OpenDB&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;db&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Info&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;nx&#34;&gt;HostIPAndPort&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;os&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Getenv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;s2s_host&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// æ•°æ®åº“IP
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                &lt;span class=&#34;nx&#34;&gt;UserName&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;      &lt;span class=&#34;nx&#34;&gt;os&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Getenv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;s2s_user&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// æ•°æ®åº“ç”¨æˆ·å
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                &lt;span class=&#34;nx&#34;&gt;Password&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;      &lt;span class=&#34;nx&#34;&gt;os&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Getenv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;s2s_pwd&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// æ•°æ®åº“å¯†ç 
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                &lt;span class=&#34;nx&#34;&gt;Type&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;          &lt;span class=&#34;nx&#34;&gt;db&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;MySQL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;              &lt;span class=&#34;c1&#34;&gt;// æ•°æ®åº“ç±»å‹ PostgreSQL Oracle
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                &lt;span class=&#34;nx&#34;&gt;Charset&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;       &lt;span class=&#34;nx&#34;&gt;os&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Getenv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;s2s_charset&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
      &lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;c1&#34;&gt;// Failed to establish a connection to the database!
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;c1&#34;&gt;// .... logic code
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;      &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

      &lt;span class=&#34;k&#34;&gt;defer&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;structure&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Close&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;

      &lt;span class=&#34;nx&#34;&gt;structure&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;SetSchema&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;é€‰æ‹©æ•°æ®åº“å&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

      &lt;span class=&#34;c1&#34;&gt;// å®ç°äº†io.Writerå³å¯
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;      &lt;span class=&#34;nx&#34;&gt;structure&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Parse&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;os&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Stdout&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;è¡¨å&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;å…¶ä»–&#34;&gt;
    &lt;a href=&#34;#%e5%85%b6%e4%bb%96&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å…¶ä»–
&lt;/h2&gt;
&lt;p&gt;ç›®å‰ä»…æ”¯æŒ&lt;code&gt;mysql&lt;/code&gt;æ•°æ®åº“ï¼Œå¦‚æœæœ‰æƒ³è´¡çŒ®ä»£ç æ&lt;code&gt;issues&lt;/code&gt;ï¼è·Ÿå¤šéœ€æ±‚ï¼š 1. æ”¯æŒ&lt;code&gt;linux&lt;/code&gt;ç®¡é“å‘½ä»¤è¿™æ ·å°±å¯ä»¥å¯ç¼–ç¨‹æ“ä½œäº†ï¼Œå‰é¢ä¸€ä¸ªè¾“å‡ºå°±æ˜¯åé¢ä¸€ä¸ªç¨‹åºçš„è¾“å…¥ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯ä»¥å¸®å¿™ç‚¹ä¸€ä¸ª&lt;code&gt;star&lt;/code&gt;âœ¨è°¢è°¢ï¼ï¼ï¼&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/auula/s2s&#34;&gt;https://github.com/auula/s2s&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

    </description>
    </item>
    
    <item>
    <title>Rust Lifetime</title>
    <link>http://blog.ibyte.me/post/rust-lifetime/</link>
    <pubDate>Thu, 16 Sep 2021 22:47:17 +0800</pubDate>
    
    <guid>http://blog.ibyte.me/post/rust-lifetime/</guid>
    <description>
        &lt;h2 id=&#34;lifetimeå¯¿å‘½&#34;&gt;
    &lt;a href=&#34;#lifetime%e5%af%bf%e5%91%bd&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    lifetimeå¯¿å‘½
&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;Rust&lt;/code&gt;ä¸­çš„æ¯ä¸€ä¸ªå¼•ç”¨éƒ½æœ‰ä¸€ä¸ªæœ‰æ•ˆçš„ä½œç”¨åŸŸï¼Œç”Ÿå‘½å‘¨æœŸå°±æ˜¯ä¸ºè¿™ä¸ªä½œç”¨åŸŸæœåŠ¡çš„ï¼Œå¤§éƒ¨åˆ†ç”Ÿå‘½å‘¨æœŸç¼–è¯‘å™¨å¯ä»¥æ¨æ–­å‡ºæ¥ï¼Œå¯ä»¥æ˜¯éšå¼çš„ã€‚ä½†æ˜¯å¦‚æœåœ¨æŸäº›æƒ…å†µä¸‹ç¼–è¯‘å™¨å°±æ— æ³•æ­£å¸¸æ¨æ–­å‡ºæ¥äº†ï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±æ‰‹åŠ¨æ ‡æ³¨ï¼Œæ ‡æ³¨ç”Ÿå‘½å‘¨æœŸè¯­æ³•å°±æ˜¯&lt;code&gt;&#39;a&lt;/code&gt;è¿™æ ·çš„è¯­æ³•ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸ºä»€ä¹ˆéœ€è¦ç”Ÿå‘½å‘¨æœŸ&#34;&gt;
    &lt;a href=&#34;#%e4%b8%ba%e4%bb%80%e4%b9%88%e9%9c%80%e8%a6%81%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    ä¸ºä»€ä¹ˆéœ€è¦ç”Ÿå‘½å‘¨æœŸï¼Ÿ
&lt;/h2&gt;
&lt;p&gt;ä¾‹å¦‚ä¸‹é¢ä¾‹å­å°±æ˜¯åœ¨ä¸¤ä¸ªå­—ç¬¦ä¸²åˆ‡ç‰‡é‡Œé¢æŸ¥æ‰¾æœ€é•¿çš„é‚£ä¸ªå¹¶ä¸”è¿”å›ï¼&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// &amp;#39;a æ˜¯æŒ‡3ä¸ªå¼•ç”¨çš„ä½œç”¨åŸŸç”Ÿå‘½å‘¨æœŸè¦ä¸€è‡´
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;fn&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;find_long_str&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;: &lt;span class=&#34;kp&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;y&lt;/span&gt;: &lt;span class=&#34;kp&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-&amp;gt; &lt;span class=&#34;kp&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;str&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¸Šé¢æˆ‘å°±åŠ æ³¨äº†ç”Ÿå‘½å‘¨æœŸæ ‡è¯†ç¬¦ï¼Œå¦‚æœä¸åŠ ç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼ŒåŸå› æ˜¯å› ä¸ºæˆ‘ä»¬è¿™ä¸ªå‡½æ•°å¼•ç”¨çš„æ˜¯å¤–éƒ¨çš„å˜é‡ï¼Œä¸èƒ½ç¡®å®šå¼•ç”¨çš„å˜é‡æ˜¯å¦å·²ç»è¢«é”€æ¯äº†ï¼Œé‚£è¿™æ ·å°±æ˜¯æ‚¬å‚å¼•ç”¨ï¼&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;str1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt;::&lt;span class=&#34;n&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Hello&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;str2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;//let str2 = String::from(&amp;#34; World!&amp;#34;);
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;str2&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt;::&lt;span class=&#34;n&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34; World!&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;find_long_str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;str1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;as_str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(),&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;str2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// è¿™é‡Œå€Ÿç”¨æ£€æµ‹å°±æç¤º å¼•ç”¨äº†å·²ç»é”€æ¯çš„èµ„æºäº†
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;fm&#34;&gt;println!&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;{}&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gt68o41m7aj30po0g0q3r.jpg&#34; 
    alt=&#34;å¤§è‡´è¿‡ç¨‹å›¾&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;åŠ äº†ç”Ÿå‘½å‘¨æœŸæ ‡è¯†ç¬¦ä¹‹åï¼Œå¦‚æœæˆ‘æŠŠ&lt;code&gt;let str2 = String::from(&amp;quot; World!&amp;quot;);&lt;/code&gt;å–æ¶ˆæ³¨é‡Šæ”¾åœ¨ä¸€ä¸ªå†…éƒ¨ä½œç”¨åŸŸé‡Œé¢å®šä¹‰ï¼Œé‚£ä¹ˆè¿™æ—¶è°ƒç”¨
&lt;code&gt;find_long_str&lt;/code&gt;ç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™ï¼Œå› ä¸ºæˆ‘åœ¨ä¸‹é¢å‡ºäº†ä½œç”¨åŸŸè¿˜ä½¿ç”¨äº†&lt;code&gt;find_long_str&lt;/code&gt;è¿”å›çš„ç»“æœï¼Œè€Œè¿™ä¸ªç»“æœå¯èƒ½å°±æ˜¯&lt;code&gt;str2&lt;/code&gt;çš„å†…å®¹ï¼Œ
ä½¿ç”¨è¿™ä¸ªæ˜¯è¿åäº†æ‰€æœ‰æƒè§„åˆ™çš„ï¼Œ&lt;code&gt;str2&lt;/code&gt;ç¦»å¼€å†…éƒ¨ä½œç”¨åŸŸå°±è¢«é”€æ¯äº†ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æ ‡æ³¨ç”Ÿå‘½å‘¨æœŸ&lt;code&gt;fn find_long_str&amp;lt;&#39;a&amp;gt;(x: &amp;amp;&#39;a str, y: &amp;amp;&#39;a str) -&amp;gt; &amp;amp;&#39;a str&lt;/code&gt;ä¹‹åç¼–è¯‘å™¨å°±çŸ¥é“è¾“å…¥å‚æ•°å’Œè¿”å›å‚æ•°ç”Ÿå‘½å‘¨æœŸæ˜¯è¦ä¸€è‡´çš„ï¼Œå¹¶ä¸”è¿”å›å€¼ç”Ÿå‘½å‘¨æœŸè‚¯å®šæ˜¯å–ç”Ÿå‘½å‘¨æœŸæœ€çŸ­çš„é‚£ä¸ªçš„ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ€»ç»“&#34;&gt;
    &lt;a href=&#34;#%e6%80%bb%e7%bb%93&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    æ€»ç»“
&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ç”Ÿå‘½å‘¨æœŸæ˜¯ç¡®ä¿è¢«å¼•ç”¨çš„å€¼æ˜¯æœ‰æ•ˆçš„ã€‚&lt;/li&gt;
&lt;li&gt;å¼•ç”¨çš„ç”Ÿå‘½å‘¨æœŸè‚¯å®šæ˜¯å°äºæˆ–è€…ç­‰äºèµ„æºæ‰€æœ‰è€…çš„ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœæ˜¯åœ¨å‡½æ•°é‡Œé¢åˆ›å»ºçš„èµ„æºï¼Œåº”è¯¥æ˜¯ç›´æ¥è¿”å›å…¶æ‰€æœ‰æƒï¼Œè€Œä¸æ˜¯å¼•ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªç”Ÿå‘½å‘¨æœŸæ ‡æ³¨éƒ½æœ‰ä¸åŒçš„ç”Ÿå‘½å‘¨æœŸï¼Œå¦‚æœæœ‰è¾“å…¥çš„ç”Ÿå‘½å‘¨æœŸï¼Œé‚£ä¹ˆè¾“å‡ºçš„ç”Ÿå‘½å‘¨æœŸä¹Ÿæ˜¯ä¸€è‡´çš„ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;self&lt;/code&gt;çš„ç”Ÿå‘½å‘¨æœŸä¼šè¢«èµ‹ç»™è¾“å‡ºçš„ç”Ÿå‘½å‘¨æœŸã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å…¶ä»–&#34;&gt;
    &lt;a href=&#34;#%e5%85%b6%e4%bb%96&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å…¶ä»–
&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;å½“ç„¶ä¸Šé¢æ˜¯æˆ‘åˆšåˆšå…¥å‘æ€»ç»“è¯ï¼Œæœ‰é”™è¯¯åœ°æ–¹æœ›å¤§ä½¬æŒ‡æ•™ï¼&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://play.rust-lang.org/?version=stable&amp;amp;mode=debug&amp;amp;edition=2018&amp;amp;gist=a868aa030fa934b22cd770727f42724d&#34;&gt;https://play.rust-lang.org/?version=stable&amp;amp;mode=debug&amp;amp;edition=2018&amp;amp;gist=a868aa030fa934b22cd770727f42724d&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

    </description>
    </item>
    
    <item>
    <title>Rust Box Pointer</title>
    <link>http://blog.ibyte.me/post/rust-box-pointer/</link>
    <pubDate>Thu, 16 Sep 2021 22:46:21 +0800</pubDate>
    
    <guid>http://blog.ibyte.me/post/rust-box-pointer/</guid>
    <description>
        &lt;h2 id=&#34;ä»€ä¹ˆæ˜¯æ™ºèƒ½æŒ‡é’ˆ&#34;&gt;
    &lt;a href=&#34;#%e4%bb%80%e4%b9%88%e6%98%af%e6%99%ba%e8%83%bd%e6%8c%87%e9%92%88&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    ä»€ä¹ˆæ˜¯æ™ºèƒ½æŒ‡é’ˆï¼Ÿ
&lt;/h2&gt;
&lt;p&gt;åœ¨&lt;code&gt;Rust&lt;/code&gt;ä¸­æ™ºèƒ½æŒ‡é’ˆæœ‰å¾ˆå¤šç§ï¼Œç”¨å¤§ç™½è¯è¯´å°±æ˜¯&lt;code&gt;ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œå®ç°äº†ä¸€äº›ç‰¹æ®Šçš„trait&lt;/code&gt;ä»è€Œè¾¾åˆ°æŸç§ç‰¹æ€§å’ŒåŠŸèƒ½ï¼Œç„¶åå»ç®¡ç†æŸå—å†…å­˜ä¸Šçš„æ•°æ®ï¼Œç›¸å½“äºä¸€ä¸ªç›’å­ä¸€æ ·åŒ…è£…ä¸€å±‚ï¼Œè¿™ç¯‡æ–‡ç« å°†ä»‹ç»ä¸€ä¸‹&lt;code&gt;Box&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gtr0e51tyqj619i0p2gma02.jpg&#34; 
    alt=&#34;Box&#34; 
     /&gt;&lt;/p&gt;
&lt;h2 id=&#34;deref&#34;&gt;
    &lt;a href=&#34;#deref&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    Deref
&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;Deref&lt;/code&gt;è¿™ä¸ª&lt;code&gt;trait&lt;/code&gt;åªè¦å®ç°äº†å®ƒé‚£ä¹ˆä½ è‡ªå®šä¹‰çš„ç»“æ„ä½“ï¼Œå°±å¯ä»¥ä½¿ç”¨&lt;code&gt;*&lt;/code&gt;è§£å¼•ç”¨æ‹¿å–ä½ ç»“æ„ä½“é‡Œé¢æ‰€åŒ…è£…çš„æ•°æ®ï¼Œç†Ÿæ‚‰&lt;code&gt;Rust&lt;/code&gt;éƒ½çŸ¥é“&lt;code&gt;*&lt;/code&gt;æ˜¯ç”¨æ¥è§£å¼•ç”¨çš„ï¼Œä¸‹é¢çš„&lt;code&gt;I32Box(i32)&lt;/code&gt;å°±æ˜¯å®ç°äº†&lt;code&gt;Deref&lt;/code&gt;ä»è€Œè¾¾åˆ°ç›´æ¥ä½¿ç”¨&lt;code&gt;*&lt;/code&gt;æ‹¿å–å‡ºå†…éƒ¨çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span class=&#34;k&#34;&gt;use&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;std&lt;/span&gt;::&lt;span class=&#34;n&#34;&gt;ops&lt;/span&gt;::&lt;span class=&#34;n&#34;&gt;Deref&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;I32Box&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;i32&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// impl Deref
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;impl&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Deref&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;I32Box&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Target&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;i32&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;fn&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;deref&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-&amp;gt; &lt;span class=&#34;kp&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;Self&lt;/span&gt;::&lt;span class=&#34;n&#34;&gt;Target&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;impl&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;I32Box&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;fn&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;new&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v&lt;/span&gt;:&lt;span class=&#34;kt&#34;&gt;i32&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-&amp;gt; &lt;span class=&#34;nc&#34;&gt;Self&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;I32Box&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;fn&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;I32Box&lt;/span&gt;::&lt;span class=&#34;n&#34;&gt;new&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1024_&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;i32&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;fm&#34;&gt;println!&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;{}&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;drop&#34;&gt;
    &lt;a href=&#34;#drop&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    Drop
&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;Rust&lt;/code&gt;é‡Œé¢æœ‰&lt;code&gt;drop&lt;/code&gt;å‡½æ•°ï¼Œä¹Ÿæœ‰ä¸€ä¸ª&lt;code&gt;Drop&lt;/code&gt;çš„&lt;code&gt;trait&lt;/code&gt;åŒæ ·å¦‚æœè‡ªå®šä¹‰çš„ç»“æ„ä½“å®ç°è¿™ä¸ª&lt;code&gt;Drop&lt;/code&gt;ï¼Œé‚£ä¹ˆå°±ä½ å˜é‡ç¦»å¼€ä½œç”¨åŸŸçš„æ—¶å€™æ‰§è¡Œè‡ªå®šä¹‰&lt;code&gt;Drop&lt;/code&gt;çš„æ–¹æ³•çš„é€»è¾‘ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span class=&#34;k&#34;&gt;impl&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;Drop&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;I32Box&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;fn&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;drop&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;mut&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;fm&#34;&gt;println!&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;å•Šï¼ŒæŒ‚äº†ï¼ŒI32Box({:?})è¢«æ¸…ç†äº†ï¼&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¾‹å¦‚ä¸º&lt;code&gt;I32Box&lt;/code&gt;å®ç°&lt;code&gt;Drop&lt;/code&gt;çš„&lt;code&gt;drop&lt;/code&gt;å‡½æ•°ï¼Œè¿è¡Œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;   Compiling playground v0.0.1 &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;/playground&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
    Finished dev &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;unoptimized + debuginfo&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; target&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;s&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; in 1.33s
     Running &lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;target/debug/playground&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;


&lt;span class=&#34;m&#34;&gt;1024&lt;/span&gt;
å•Šï¼ŒæŒ‚äº†ï¼ŒI32Box&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;1024&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;è¢«æ¸…ç†äº†ï¼
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å½“&lt;code&gt;I32Box&lt;/code&gt;ç¦»å¼€è‡ªå·±çš„ä½œç”¨åŸŸé‚£ä¹ˆå®ƒä¼šè‡ªåŠ¨æ‰§è¡Œ&lt;code&gt;drop&lt;/code&gt;æ–¹æ³•ã€‚&lt;/p&gt;
&lt;h2 id=&#34;box&#34;&gt;
    &lt;a href=&#34;#box&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    Box
&lt;/h2&gt;
&lt;p&gt;æœ‰äº†è¿™äº›ç‰¹æ®Šçš„&lt;code&gt;trait&lt;/code&gt;åŸºç¡€ä¹‹åï¼Œæ™ºèƒ½æŒ‡é’ˆå°±è‡ªèº«æœ‰äº†è¿™ç§è¡Œä¸ºäº†ï¼Œå°±èƒ½ç®¡ç†å†…éƒ¨çš„æ•°æ®äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Box&lt;/code&gt;æ™ºèƒ½æŒ‡é’ˆå®ƒç®¡ç†çš„æ•°æ®ï¼Œå†…å­˜æ˜¯åˆ†é…åœ¨&lt;code&gt;heap&lt;/code&gt;ä¸Šçš„ï¼Œå¯ä»¥åœ¨å †ä¸Šå­˜å‚¨æˆ‘ä»¬è‡ªå®šä¹‰çš„çš„æ•°æ®ï¼Œè€ŒæŠŠæŒ‡é’ˆæ”¾åœ¨æ ˆä¸Šã€‚æœ‰è¿™äº›ç‰¹æ€§ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨&lt;code&gt;Box&lt;/code&gt;å®ç°ä¸€ä¸ªç±»ä¼¼åŠ¨æ€æ•°ç»„çš„æ•°æ®ç»“æ„ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;46
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#[derive(Debug)]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;DynamicArr&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cap&lt;/span&gt;:&lt;span class=&#34;kt&#34;&gt;i32&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;len&lt;/span&gt;:&lt;span class=&#34;kt&#34;&gt;i32&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;:&lt;span class=&#34;nb&#34;&gt;Box&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;i32&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;impl&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;DynamicArr&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;fn&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;new&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-&amp;gt; &lt;span class=&#34;nc&#34;&gt;DynamicArr&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;DynamicArr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cap&lt;/span&gt;:&lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;len&lt;/span&gt;:&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;: &lt;span class=&#34;nb&#34;&gt;Box&lt;/span&gt;::&lt;span class=&#34;n&#34;&gt;new&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]),&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;fn&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;push&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;mut&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v&lt;/span&gt;:&lt;span class=&#34;kt&#34;&gt;i32&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// expansion
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cap&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// add 10 capacity
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;mut&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;new_arr&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;Box&lt;/span&gt;::&lt;span class=&#34;n&#34;&gt;new&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;mut&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;index&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;in&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;                &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;new_arr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;index&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;                &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;index&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;new_arr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cap&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;index&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;as&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;i32&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;as&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;usize&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;fn&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;mut&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;arr&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;DynamicArr&lt;/span&gt;::&lt;span class=&#34;n&#34;&gt;new&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;in&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;..&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;arr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;push&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;fm&#34;&gt;println!&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;{:#?}&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;arr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¾‹å¦‚ä¸Šé¢é€šè¿‡&lt;code&gt;Box&lt;/code&gt;æ™ºèƒ½æŒ‡é’ˆå®ç°ä¸€ä¸ªè‡ªå®šä¹‰&lt;code&gt;DynamicArr&lt;/code&gt;ç»“æ„ï¼Œå®ƒåœ¨æˆ‘ä»¬æ·»åŠ æ•°ç»„çš„æ—¶å€™ä¼šæ£€æŸ¥å®¹é‡ï¼Œå½“è¾¾åˆ°é˜ˆå€¼å°±ä¼šå‘ç”Ÿ&lt;code&gt;expansion&lt;/code&gt;ï¼Œä¸Šé¢åªæ˜¯ä¸ªå°&lt;code&gt;demo&lt;/code&gt;ï¼Œè¿˜æœ‰&lt;code&gt;bug&lt;/code&gt;ï¼Œåªæ˜¯ä¸ºäº†æ¼”ç¤º&lt;code&gt;Box&lt;/code&gt;æ™ºèƒ½æŒ‡é’ˆçš„ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å…¶ä»–&#34;&gt;
    &lt;a href=&#34;#%e5%85%b6%e4%bb%96&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å…¶ä»–
&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://play.rust-lang.org/?version=stable&amp;amp;mode=debug&amp;amp;edition=2018&amp;amp;gist=47cacd3f18ff2cb8361a40555dfc7d73&#34;&gt;I32Box&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://play.rust-lang.org/?version=stable&amp;amp;mode=debug&amp;amp;edition=2018&amp;amp;gist=fdfeea95c1ecae0b8286471e320fd331&#34;&gt;DynamicArr&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

    </description>
    </item>
    
    <item>
    <title>Traffic Restrictions</title>
    <link>http://blog.ibyte.me/post/traffic-restrictions/</link>
    <pubDate>Thu, 16 Sep 2021 22:45:00 +0800</pubDate>
    
    <guid>http://blog.ibyte.me/post/traffic-restrictions/</guid>
    <description>
        &lt;h2 id=&#34;å‰-è¨€&#34;&gt;
    &lt;a href=&#34;#%e5%89%8d-%e8%a8%80&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å‰ è¨€
&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨å¼€å‘é«˜å¹¶å‘ç³»ç»Ÿæ—¶ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šé‡åˆ°æ¥å£è®¿é—®é¢‘æ¬¡è¿‡é«˜ï¼Œä¸ºäº†ä¿è¯ç³»ç»Ÿçš„é«˜å¯ç”¨å’Œç¨³å®šæ€§ï¼Œè¿™æ—¶å€™å°±éœ€è¦åšæµé‡é™åˆ¶ï¼Œä½ å¯èƒ½æ˜¯ç”¨çš„ &lt;code&gt;Nginx&lt;/code&gt; è¿™ç§ &lt;code&gt;Web Server&lt;/code&gt; æ¥æ§åˆ¶è¯·æ±‚ï¼Œä¹Ÿå¯èƒ½æ˜¯ç”¨äº†ä¸€äº›æµè¡Œçš„ç±»åº“å®ç°ã€‚é™æµæ˜¯é«˜å¹¶å‘ç³»ç»Ÿçš„ä¸€å¤§æ€å™¨ï¼Œåœ¨è®¾è®¡é™æµç®—æ³•ä¹‹å‰æˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹å®ƒä»¬æ˜¯ä»€ä¹ˆã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;é™-æµ&#34;&gt;
    &lt;a href=&#34;#%e9%99%90-%e6%b5%81&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    é™ æµ
&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;é™æµ&lt;/code&gt;çš„ç›®çš„æ˜¯é€šè¿‡å¯¹å¹¶å‘è®¿é—®è¯·æ±‚è¿›è¡Œé™é€Ÿï¼Œæˆ–è€…å¯¹ä¸€ä¸ªæ—¶é—´çª—å£å†…çš„è¯·æ±‚è¿›è¡Œé™é€Ÿæ¥ä¿æŠ¤ç³»ç»Ÿï¼Œä¸€æ—¦è¾¾åˆ°é™åˆ¶é€Ÿç‡åˆ™å¯ä»¥æ‹’ç»æœåŠ¡ã€æ’é˜Ÿæˆ–ç­‰å¾…ã€é™çº§ç­‰å¤„ç†ã€‚é€šè¿‡å¯¹å¹¶å‘ï¼ˆæˆ–è€…ä¸€å®šæ—¶é—´çª—å£å†…ï¼‰è¯·æ±‚è¿›è¡Œé™é€Ÿæ¥ä¿æŠ¤ç³»ç»Ÿï¼Œä¸€æ—¦è¾¾åˆ°é™åˆ¶é€Ÿç‡åˆ™æ‹’ç»æœåŠ¡ï¼ˆå®šå‘åˆ°é”™è¯¯é¡µæˆ–å‘ŠçŸ¥èµ„æºæ²¡æœ‰äº†ï¼‰ã€æ’é˜Ÿç­‰å¾…ï¼ˆæ¯”å¦‚ç§’æ€ã€è¯„è®ºã€ä¸‹å•ï¼‰ã€é™çº§ï¼ˆè¿”å›å…œåº•æ•°æ®æˆ–é»˜è®¤æ•°æ®ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ å›¾:&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008eGmZEgy1gn8bgfh0pzj30pt0ii4bx.jpg&#34; 
    alt=&#34;è‡ªå·±é­”æ”¹å‡ºæ¥çš„æ¼«ç”»&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;å¦‚å›¾ä¸Šçš„æ¼«ç”»ï¼Œåœ¨æŸä¸ªæ—¶é—´æ®µæµé‡ä¸Šæ¥äº†ï¼ŒæœåŠ¡çš„æ¥å£è®¿é—®é¢‘ç‡å¯èƒ½ä¼šéå¸¸å¿«ï¼Œå¦‚æœæˆ‘ä»¬æ²¡æœ‰å¯¹æ¥å£è®¿é—®é¢‘æ¬¡åšé™åˆ¶å¯èƒ½ä¼šå¯¼è‡´æœåŠ¡å™¨æ— æ³•æ‰¿å—è¿‡é«˜çš„å‹åŠ›æŒ‚æ‰ï¼Œè¿™æ—¶å€™ä¹Ÿå¯èƒ½ä¼šäº§ç”Ÿæ•°æ®ä¸¢å¤±ï¼Œæ‰€ä»¥å°±è¦å¯¹å…¶è¿›è¡Œé™æµå¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;é™æµç®—æ³•å°±å¯ä»¥å¸®åŠ©æˆ‘ä»¬å»æ§åˆ¶æ¯ä¸ªæ¥å£æˆ–ç¨‹åºçš„å‡½æ•°è¢«è°ƒç”¨é¢‘ç‡ï¼Œå®ƒæœ‰ç‚¹å„¿åƒä¿é™©ä¸ï¼Œé˜²æ­¢ç³»ç»Ÿå› ä¸ºè¶…è¿‡è®¿é—®é¢‘ç‡æˆ–å¹¶å‘é‡è€Œå¼•èµ·ç˜«ç—ªã€‚æˆ‘ä»¬å¯èƒ½åœ¨è°ƒç”¨æŸäº›ç¬¬ä¸‰æ–¹çš„æ¥å£çš„æ—¶å€™ä¼šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„å“åº”å¤´ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;nt&#34;&gt;X-RateLimit-Limit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;60&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;         &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;//æ¯ç§’60æ¬¡è¯·æ±‚&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;X-RateLimit-Remaining&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;22&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;//å½“å‰è¿˜å‰©ä¸‹å¤šå°‘æ¬¡&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;X-RateLimit-Reset&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1612184024&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;//é™åˆ¶é‡ç½®æ—¶é—´&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¸Šé¢çš„ &lt;code&gt;HTTP Response&lt;/code&gt; æ˜¯é€šè¿‡å“åº”å¤´å‘Šè¯‰è°ƒç”¨æ–¹æœåŠ¡ç«¯çš„é™æµé¢‘æ¬¡æ˜¯æ€æ ·çš„ï¼Œä¿è¯åç«¯çš„æ¥å£è®¿é—®ä¸Šé™ã€‚ä¸ºäº†è§£å†³é™æµé—®é¢˜å‡ºç°äº†å¾ˆå¤šçš„ç®—æ³•ï¼Œå®ƒä»¬éƒ½æœ‰ä¸åŒçš„ç”¨é€”ï¼Œé€šå¸¸çš„ç­–ç•¥å°±æ˜¯æ‹’ç»è¶…å‡ºçš„è¯·æ±‚ï¼Œæˆ–è€…è®©è¶…å‡ºçš„è¯·æ±‚æ’é˜Ÿç­‰å¾…ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸€èˆ¬æ¥è¯´ï¼Œé™æµçš„å¸¸ç”¨å¤„ç†æ‰‹æ®µæœ‰ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è®¡æ•°å™¨&lt;/li&gt;
&lt;li&gt;æ»‘åŠ¨çª—å£&lt;/li&gt;
&lt;li&gt;æ¼æ¡¶&lt;/li&gt;
&lt;li&gt;ä»¤ç‰Œæ¡¶&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;è®¡æ•°å™¨&#34;&gt;
    &lt;a href=&#34;#%e8%ae%a1%e6%95%b0%e5%99%a8&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    è®¡æ•°å™¨
&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;è®¡æ•°å™¨æ˜¯ä¸€ç§æœ€ç®€å•é™æµç®—æ³•ï¼Œå…¶åŸç†å°±æ˜¯ï¼š&lt;code&gt;åœ¨ä¸€æ®µæ—¶é—´é—´éš”å†…ï¼Œå¯¹è¯·æ±‚è¿›è¡Œè®¡æ•°ï¼Œä¸é˜€å€¼è¿›è¡Œæ¯”è¾ƒåˆ¤æ–­æ˜¯å¦éœ€è¦é™æµï¼Œä¸€æ—¦åˆ°äº†æ—¶é—´ä¸´ç•Œç‚¹ï¼Œå°†è®¡æ•°å™¨æ¸…é›¶ã€‚&lt;/code&gt;
è¿™ä¸ªå°±åƒä½ å»åè½¦ä¸€æ ·ï¼Œè½¦å¢è§„å®šäº†å¤šå°‘ä¸ªä½ç½®ï¼Œæ»¡äº†å°±ä¸è®©ä¸Šè½¦äº†ï¼Œä¸ç„¶å°±æ˜¯è¶…è½½äº†ï¼Œè¢«äº¤è­¦å”å”æŠ“åˆ°äº†å°±è¦ç½šæ¬¾çš„ï¼Œå¦‚æœæˆ‘ä»¬çš„ç³»ç»Ÿé‚£å°±ä¸æ˜¯ç½šæ¬¾çš„äº‹æƒ…äº†ï¼Œå¯èƒ½ç›´æ¥å´©æ‰äº†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;å¯ä»¥åœ¨ç¨‹åºä¸­è®¾ç½®ä¸€ä¸ªå˜é‡ &lt;code&gt;count&lt;/code&gt;ï¼Œå½“è¿‡æ¥ä¸€ä¸ªè¯·æ±‚æˆ‘å°±å°†è¿™ä¸ªæ•°&lt;code&gt; +1&lt;/code&gt;ï¼ŒåŒæ—¶è®°å½•è¯·æ±‚æ—¶é—´ã€‚&lt;/li&gt;
&lt;li&gt;å½“ä¸‹ä¸€ä¸ªè¯·æ±‚æ¥çš„æ—¶å€™åˆ¤æ–­ &lt;code&gt;count&lt;/code&gt; çš„è®¡æ•°å€¼æ˜¯å¦è¶…è¿‡è®¾å®šçš„é¢‘æ¬¡ï¼Œä»¥åŠå½“å‰è¯·æ±‚çš„æ—¶é—´å’Œç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶é—´æ˜¯å¦åœ¨ &lt;code&gt;1&lt;/code&gt; åˆ†é’Ÿå†…ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœåœ¨ &lt;code&gt;1&lt;/code&gt; åˆ†é’Ÿå†…å¹¶ä¸”è¶…è¿‡è®¾å®šçš„é¢‘æ¬¡åˆ™è¯æ˜è¯·æ±‚è¿‡å¤šï¼Œåé¢çš„è¯·æ±‚å°±æ‹’ç»æ‰ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœè¯¥è¯·æ±‚ä¸ç¬¬ä¸€ä¸ªè¯·æ±‚çš„é—´éš”æ—¶é—´å¤§äºè®¡æ•°å‘¨æœŸï¼Œä¸” &lt;code&gt;count&lt;/code&gt; å€¼è¿˜åœ¨é™æµèŒƒå›´å†…ï¼Œå°±é‡ç½® &lt;code&gt;count&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä»£ç å®ç°:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;51
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;52
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;53
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;54
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;55
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;56
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;57
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;58
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;59
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;60
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;61
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;62
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;63
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;64
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;65
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;66
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
    &lt;span class=&#34;s&#34;&gt;&amp;#34;log&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;s&#34;&gt;&amp;#34;sync&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;s&#34;&gt;&amp;#34;time&amp;#34;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Counter&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;rate&lt;/span&gt;  &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;           &lt;span class=&#34;c1&#34;&gt;//è®¡æ•°å‘¨æœŸå†…æœ€å¤šå…è®¸çš„è¯·æ±‚æ•°
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;begin&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Time&lt;/span&gt;     &lt;span class=&#34;c1&#34;&gt;//è®¡æ•°å¼€å§‹æ—¶é—´
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;cycle&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Duration&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;//è®¡æ•°å‘¨æœŸ
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;count&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;           &lt;span class=&#34;c1&#34;&gt;//è®¡æ•°å‘¨æœŸå†…ç´¯è®¡æ”¶åˆ°çš„è¯·æ±‚æ•°
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;lock&lt;/span&gt;  &lt;span class=&#34;nx&#34;&gt;sync&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Mutex&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Counter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Allow&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;bool&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;defer&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Unlock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;count&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;rate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;now&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Now&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;now&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Sub&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;begin&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;cycle&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;c1&#34;&gt;//é€Ÿåº¦å…è®¸èŒƒå›´å†…ï¼Œ é‡ç½®è®¡æ•°å™¨
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Reset&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;now&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;//æ²¡æœ‰è¾¾åˆ°é€Ÿç‡é™åˆ¶ï¼Œè®¡æ•°åŠ 1
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Counter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Set&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;r&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;cycle&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Duration&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;rate&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;r&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;begin&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Now&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;cycle&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;cycle&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;count&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Counter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Reset&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;t&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;begin&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;t&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;count&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;wg&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;sync&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;WaitGroup&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;lr&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Counter&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;lr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Set&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Second&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// 1så†…æœ€å¤šè¯·æ±‚3æ¬¡
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;wg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Add&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Println&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;åˆ›å»ºè¯·æ±‚:&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;go&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
          &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;lr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Allow&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
              &lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Println&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;å“åº”è¯·æ±‚:&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
          &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
          &lt;span class=&#34;nx&#34;&gt;wg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Done&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

        &lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Sleep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;200&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Millisecond&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;wg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Wait&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;OutPut:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;2021/02/01 21:16:12 åˆ›å»ºè¯·æ±‚: &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
2021/02/01 21:16:12 å“åº”è¯·æ±‚: &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
2021/02/01 21:16:12 åˆ›å»ºè¯·æ±‚: &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
2021/02/01 21:16:12 å“åº”è¯·æ±‚: &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
2021/02/01 21:16:12 åˆ›å»ºè¯·æ±‚: &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;
2021/02/01 21:16:13 åˆ›å»ºè¯·æ±‚: &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;
2021/02/01 21:16:13 åˆ›å»ºè¯·æ±‚: &lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;
2021/02/01 21:16:13 åˆ›å»ºè¯·æ±‚: &lt;span class=&#34;m&#34;&gt;5&lt;/span&gt;
2021/02/01 21:16:13 å“åº”è¯·æ±‚: &lt;span class=&#34;m&#34;&gt;5&lt;/span&gt;
2021/02/01 21:16:13 åˆ›å»ºè¯·æ±‚: &lt;span class=&#34;m&#34;&gt;6&lt;/span&gt;
2021/02/01 21:16:13 å“åº”è¯·æ±‚: &lt;span class=&#34;m&#34;&gt;6&lt;/span&gt;
2021/02/01 21:16:13 åˆ›å»ºè¯·æ±‚: &lt;span class=&#34;m&#34;&gt;7&lt;/span&gt;
2021/02/01 21:16:13 å“åº”è¯·æ±‚: &lt;span class=&#34;m&#34;&gt;7&lt;/span&gt;
2021/02/01 21:16:14 åˆ›å»ºè¯·æ±‚: &lt;span class=&#34;m&#34;&gt;8&lt;/span&gt;
2021/02/01 21:16:14 åˆ›å»ºè¯·æ±‚: &lt;span class=&#34;m&#34;&gt;9&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å¯ä»¥çœ‹åˆ°æˆ‘ä»¬è®¾ç½®çš„æ˜¯æ¯&lt;code&gt;200ms&lt;/code&gt;åˆ›å»ºä¸€ä¸ªè¯·æ±‚ï¼Œæ˜æ˜¾é«˜äº&lt;code&gt;1&lt;/code&gt;ç§’æœ€å¤š&lt;code&gt;3&lt;/code&gt;ä¸ªè¯·æ±‚çš„é™åˆ¶ï¼Œè¿è¡Œèµ·æ¥ä¹‹åå‘ç°ç¼–å·ä¸º &lt;code&gt;2ã€3ã€4ã€8ã€9&lt;/code&gt; çš„è¯·æ±‚è¢«ä¸¢å¼ƒï¼Œè¯´æ˜é™æµæˆåŠŸã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå¦‚æœæœ‰ä¸ªéœ€æ±‚å¯¹äºæŸä¸ªæ¥å£ &lt;code&gt;/query&lt;/code&gt; æ¯åˆ†é’Ÿæœ€å¤šå…è®¸è®¿é—® 200 æ¬¡ï¼Œå‡è®¾æœ‰ä¸ªç”¨æˆ·åœ¨ç¬¬ 59 ç§’çš„æœ€åå‡ æ¯«ç§’ç¬é—´å‘é€ 200 ä¸ªè¯·æ±‚ï¼Œå½“ 59 ç§’ç»“æŸå &lt;code&gt;Counter&lt;/code&gt; æ¸…é›¶äº†ï¼Œä»–åœ¨ä¸‹ä¸€ç§’çš„æ—¶å€™åˆå‘é€ 200 ä¸ªè¯·æ±‚ã€‚é‚£ä¹ˆåœ¨ 1 ç§’é’Ÿå†…è¿™ä¸ªç”¨æˆ·å‘é€äº† 2 å€çš„è¯·æ±‚ï¼Œè¿™ä¸ªæ˜¯ç¬¦åˆæˆ‘ä»¬çš„è®¾è®¡é€»è¾‘çš„ï¼Œè¿™ä¹Ÿæ˜¯è®¡æ•°å™¨æ–¹æ³•çš„è®¾è®¡ç¼ºé™·ï¼Œç³»ç»Ÿå¯èƒ½ä¼šæ‰¿å—æ¶æ„ç”¨æˆ·çš„å¤§é‡è¯·æ±‚ï¼Œç”šè‡³å‡»ç©¿ç³»ç»Ÿã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¦‚ä¸‹å›¾:&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008eGmZEgy1gmr45dwvpoj30om0eo75c.jpg&#34; 
    alt=&#34;è®¡æ•°å›¾è§£&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;è¿™ç§æ–¹æ³•è™½ç„¶ç®€å•ï¼Œä½†ä¹Ÿæœ‰ä¸ªå¤§é—®é¢˜å°±æ˜¯æ²¡æœ‰å¾ˆå¥½çš„å¤„ç†å•ä½æ—¶é—´çš„è¾¹ç•Œã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ»‘åŠ¨çª—å£&#34;&gt;
    &lt;a href=&#34;#%e6%bb%91%e5%8a%a8%e7%aa%97%e5%8f%a3&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    æ»‘åŠ¨çª—å£
&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;æ»‘åŠ¨çª—å£&lt;/code&gt;æ˜¯é’ˆå¯¹è®¡æ•°å™¨å­˜åœ¨çš„ä¸´ç•Œç‚¹ç¼ºé™·ï¼Œæ‰€è°“ &lt;code&gt;æ»‘åŠ¨çª—å£ï¼ˆSliding windowï¼‰&lt;/code&gt; æ˜¯ä¸€ç§æµé‡æ§åˆ¶æŠ€æœ¯ï¼Œè¿™ä¸ªè¯å‡ºç°åœ¨ &lt;code&gt;TCP&lt;/code&gt; åè®®ä¸­ã€‚&lt;code&gt;æ»‘åŠ¨çª—å£&lt;/code&gt;æŠŠå›ºå®šæ—¶é—´ç‰‡è¿›è¡Œåˆ’åˆ†ï¼Œå¹¶ä¸”éšç€æ—¶é—´çš„æµé€ï¼Œè¿›è¡Œç§»åŠ¨ï¼Œå›ºå®šæ•°é‡çš„å¯ä»¥ç§»åŠ¨çš„æ ¼å­ï¼Œè¿›è¡Œè®¡æ•°å¹¶åˆ¤æ–­é˜€å€¼ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008eGmZEgy1gmr46n366gj30y80eota1.jpg&#34; 
    alt=&#34;å›¾è§£1&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šå›¾ä¸­æˆ‘ä»¬ç”¨çº¢è‰²çš„è™šçº¿ä»£è¡¨ä¸€ä¸ªæ—¶é—´çª—å£ï¼ˆ&lt;code&gt;ä¸€åˆ†é’Ÿ&lt;/code&gt;ï¼‰ï¼Œæ¯ä¸ªæ—¶é—´çª—å£æœ‰ &lt;code&gt;6&lt;/code&gt; ä¸ªæ ¼å­ï¼Œæ¯ä¸ªæ ¼å­æ˜¯ &lt;code&gt;10&lt;/code&gt; ç§’é’Ÿã€‚æ¯è¿‡ &lt;code&gt;10&lt;/code&gt; ç§’é’Ÿæ—¶é—´çª—å£å‘å³ç§»åŠ¨ä¸€æ ¼ï¼Œå¯ä»¥çœ‹çº¢è‰²ç®­å¤´çš„æ–¹å‘ã€‚æˆ‘ä»¬ä¸ºæ¯ä¸ªæ ¼å­éƒ½è®¾ç½®ä¸€ä¸ªç‹¬ç«‹çš„è®¡æ•°å™¨ &lt;code&gt;Counter&lt;/code&gt;ï¼Œå‡å¦‚ä¸€ä¸ªè¯·æ±‚åœ¨ &lt;code&gt;0:45&lt;/code&gt; è®¿é—®äº†é‚£ä¹ˆæˆ‘ä»¬å°†ç¬¬äº”ä¸ªæ ¼å­çš„è®¡æ•°å™¨ &lt;code&gt;+1&lt;/code&gt;ï¼ˆä¹Ÿæ˜¯å°±æ˜¯ &lt;code&gt;0:40~0:50&lt;/code&gt;ï¼‰ï¼Œåœ¨åˆ¤æ–­é™æµçš„æ—¶å€™éœ€è¦æŠŠæ‰€æœ‰æ ¼å­çš„è®¡æ•°åŠ èµ·æ¥å’Œè®¾å®šçš„é¢‘æ¬¡è¿›è¡Œæ¯”è¾ƒå³å¯ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆæ»‘åŠ¨çª—å£å¦‚ä½•è§£å†³æˆ‘ä»¬ä¸Šé¢é‡åˆ°çš„é—®é¢˜å‘¢ï¼Ÿæ¥çœ‹ä¸‹é¢çš„å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008eGmZEgy1gmr47hbj6dj31cq0kwgpd.jpg&#34; 
    alt=&#34;å›¾è§£2&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;å½“ç”¨æˆ·åœ¨&lt;code&gt;0:59&lt;/code&gt; ç§’é’Ÿå‘é€äº† &lt;code&gt;200 &lt;/code&gt;ä¸ªè¯·æ±‚å°±ä¼šè¢«ç¬¬å…­ä¸ªæ ¼å­çš„è®¡æ•°å™¨è®°å½• &lt;code&gt;+200&lt;/code&gt;ï¼Œå½“ä¸‹ä¸€ç§’çš„æ—¶å€™æ—¶é—´çª—å£å‘å³ç§»åŠ¨äº†ä¸€ä¸ªï¼Œæ­¤æ—¶è®¡æ•°å™¨å·²ç»è®°å½•äº†è¯¥ç”¨æˆ·å‘é€çš„ &lt;code&gt;200&lt;/code&gt; ä¸ªè¯·æ±‚ï¼Œæ‰€ä»¥å†å‘é€çš„è¯å°±ä¼šè§¦å‘é™æµï¼Œåˆ™æ‹’ç»æ–°çš„è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®è®¡æ•°å™¨å°±æ˜¯æ»‘åŠ¨çª—å£å•Šï¼Œåªä¸è¿‡åªæœ‰ä¸€ä¸ªæ ¼å­è€Œå·²ï¼Œæ‰€ä»¥æƒ³è®©é™æµåšçš„æ›´ç²¾ç¡®åªéœ€è¦åˆ’åˆ†æ›´å¤šçš„æ ¼å­å°±å¯ä»¥äº†ï¼Œä¸ºäº†æ›´ç²¾ç¡®æˆ‘ä»¬ä¹Ÿä¸çŸ¥é“åˆ°åº•è¯¥è®¾ç½®å¤šå°‘ä¸ªæ ¼å­ï¼Œ&lt;code&gt;æ ¼å­çš„æ•°é‡å½±å“ç€æ»‘åŠ¨çª—å£ç®—æ³•çš„ç²¾åº¦ï¼Œä¾ç„¶æœ‰æ—¶é—´ç‰‡çš„æ¦‚å¿µï¼Œæ— æ³•æ ¹æœ¬è§£å†³ä¸´ç•Œç‚¹é—®é¢˜&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç›¸å…³ç®—æ³•å®ç° &lt;a href=&#34;github.com/RussellLuo/slidingwindow&#34;&gt;github.com/RussellLuo/slidingwindow&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;æ¼-æ¡¶&#34;&gt;
    &lt;a href=&#34;#%e6%bc%8f-%e6%a1%b6&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    æ¼ æ¡¶
&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;æ¼æ¡¶ç®—æ³•ï¼ˆLeaky Bucketï¼‰&lt;/code&gt;ï¼ŒåŸç†å°±æ˜¯ä¸€ä¸ªå›ºå®šå®¹é‡çš„æ¼æ¡¶ï¼ŒæŒ‰ç…§å›ºå®šé€Ÿç‡æµå‡ºæ°´æ»´ã€‚ç”¨è¿‡æ°´é¾™å¤´éƒ½çŸ¥é“ï¼Œæ‰“å¼€é¾™å¤´å¼€å…³æ°´å°±ä¼šæµä¸‹æ»´åˆ°æ°´æ¡¶é‡Œï¼Œè€Œæ¼æ¡¶æŒ‡çš„æ˜¯æ°´æ¡¶ä¸‹é¢æœ‰ä¸ªæ¼æ´å¯ä»¥å‡ºæ°´ã€‚å¦‚æœæ°´é¾™å¤´å¼€çš„ç‰¹åˆ«å¤§é‚£ä¹ˆæ°´æµé€Ÿå°±ä¼šè¿‡å¤§ï¼Œè¿™æ ·å°±å¯èƒ½å¯¼è‡´æ°´æ¡¶çš„æ°´æ»¡äº†ç„¶åæº¢å‡ºã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008eGmZEgy1gmr4ascdhrj30cb08bq37.jpg&#34; 
    alt=&#34;æ¼ æ¡¶&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªå›ºå®šå®¹é‡çš„æ¡¶ï¼Œæœ‰æ°´æµè¿›æ¥ï¼Œä¹Ÿæœ‰æ°´æµå‡ºå»ã€‚å¯¹äºæµè¿›æ¥çš„æ°´æ¥è¯´ï¼Œæˆ‘ä»¬æ— æ³•é¢„è®¡ä¸€å…±æœ‰å¤šå°‘æ°´ä¼šæµè¿›æ¥ï¼Œä¹Ÿæ— æ³•é¢„è®¡æ°´æµçš„é€Ÿåº¦ã€‚ä½†æ˜¯å¯¹äºæµå‡ºå»çš„æ°´æ¥è¯´ï¼Œè¿™ä¸ªæ¡¶å¯ä»¥å›ºå®šæ°´æµå‡ºçš„é€Ÿç‡ï¼ˆ&lt;code&gt;å¤„ç†é€Ÿåº¦&lt;/code&gt;ï¼‰ï¼Œä»è€Œè¾¾åˆ° &lt;code&gt;æµé‡æ•´å½¢&lt;/code&gt; å’Œ &lt;code&gt;æµé‡æ§åˆ¶&lt;/code&gt; çš„æ•ˆæœã€‚&lt;/p&gt;
&lt;p&gt;ä»£ç å®ç°:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;LeakyBucket&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;rate&lt;/span&gt;       &lt;span class=&#34;kt&#34;&gt;float64&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;//å›ºå®šæ¯ç§’å‡ºæ°´é€Ÿç‡
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;capacity&lt;/span&gt;   &lt;span class=&#34;kt&#34;&gt;float64&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;//æ¡¶çš„å®¹é‡
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;water&lt;/span&gt;      &lt;span class=&#34;kt&#34;&gt;float64&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;//æ¡¶ä¸­å½“å‰æ°´é‡
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;lastLeakMs&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int64&lt;/span&gt;   &lt;span class=&#34;c1&#34;&gt;//æ¡¶ä¸Šæ¬¡æ¼æ°´æ—¶é—´æˆ³ ms
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;lock&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;sync&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Mutex&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;LeakyBucket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Allow&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;bool&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;defer&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Unlock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;

    &lt;span class=&#34;nx&#34;&gt;now&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Now&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;UnixNano&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;1e6&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;eclipse&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;float64&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;now&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;lastLeakMs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;rate&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1000&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;//å…ˆæ‰§è¡Œæ¼æ°´
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;water&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;water&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;eclipse&lt;/span&gt;                              &lt;span class=&#34;c1&#34;&gt;//è®¡ç®—å‰©ä½™æ°´é‡
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;water&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;math&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Max&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;water&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;                           &lt;span class=&#34;c1&#34;&gt;//æ¡¶å¹²äº†
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;lastLeakMs&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;now&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;water&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;capacity&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// å°è¯•åŠ æ°´,å¹¶ä¸”æ°´è¿˜æœªæ»¡
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;water&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// æ°´æ»¡ï¼Œæ‹’ç»åŠ æ°´
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;LeakyBucket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Set&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;float64&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;rate&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;r&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;capacity&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;water&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;lastLeakMs&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Now&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;UnixNano&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;1e6&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ¼æ¡¶ç®—æ³•æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼æ¡¶å…·æœ‰å›ºå®šå®¹é‡ï¼Œå‡ºæ°´é€Ÿç‡æ˜¯å›ºå®šå¸¸é‡ï¼ˆæµå‡ºè¯·æ±‚ï¼‰&lt;/li&gt;
&lt;li&gt;å¦‚æœæ¡¶æ˜¯ç©ºçš„ï¼Œåˆ™ä¸éœ€æµå‡ºæ°´æ»´&lt;/li&gt;
&lt;li&gt;å¯ä»¥ä»¥ä»»æ„é€Ÿç‡æµå…¥æ°´æ»´åˆ°æ¼æ¡¶ï¼ˆæµå…¥è¯·æ±‚ï¼‰&lt;/li&gt;
&lt;li&gt;å¦‚æœæµå…¥æ°´æ»´è¶…å‡ºäº†æ¡¶çš„å®¹é‡ï¼Œåˆ™æµå…¥çš„æ°´æ»´æº¢å‡ºï¼ˆæ–°è¯·æ±‚è¢«æ‹’ç»ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ¼æ¡¶é™åˆ¶çš„æ˜¯å¸¸é‡æµå‡ºé€Ÿç‡ï¼ˆå³æµå‡ºé€Ÿç‡æ˜¯ä¸€ä¸ªå›ºå®šå¸¸é‡å€¼ï¼‰ï¼Œæ‰€ä»¥æœ€å¤§çš„é€Ÿç‡å°±æ˜¯å‡ºæ°´çš„é€Ÿç‡ï¼Œä¸èƒ½å‡ºç°çªå‘æµé‡ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä»¤ç‰Œæ¡¶ç®—æ³•&#34;&gt;
    &lt;a href=&#34;#%e4%bb%a4%e7%89%8c%e6%a1%b6%e7%ae%97%e6%b3%95&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    ä»¤ç‰Œæ¡¶ç®—æ³•
&lt;/h2&gt;
&lt;p&gt;ä»¤ç‰Œæ¡¶ç®—æ³•&lt;code&gt;ï¼ˆToken Bucketï¼‰&lt;/code&gt;æ˜¯ç½‘ç»œæµé‡æ•´å½¢&lt;code&gt;ï¼ˆTraffic Shapingï¼‰&lt;/code&gt;å’Œé€Ÿç‡é™åˆ¶&lt;code&gt;ï¼ˆRate Limitingï¼‰&lt;/code&gt;ä¸­æœ€å¸¸ä½¿ç”¨çš„ä¸€ç§ç®—æ³•ã€‚å…¸å‹æƒ…å†µä¸‹ï¼Œä»¤ç‰Œæ¡¶ç®—æ³•ç”¨æ¥æ§åˆ¶å‘é€åˆ°ç½‘ç»œä¸Šçš„æ•°æ®çš„æ•°ç›®ï¼Œå¹¶å…è®¸çªå‘æ•°æ®çš„å‘é€ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008eGmZEgy1gmr4cwnxkmj30bq07iwet.jpg&#34; 
    alt=&#34;ä»¤ç‰Œæ¡¶ç®—æ³•&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬æœ‰ä¸€ä¸ªå›ºå®šçš„æ¡¶ï¼Œæ¡¶é‡Œå­˜æ”¾ç€ä»¤ç‰Œ&lt;code&gt;ï¼ˆtokenï¼‰&lt;/code&gt;ã€‚ä¸€å¼€å§‹æ¡¶æ˜¯ç©ºçš„ï¼Œç³»ç»ŸæŒ‰å›ºå®šçš„æ—¶é—´&lt;code&gt;ï¼ˆrateï¼‰&lt;/code&gt;å¾€æ¡¶é‡Œæ·»åŠ ä»¤ç‰Œï¼Œç›´åˆ°æ¡¶é‡Œçš„ä»¤ç‰Œæ•°æ»¡ï¼Œå¤šä½™çš„è¯·æ±‚ä¼šè¢«ä¸¢å¼ƒã€‚å½“è¯·æ±‚æ¥çš„æ—¶å€™ï¼Œä»æ¡¶é‡Œç§»é™¤ä¸€ä¸ªä»¤ç‰Œï¼Œå¦‚æœæ¡¶æ˜¯ç©ºçš„åˆ™æ‹’ç»è¯·æ±‚æˆ–è€…é˜»å¡ã€‚&lt;/p&gt;
&lt;p&gt;å®ç°ä»£ç ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;TokenBucket&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;rate&lt;/span&gt;         &lt;span class=&#34;kt&#34;&gt;int64&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;//å›ºå®šçš„tokenæ”¾å…¥é€Ÿç‡, r/s
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;capacity&lt;/span&gt;     &lt;span class=&#34;kt&#34;&gt;int64&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;//æ¡¶çš„å®¹é‡
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;tokens&lt;/span&gt;       &lt;span class=&#34;kt&#34;&gt;int64&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;//æ¡¶ä¸­å½“å‰tokenæ•°é‡
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;lastTokenSec&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int64&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;//æ¡¶ä¸Šæ¬¡æ”¾tokençš„æ—¶é—´æˆ³ s
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;lock&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;sync&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Mutex&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;TokenBucket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Allow&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;bool&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;defer&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Unlock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;

    &lt;span class=&#34;nx&#34;&gt;now&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Now&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Unix&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;tokens&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;tokens&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;now&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;lastTokenSec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;rate&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// å…ˆæ·»åŠ ä»¤ç‰Œ
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;tokens&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;capacity&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;tokens&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;capacity&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;lastTokenSec&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;now&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;tokens&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// è¿˜æœ‰ä»¤ç‰Œï¼Œé¢†å–ä»¤ç‰Œ
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;tokens&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;--&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// æ²¡æœ‰ä»¤ç‰Œ,åˆ™æ‹’ç»
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;TokenBucket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Set&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int64&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;rate&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;r&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;capacity&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;tokens&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;lastTokenSec&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Now&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Unix&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä»¤ç‰Œæ¡¶æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»¤ç‰ŒæŒ‰å›ºå®šçš„é€Ÿç‡è¢«æ”¾å…¥ä»¤ç‰Œæ¡¶ä¸­&lt;/li&gt;
&lt;li&gt;æ¡¶ä¸­æœ€å¤šå­˜æ”¾ &lt;code&gt;B&lt;/code&gt; ä¸ªä»¤ç‰Œï¼Œå½“æ¡¶æ»¡æ—¶ï¼Œæ–°æ·»åŠ çš„ä»¤ç‰Œè¢«ä¸¢å¼ƒæˆ–æ‹’ç»&lt;/li&gt;
&lt;li&gt;å¦‚æœæ¡¶ä¸­çš„ä»¤ç‰Œä¸è¶³ &lt;code&gt;N&lt;/code&gt; ä¸ªï¼Œåˆ™ä¸ä¼šåˆ é™¤ä»¤ç‰Œï¼Œä¸”è¯·æ±‚å°†è¢«é™æµï¼ˆä¸¢å¼ƒæˆ–é˜»å¡ç­‰å¾…ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä»¤ç‰Œæ¡¶é™åˆ¶çš„æ˜¯å¹³å‡æµå…¥é€Ÿç‡ï¼ˆå…è®¸çªå‘è¯·æ±‚ï¼Œåªè¦æœ‰ä»¤ç‰Œå°±å¯ä»¥å¤„ç†ï¼Œæ”¯æŒä¸€æ¬¡æ‹¿3ä¸ªä»¤ç‰Œï¼Œ4ä¸ªä»¤ç‰Œ&amp;hellip;ï¼‰ï¼Œå¹¶å…è®¸ä¸€å®šç¨‹åº¦çªå‘æµé‡ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å°-ç»“&#34;&gt;
    &lt;a href=&#34;#%e5%b0%8f-%e7%bb%93&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å° ç»“
&lt;/h2&gt;
&lt;p&gt;ç›®å‰å¸¸ç”¨çš„æ˜¯&lt;code&gt;ä»¤ç‰Œæ¡¶&lt;/code&gt;è¿™ç§ï¼Œæœ¬æ–‡ä»‹ç»äº†å‡ ç§å¸¸è§çš„é™æµç®—æ³•å®ç°ï¼Œæ–‡ç« æ’°å†™ä¸æ˜“ï¼Œç‚¹ä¸ªå…³æ³¨ä¸è¿·è·¯ã€‚&lt;/p&gt;

    </description>
    </item>
    
    <item>
    <title>Web Safe Csrf</title>
    <link>http://blog.ibyte.me/post/web-safe-csrf/</link>
    <pubDate>Thu, 16 Sep 2021 22:43:44 +0800</pubDate>
    
    <guid>http://blog.ibyte.me/post/web-safe-csrf/</guid>
    <description>
        &lt;h2 id=&#34;æ¦‚-è¿°&#34;&gt;
    &lt;a href=&#34;#%e6%a6%82-%e8%bf%b0&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    æ¦‚ è¿°
&lt;/h2&gt;
&lt;p&gt;éšç€äº’è”ç½‘çš„é«˜é€Ÿå‘å±•ï¼Œä¿¡æ¯å®‰å…¨é—®é¢˜å·²ç»æˆä¸ºä¼ä¸šæœ€ä¸ºå…³æ³¨çš„ç„¦ç‚¹ä¹‹ä¸€ï¼Œè€Œå‰ç«¯åˆæ˜¯å¼•å‘ä¼ä¸šå®‰å…¨é—®é¢˜çš„é«˜å±æ®ç‚¹ã€‚åœ¨ç§»åŠ¨äº’è”ç½‘æ—¶ä»£ï¼Œå‰ç«¯äººå‘˜é™¤äº†ä¼ ç»Ÿçš„ &lt;code&gt;XSS&lt;/code&gt;ã€&lt;code&gt;CSRF&lt;/code&gt; ç­‰å®‰å…¨é—®é¢˜ä¹‹å¤–ï¼Œåˆæ—¶å¸¸é­é‡ç½‘ç»œåŠ«æŒã€éæ³•è°ƒç”¨ &lt;code&gt;API&lt;/code&gt; ç­‰æ–°å‹å®‰å…¨é—®é¢˜ã€‚å½“ç„¶ï¼Œæµè§ˆå™¨è‡ªèº«ä¹Ÿåœ¨ä¸æ–­åœ¨è¿›åŒ–å’Œå‘å±•ï¼Œä¸æ–­å¼•å…¥ &lt;code&gt;CSP&lt;/code&gt;ã€&lt;code&gt;Same-Site Cookies&lt;/code&gt; ç­‰æ–°æŠ€æœ¯æ¥å¢å¼ºå®‰å…¨æ€§ï¼Œä½†æ˜¯ä»å­˜åœ¨å¾ˆå¤šæ½œåœ¨çš„å¨èƒï¼Œè¿™éœ€è¦æˆ‘ä»¬æŠ€æœ¯äººå‘˜ä¸æ–­å¯¹ç³»ç»Ÿè¿›è¡Œâ€œæŸ¥æ¼è¡¥ç¼ºâ€ã€‚&lt;/p&gt;
&lt;h2 id=&#34;åºŸè¯å°‘è¯´å…ˆçœ‹é—®é¢˜&#34;&gt;
    &lt;a href=&#34;#%e5%ba%9f%e8%af%9d%e5%b0%91%e8%af%b4%e5%85%88%e7%9c%8b%e9%97%ae%e9%a2%98&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    åºŸè¯å°‘è¯´ï¼Œå…ˆçœ‹é—®é¢˜
&lt;/h2&gt;
&lt;p&gt;ä¸ºäº†æ¨¡æ‹Ÿé—®é¢˜æˆ‘è¿™è¾¹ç”¨&lt;code&gt;go&lt;/code&gt;å†™äº†&lt;code&gt;2&lt;/code&gt;ä¸ªæœåŠ¡ç«¯çš„ä»£ç ï¼Œæ­£å¸¸äº¤æ˜“ç³»ç»Ÿçš„APIï¼Œå½“ç„¶è¿™é‡Œåªæ˜¯ä¸ºäº†&lt;code&gt;æ¼”ç¤ºæ¼æ´åˆ©ç”¨&lt;/code&gt;ï¼Œä»£ç æ¯”è¾ƒç®€å•å¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;transaction.go å†…å®¹:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;51
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;52
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;53
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;54
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;55
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;56
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;57
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;58
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;59
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;60
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;61
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;62
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;63
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;64
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;65
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;66
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;67
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;68
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;69
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;70
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;71
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;72
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;73
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;74
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;75
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;76
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;77
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;78
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;79
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;80
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;81
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;82
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;83
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;84
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;85
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;86
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
    &lt;span class=&#34;s&#34;&gt;&amp;#34;errors&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;s&#34;&gt;&amp;#34;fmt&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;s&#34;&gt;&amp;#34;github.com/spf13/cast&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;s&#34;&gt;&amp;#34;log&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;s&#34;&gt;&amp;#34;net/http&amp;#34;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// æ¨¡æ‹Ÿæ•°æ®å­˜å‚¨
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;user&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;id&lt;/span&gt;    &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;money&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;userdata&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;user&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;init&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;userdata&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;userdata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;Tom&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;money&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;10000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;userdata&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;userdata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;John&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;money&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;10000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;userdata&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;userdata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;hack&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;money&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// æ¨¡æ‹Ÿäº¤æ˜“ç³»ç»ŸAPI
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;HandleFunc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/transaction&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;transactionHandler&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;ListenAndServe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;:1999&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// å‡è®¾è¿™æ˜¯äº¤æ˜“å¤„ç†å™¨
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;transactionHandler&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;w&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ResponseWriter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;req&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;req&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;URL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Path&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;/transaction&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
          &lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;404 not found.&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;StatusNotFound&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
          &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;switch&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;req&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Method&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;GET&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
          &lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;ServeFile&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;req&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;form.html&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;POST&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;req&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;ParseForm&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
          &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Fprintf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;ParseForm() err: %v&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
          &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;
      &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
      &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;e&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;transaction&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;req&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;FormValue&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Id&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;req&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;FormValue&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;toId&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;req&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;FormValue&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;money&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;e&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
          &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Fprintf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;%s&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt;
          &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;
      &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
      &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Fprintf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;transaction successful.&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;default&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Fprintf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;Sorry, only GET and POST methods are supported.&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;transaction&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Id&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;toId&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;money&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;

	&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Id&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;toId&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;cast&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;ToInt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;money&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;errors&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;New&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;form invalid parameter&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
	&lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;recipient&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;user&lt;/span&gt;
	&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;_&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;u&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;range&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;userdata&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;u&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;id&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Id&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
          &lt;span class=&#34;nx&#34;&gt;user&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;u&lt;/span&gt;
          &lt;span class=&#34;k&#34;&gt;break&lt;/span&gt;
      &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
	&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;_&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;r&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;range&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;userdata&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;id&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;toId&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
          &lt;span class=&#34;nx&#34;&gt;recipient&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;r&lt;/span&gt;
          &lt;span class=&#34;k&#34;&gt;break&lt;/span&gt;
      &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
	&lt;span class=&#34;c1&#34;&gt;// ç”¨æˆ·ä¸å­˜åœ¨
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;	&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;user&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;recipient&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;errors&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;New&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;user does not exist&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
	&lt;span class=&#34;c1&#34;&gt;// æœ‰é’±æ‰èƒ½è½¬è´¦
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;	&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;money&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;money&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;cast&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;ToInt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;money&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;errors&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;New&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;your balance is insufficient&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;money&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;money&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;cast&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;ToInt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;money&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;recipient&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;money&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;recipient&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;money&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;cast&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;ToInt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;money&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;ç”¨æˆ· %s å‘ç”¨æˆ· %s è½¬è´¦ %s å…ƒ.&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Id&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;toId&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;money&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
	&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æˆ‘ä»¬æŠŠä¸Šé¢çš„ä»£ç è·‘èµ·æ¥ï¼Œ&lt;code&gt;go run transaction.go&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[Running] go run &amp;quot;/Users/ding/Desktop/CSRF_Demo/transaction.go&amp;quot;
2021/03/12 21:50:08 Transaction Server Running....
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¥½äº†ï¼ŒæœåŠ¡å™¨æ­£å¸¸è·‘èµ·æ¥äº†ï¼ŒæŒ‰ç…§æˆ‘ä»¬æ­£å¸¸çš„ç³»ç»Ÿæµç¨‹æ˜¯ï¼Œæˆ‘ä»¬ç™»é™†åˆ°äº†ç³»ç»Ÿé‡Œé¢ï¼Œç³»ç»Ÿé‡Œé¢æœ‰æˆ‘ä»¬çš„æµè§ˆå™¨ä¼šè¯æ•°æ®ï¼Œè¿™æ—¶æˆ‘ä»¬åªæƒ³é€šè¿‡ç³»ç»Ÿç»™å‡ºçš„äº¤æ˜“æ¥å£æ“ä½œå°±å¯ä»¥äº†ï¼Œè¿™é‡Œä¸ºäº†æ–¹ä¾¿æ¼”ç¤ºæˆ‘ä½¿ç”¨&lt;code&gt;postman&lt;/code&gt;è¿›è¡Œæµ‹è¯•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008eGmZEgy1gohgs1l2eij30qi0huabj.jpg&#34; 
    alt=&#34;æ“ä½œæˆªå›¾&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„äº¤æ˜“ç³»ç»Ÿè®¾è®¡çš„æ‰€éœ€çš„å‚æ•°ï¼Œå¹¶ä¸”æˆ‘ä»¬å¡«å†™äº†è¯·æ±‚è¡¨å•æ•°æ®ï¼Œå¹¶ä¸”æäº¤äº†è¿™ä¸ªè¯·æ±‚ã€‚æˆ‘ä»¬å»æœåŠ¡å™¨çœ‹çœ‹æ—¥å¿—:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[Running] go run &amp;quot;/Users/ding/Desktop/CSRF_Demo/transaction.go&amp;quot;
2021/03/12 21:50:08 Transaction Server Running....
2021/03/12 21:54:41 ç”¨æˆ· Tom å‘ç”¨æˆ· John è½¬è´¦ 2000 å…ƒ.
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¯ä»¥çœ‹åˆ°æœ‰ä¸€æ¡è½¬è´¦è®°å½•ï¼Œè¯´æ˜æˆ‘ä»¬æ“ä½œæˆåŠŸäº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å¼€å§‹æ¼æ´åˆ©ç”¨&#34;&gt;
    &lt;a href=&#34;#%e5%bc%80%e5%a7%8b%e6%bc%8f%e6%b4%9e%e5%88%a9%e7%94%a8&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å¼€å§‹æ¼æ´åˆ©ç”¨
&lt;/h2&gt;
&lt;p&gt;æŒ‰ç…§æ­£å¸¸äººçš„æ€ç»´æˆ‘ä»¬å°±æ­£å¸¸æ“ä½œå°±è¡Œäº†ï¼Œä½†æ˜¯ä¸–ç•Œè¿™ä¹ˆå¤§æ€ä¹ˆå¯èƒ½æ²¡æœ‰åäººå‘¢ï¼Ÿï¼Ÿï¼Ÿé‚£ä¸‹é¢æŠŠç¬¬ä¸€ä¸ªæœåŠ¡å™¨è·‘èµ·æ¥ï¼Œå¹¶ä¸”è®¿é—®ç¬¬äºŒä¸ªæœåŠ¡å™¨çœ‹çœ‹ç»“æœæ€ä¹ˆæ ·ï¼Ÿï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;csrf.goæ–‡ä»¶é‡Œé¢å†…å®¹:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
    &lt;span class=&#34;s&#34;&gt;&amp;#34;log&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;s&#34;&gt;&amp;#34;net/http&amp;#34;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(){&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;HandleFunc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/csrf&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;csrfHandler&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Println&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;CSRF Server Running....&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;ListenAndServe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;:2021&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;csrfHandler&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ResponseWriter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;request&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;ServeFile&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;csrf.html&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;é¦–å…ˆæˆ‘æŠŠæ”»å‡»åˆ©ç”¨æœåŠ¡å™¨å¯åŠ¨ &lt;code&gt;go run csrf.go&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;mi&#34;&gt;2021&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;mo&#34;&gt;03&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;12&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;22&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;43&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;CSRF&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Server&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Running&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;...&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ç„¶åæˆ‘åœ¨åŒä¸€æµè§ˆå™¨é‡Œé¢è®¿é—®è¿™ä¸ªåœ°å€&lt;code&gt;http://127.0.0.1:2021/csrf&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008eGmZEgy1gohhhxzpwhj30gi02s3yo.jpg&#34; 
    alt=&#34;æ”»å‡»åˆ©ç”¨&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ä½ å›è½¦çš„é‚£ä¸€ç§’ï¼Œå…¶å®è¿™ä¸ªæ¼æ´å·²ç»åˆ©ç”¨æˆåŠŸäº†ã€‚è¿™ä¸ªè¿‡ç¨‹å¯èƒ½ä¸æ˜¯ä½ ç›´æ¥åœ¨æµè§ˆå™¨åœ°å€æ¡†ç›´æ¥è¾“å…¥ï¼Œä¹Ÿå¯èƒ½æ˜¯ä½ åœ¨æ‰“å¼€å…¶ä»–ç½‘ç«™ï¼Œå…¶ä»–ç½‘ç«™é‡Œé¢æœ‰ä¸€ä¸ªåœ°å€å°±æ˜¯è¿™ä¸ªåœ°å€ï¼Œæˆ–è€…æ˜¯ä½ åœ¨&lt;code&gt;QQ&lt;/code&gt;æˆ–è€…ä¸€äº›èŠå¤©è½¯ä»¶ä¸Šï¼Œåˆ«äººç»™ä½ å‘é€ä¸€ä¸ªåœ°å€ï¼Œåœ¨ä½ ç‚¹å‡»é‚£ä¸€ç§’è¿™ä¸ªæ”»å‡»å°±æˆåŠŸäº†ã€‚&lt;/p&gt;
&lt;p&gt;é‚£æ€ä¹ˆè¯æ˜æˆåŠŸäº†å‘¢ï¼Ÿæˆ‘ä»¬å»çœ‹çœ‹è½¬è´¦ç³»ç»Ÿçš„æ—¥å¿—ã€‚ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008eGmZEgy1gohhlco3g6j30m704ojs0.jpg&#34; 
    alt=&#34;æ—¥å¿—è®°å½•&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°æœ‰ä¸€æ¡è½¬è´¦æ—¥å¿—è®°å½•ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬åˆšåˆšé€šè¿‡æ¼æ´åˆ©ç”¨è¾¾æˆçš„è½¬è´¦æ•ˆæœã€‚&lt;/p&gt;
&lt;h2 id=&#34;é‚£è¿™ä¸ªæ˜¯æ€ä¹ˆåšåˆ°çš„å‘¢&#34;&gt;
    &lt;a href=&#34;#%e9%82%a3%e8%bf%99%e4%b8%aa%e6%98%af%e6%80%8e%e4%b9%88%e5%81%9a%e5%88%b0%e7%9a%84%e5%91%a2&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    é‚£è¿™ä¸ªæ˜¯æ€ä¹ˆåšåˆ°çš„å‘¢ï¼Ÿ
&lt;/h2&gt;
&lt;p&gt;é€šè¿‡æˆ‘ä»¬æ”»å‡»åˆ©ç”¨æœåŠ¡å™¨ä¸Šçš„ä»£ç å¯ä»¥çœ‹å‡ºæ¥æˆ‘ä»¬åœ¨æœåŠ¡å™¨è¿”å›äº†ä¸€ä¸ª&lt;code&gt;csrf.html&lt;/code&gt;æ–‡ä»¶ï¼Œé‚£è¿™ä¸ªæ–‡ä»¶åšäº†ä»€ä¹ˆï¼Ÿï¼Ÿï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ–‡ä»¶å†…å®¹å¦‚ä¸‹:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&amp;lt;!DOCTYPE html&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;html&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lang&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;en&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;meta&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;charset&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;UTF-8&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;csrf æ”»å‡»æ¼”ç¤º&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;body&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;form&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;action&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;http://127.0.0.01:1999/transaction&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;method&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;POST&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;input&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;hidden&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Id&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Tom&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;input&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;hidden&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;money&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;5000&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;input&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;hidden&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;toId&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;hack&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;form&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;document&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;forms&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;submit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;body&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;html&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ç›¸ä¿¡æ˜¯ä¸ªç¨‹åºå‘˜éƒ½èƒ½çœ‹æ‡‚æˆ‘åšäº†ä»€ä¹ˆå§ï¼Œä¸ç”¨ç»†è¯´ã€‚&lt;/p&gt;
&lt;h2 id=&#34;csrfæ”»å‡»å’Œé˜²èŒƒ&#34;&gt;
    &lt;a href=&#34;#csrf%e6%94%bb%e5%87%bb%e5%92%8c%e9%98%b2%e8%8c%83&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    CSRFæ”»å‡»å’Œé˜²èŒƒ
&lt;/h2&gt;
&lt;p&gt;ä¸Šé¢æ”»å‡»è¿‡ç¨‹å°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„&lt;code&gt;CSRF&lt;/code&gt;æ”»å‡»ï¼Œç›¸æ¯”&lt;code&gt;XSS&lt;/code&gt;ï¼Œ&lt;code&gt;CSRF&lt;/code&gt;çš„åæ°”ä¼¼ä¹å¹¶ä¸æ˜¯é‚£ä¹ˆå¤§ï¼Œå¾ˆå¤šäººéƒ½è®¤ä¸º&lt;code&gt;CSRF&lt;/code&gt;â€œ&lt;code&gt;ä¸é‚£ä¹ˆæœ‰ç ´åæ€§&lt;/code&gt;â€ï¼ŒçœŸçš„æ˜¯è¿™æ ·å—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;code&gt;CSRF&lt;/code&gt;æ”»å‡»çš„ä¾‹å­å·²ç»ä¸æ˜¯å•ä¸ªä¸ªä¾‹äº†ï¼Œ&lt;code&gt;Gmailï¼ŒFacebookï¼ŒTwitterï¼ŒYouTube&lt;/code&gt;è¿™äº›éƒ½æœ‰ä¸ªç±»ä¼¼çš„æ¼æ´äº‹ä»¶ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.davidairey.com/google-gmail-security-hijack/&#34;&gt;https://www.davidairey.com/google-gmail-security-hijack/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;CSRFï¼ˆCross-site request forgeryï¼‰&lt;/code&gt;è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼šæ”»å‡»è€…è¯±å¯¼å—å®³è€…è¿›å…¥ç¬¬ä¸‰æ–¹ç½‘ç«™ï¼Œåœ¨ç¬¬ä¸‰æ–¹ç½‘ç«™ä¸­ï¼Œå‘è¢«æ”»å‡»ç½‘ç«™å‘é€è·¨ç«™è¯·æ±‚ã€‚åˆ©ç”¨å—å®³è€…åœ¨è¢«æ”»å‡»ç½‘ç«™å·²ç»è·å–çš„æ³¨å†Œå‡­è¯ï¼Œç»•è¿‡åå°çš„ç”¨æˆ·éªŒè¯ï¼Œè¾¾åˆ°å†’å……ç”¨æˆ·å¯¹è¢«æ”»å‡»çš„ç½‘ç«™æ‰§è¡ŒæŸé¡¹æ“ä½œçš„ç›®çš„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008eGmZEgy1gohdrs7ja5j30tg0gyta4.jpg&#34; 
    alt=&#34;CSRFæ”»å‡»åŸç†å›¾
&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘åˆšæ‰çš„ä¾‹å­å°±æ˜¯ä¸€ä¸ªå…¸å‹çš„&lt;code&gt;CSRF&lt;/code&gt;ä¾‹å­ï¼Œå—å®³è€…ç™»å½•&lt;code&gt;a.com&lt;/code&gt;ï¼Œå¹¶ä¿ç•™äº†ç™»å½•å‡­è¯&lt;code&gt;ï¼ˆCookieï¼‰&lt;/code&gt;ï¼Œæ”»å‡»è€…å¼•è¯±å—å®³è€…è®¿é—®äº†&lt;code&gt;b.com&lt;/code&gt;ï¼Œ&lt;code&gt;b.com&lt;/code&gt; å‘ &lt;code&gt;a.com&lt;/code&gt; å‘é€äº†ä¸€ä¸ªè¯·æ±‚ï¼š&lt;code&gt;a.com/xx&lt;/code&gt;ã€‚æµè§ˆå™¨ä¼šé»˜è®¤æºå¸¦a&lt;code&gt;.com&lt;/code&gt;çš„&lt;code&gt;Cookie&lt;/code&gt;ï¼Œ&lt;code&gt;a.com&lt;/code&gt;æ¥æ”¶åˆ°è¯·æ±‚åï¼Œå¯¹è¯·æ±‚è¿›è¡ŒéªŒè¯ï¼Œå¹¶ç¡®è®¤æ˜¯å—å®³è€…çš„å‡­è¯ï¼Œè¯¯ä»¥ä¸ºæ˜¯å—å®³è€…è‡ªå·±å‘é€çš„è¯·æ±‚ï¼Œä»è€Œè¾¾åˆ°é»‘å®¢çš„ç›®çš„ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å°-ç»“&#34;&gt;
    &lt;a href=&#34;#%e5%b0%8f-%e7%bb%93&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å° ç»“
&lt;/h2&gt;
&lt;p&gt;æ¶‰åŠåˆ°é“­æ„Ÿæ•°æ®æ“ä½œçš„åŠ å¼ºéªŒè¯ï¼Œå®¢æˆ·ç«¯çš„æ•°æ®ä¸å¯ä¿¡ï¼ŒæœåŠ¡å™¨åŠ å¼ºå¯¹æ•°æ®æ ¡éªŒï¼Œå’ŒåŠ ä¸€äº›&lt;code&gt;é£æ§&lt;/code&gt;ç­–ç•¥ï¼Œä¾‹å¦‚&lt;code&gt;éªŒè¯ç ï¼Œæ‰‹æœºçŸ­ä¿¡ï¼Œjwt&lt;/code&gt;ï¼Œæˆ–è€…ç¬¬ä¸‰æ–¹éªŒè¯ç é˜²ç«å¢™ï¼Œä¹Ÿå¯ä»¥åœ¨è¯·æ±‚çš„ä¹‹å‰å…ˆæ‹¿åˆ°ä¸€ä¸ªå”¯ä¸€çš„&lt;code&gt;token&lt;/code&gt;ï¼ŒåŒæºæ£€æµ‹ï¼ˆ&lt;code&gt;Origin&lt;/code&gt; å’Œ &lt;code&gt;Referer&lt;/code&gt; éªŒè¯ï¼‰ï¼Œå½“ç„¶è¿™äº›æ–¹æ³•è¿˜ä¸å®‰å…¨ï¼Œå¦‚æœæœ‰ç©ºä¼šç»­æ›´ã€‚&lt;/p&gt;

    </description>
    </item>
    
    <item>
    <title>Golang Web Session Implement</title>
    <link>http://blog.ibyte.me/post/golang-web-session-implement/</link>
    <pubDate>Thu, 16 Sep 2021 22:41:38 +0800</pubDate>
    
    <guid>http://blog.ibyte.me/post/golang-web-session-implement/</guid>
    <description>
        &lt;h2 id=&#34;æ¦‚-è¿°&#34;&gt;
    &lt;a href=&#34;#%e6%a6%82-%e8%bf%b0&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    æ¦‚ è¿°
&lt;/h2&gt;
&lt;p&gt;å¤§å®¶éƒ½çŸ¥é“ &lt;code&gt;session&lt;/code&gt; æ˜¯&lt;code&gt;webåº”ç”¨&lt;/code&gt;åœ¨æœåŠ¡å™¨ç«¯å®ç°çš„ä¸€ç§ç”¨æˆ·å’ŒæœåŠ¡å™¨ä¹‹é—´è®¤è¯çš„è§£å†³æ–¹æ¡ˆï¼Œç›®å‰ &lt;code&gt;Go&lt;/code&gt; æ ‡å‡†åŒ…æ²¡æœ‰ä¸º &lt;code&gt;session&lt;/code&gt; æä¾›ä»»ä½•æ”¯æŒï¼Œæœ¬æ–‡æˆ‘å°†è®²è§£&lt;code&gt;session&lt;/code&gt;çš„å®ç°åŸç†ï¼Œå’Œä¸€äº›å¸¸è§åŸºäº&lt;code&gt;session&lt;/code&gt;å®‰å…¨äº§ç”Ÿçš„é˜²å¾¡é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶æœ‰äººå¯èƒ½çœ‹äº†ä¼šæŠ¬æ ï¼Œè¯´ç°åœ¨å¤§éƒ¨åˆ†ä¸æ˜¯å‰åç«¯åˆ†ç¦»æ¶æ„å—ï¼Ÿå¯¹ï¼Œä½ å¯ä»¥ä½¿ç”¨&lt;code&gt;JWT&lt;/code&gt;è§£å†³ä½ çš„é—®é¢˜ã€‚ä½†æ˜¯ä¹Ÿæœ‰ä¸€äº›ä¸€ä½“åŒ–&lt;code&gt;web&lt;/code&gt;åº”ç”¨éœ€è¦&lt;code&gt;session&lt;/code&gt;ï¼Œæ‰€ä»¥æˆ‘å‡†å¤‡é€ ä¸ªè½®å­ã€‚è‡ªå·±é€ çš„è½®å­å“ªé‡Œå‡ºé—®é¢˜äº†ï¼Œæ¯”åˆ«äººæ›´ç†Ÿæ‚‰ï¼Œæœ‰&lt;code&gt;bug&lt;/code&gt;äº†ï¼Œè¿˜ä¸ç”¨æ±‚ç€åˆ«äººä¿®&lt;code&gt;bug&lt;/code&gt;,è‡ªå·±ä¿®å°±å¥½äº†ï¼Œå‘µå‘µå“ˆå“ˆå“ˆï¼Œå½“ç„¶è¿™å‡ å¥è¯æœ‰ç‚¹çš®ğŸ˜œã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008eGmZEgy1goyrvcs0n1j307q04zaa0.jpg&#34; 
    alt=&#34;å˜¤ å˜¤ å˜¤&amp;amp;hellip;&#34; 
     /&gt;&lt;/p&gt;
&lt;h2 id=&#34;éœ€-æ±‚&#34;&gt;
    &lt;a href=&#34;#%e9%9c%80-%e6%b1%82&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    éœ€ æ±‚
&lt;/h2&gt;
&lt;p&gt;æˆ‘è§‰å¾—ä¸€åå¥½çš„ç¨‹åºå‘˜ï¼Œåœ¨å†™ç¨‹åºä¹‹å‰åº”è¯¥åˆ—ä¸€ä¸‹éœ€æ±‚åˆ†æï¼Œæ•´ç†ä¸€ä¸‹æ€è·¯ï¼Œç„¶åå†å»å†™ä»£ç ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ”¯æŒå†…å­˜å­˜å‚¨ä¼šè¯æ•°æ®&lt;/li&gt;
&lt;li&gt;æ”¯æŒåˆ†å¸ƒå¼&lt;code&gt;redis&lt;/code&gt;ä¼šè¯å­˜å‚¨&lt;/li&gt;
&lt;li&gt;ä¼šè¯å¦‚æœæœ‰å¿ƒè·³å°±è‡ªåŠ¨ç»­å‘½&lt;code&gt;30&lt;/code&gt;åˆ†é’Ÿï¼ˆç”Ÿå‘½å‘¨æœŸï¼‰&lt;/li&gt;
&lt;li&gt;æä¾›é˜²å¾¡ï¼š&lt;code&gt;ä¸­é—´äºº&lt;/code&gt;ï¼Œ&lt;code&gt;ä¼šè¯åŠ«æŒ&lt;/code&gt;ï¼Œ&lt;code&gt;ä¼šè¯é‡æ”¾&lt;/code&gt;ç­‰æ”»å‡»&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å·¥ä½œåŸç†&#34;&gt;
    &lt;a href=&#34;#%e5%b7%a5%e4%bd%9c%e5%8e%9f%e7%90%86&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å·¥ä½œåŸç†
&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆå¿…é¡»äº†è§£å·¥ä½œåŸç†æ‰èƒ½å†™ä»£ç ï¼Œè¿™é‡Œæˆ‘å°±ç¨å¾®è¯´ä¸€ä¸‹ï¼Œ&lt;code&gt;session&lt;/code&gt;æ˜¯åŸºäº&lt;code&gt;cookie&lt;/code&gt;å®ç°çš„ï¼Œä¸€ä¸ª&lt;code&gt;session&lt;/code&gt;å¯¹åº”ä¸€ä¸ª&lt;code&gt;uuid&lt;/code&gt;ä¹Ÿæ˜¯&lt;code&gt;sessionid&lt;/code&gt;ï¼Œåœ¨æœåŠ¡å™¨åˆ›å»ºä¸€ä¸ªç›¸å…³çš„æ•°æ®ç»“æ„ï¼Œç„¶åæŠŠè¿™ä¸ª&lt;code&gt;sessionid&lt;/code&gt;é€šè¿‡&lt;code&gt;cookie&lt;/code&gt;è®©æµè§ˆå™¨ä¿å­˜ç€ï¼Œä¸‹æ¬¡æµè§ˆå™¨è¯·æ±‚è¿‡æ¥äº†å°±ä¼šæœ‰&lt;code&gt;sessionid&lt;/code&gt;ï¼Œç„¶åé€šè¿‡&lt;code&gt;sessionid&lt;/code&gt;è·å–è¿™ä¸ªä¼šè¯çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008eGmZEgy1goyr6owhr0j30gw0c23z5.jpg&#34; 
    alt=&#34;è¯·æ±‚è¿‡ç¨‹&#34; 
     /&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä»£ç å®ç°&#34;&gt;
    &lt;a href=&#34;#%e4%bb%a3%e7%a0%81%e5%ae%9e%e7%8e%b0&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    ä»£ç å®ç°
&lt;/h2&gt;
&lt;p&gt;éƒ½æ˜¯è¯´ç€å®¹æ˜“ï¼Œå®é™…å†™èµ·æ¥å°±æ˜¯å„ç§å‘ï¼Œä¸è¿‡æˆ‘è¿˜æ˜¯å®ç°äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008eGmZEgy1goyrnh2ebmj30dc07j3yk.jpg&#34; 
    alt=&#34;linus ğŸ–•&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å°‘è¯´åºŸè¯ï¼Œè¿˜æ˜¯ç›´æ¥å¹²ä»£ç å§ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¾èµ–å…³ç³»&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008eGmZEgy1goysgg2puij30hz0dz3ys.jpg&#34; 
    alt=&#34;ä¾èµ–å…³ç³»&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šé¢æ˜¯è®¾è®¡çš„ç›¸å…³ä¾èµ–å…³ç³»å›¾ï¼Œ&lt;code&gt;session&lt;/code&gt;æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç»“æ„ä½“ï¼Œ
&lt;code&gt;GlobalManager&lt;/code&gt;æ˜¯æ•´ä½“çš„ä¼šè¯ç®¡ç†å™¨è´Ÿè´£æ•°æ®æŒä¹…åŒ–ï¼Œè¿‡æœŸä¼šè¯åƒåœ¾å›æ”¶å·¥ä½œâ™»ï¸ï¼Œ&lt;code&gt;storage&lt;/code&gt;æ˜¯å­˜å‚¨å™¨æ¥å£ï¼Œå› ä¸ºæˆ‘ä»¬è¦å®ç°ä¸¤ç§æ–¹å¼å­˜å‚¨ä¼šè¯æ•°æ®æˆ–è€…ä»¥åè¦å¢åŠ å…¶ä»–æŒä¹…åŒ–å­˜å‚¨ï¼Œæ‰€ä»¥å¿…é¡»éœ€è¦æ¥å£æŠ½è±¡æ”¯æŒï¼Œ&lt;code&gt;memory&lt;/code&gt;å’Œ&lt;code&gt;redis&lt;/code&gt;æ˜¯å­˜å‚¨çš„å…·ä½“å®ç°ã€‚&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;&lt;code&gt;storage&lt;/code&gt;æ¥å£&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;sessionx&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// session storage interface
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;storage&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;interface&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nf&#34;&gt;Read&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt;
    &lt;span class=&#34;nf&#34;&gt;Create&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt;
    &lt;span class=&#34;nf&#34;&gt;Update&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt;
    &lt;span class=&#34;nf&#34;&gt;Remove&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;storage&lt;/code&gt;å°±9è¡Œä»£ç ï¼Œæ˜¯å…·ä½“çš„ä¼šè¯æ•°æ®æ“ä½œåŠ¨ä½œçš„æŠ½è±¡ï¼Œå…¨éƒ¨å‚æ•°ä½¿ç”¨çš„æ˜¯&lt;code&gt;session&lt;/code&gt;è¿™ä¸ªç»“æ„çš„æŒ‡é’ˆï¼Œå¦‚æœå¤„ç†å¼‚å¸¸äº†å°±&lt;code&gt;å³é”™å³è¿”å›&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆæŠŠå‡½æ•°ç­¾åçš„&lt;code&gt;å½¢å‚&lt;/code&gt;ä½¿ç”¨æŒ‡é’ˆç±»å‹çš„ï¼Œè¿™ä¸ªæˆ‘æƒ³çœ‹çš„æ‡‚äººåº”è¯¥çŸ¥é“è¿™æ˜¯ä¸ºä»€ä¹ˆäº†ğŸ˜&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;&lt;code&gt;memoryStore&lt;/code&gt;ç»“æ„ä½“&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;memoryStore&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;sync&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Map&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;memoryStore&lt;/code&gt;ç»“æ„ä½“é‡Œé¢å°±åµŒå…¥&lt;code&gt;sync.Map&lt;/code&gt;ç»“æ„ä½“ï¼Œä¸€å¼€å§‹æ˜¯ä½¿ç”¨çš„&lt;code&gt;map&lt;/code&gt;è¿™ç§ï¼Œä½†æ˜¯åé¢å‘ç°åœ¨å¹¶å‘è¯»å†™ç„¶ååŠ &lt;code&gt;sync.Mutex&lt;/code&gt;é”ğŸ”ï¼Œæ€§èƒ½è¿˜ä¸å¦‚ç›´æ¥ä½¿ç”¨&lt;code&gt;sync.Map&lt;/code&gt;é€Ÿåº¦å¿«ã€‚&lt;code&gt;sync.Map&lt;/code&gt;ç”¨æ¥åš&lt;code&gt;K:V&lt;/code&gt;å­˜å‚¨çš„ï¼Œä¹Ÿå°±æ˜¯&lt;code&gt;sessionid&lt;/code&gt;å¯¹åº”&lt;code&gt;session data&lt;/code&gt;çš„ã€‚&lt;/p&gt;
&lt;p&gt;å®ç°&lt;code&gt;storage&lt;/code&gt;å…·ä½“æ–¹æ³•å¦‚ä¸‹:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;m&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;memoryStore&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Read&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ele&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ok&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Load&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ID&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ok&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;c1&#34;&gt;// bug è¿™ä¸ªä¸èƒ½ç›´æ¥ s = ele 
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;      &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Data&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ele&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Data&lt;/span&gt;
      &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// s = nil
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Errorf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;id `%s` not exist session data&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ID&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;è¯»å–æ•°æ®çš„æ—¶å€™å…ˆå°†æŒä¹…åŒ–çš„æ•°æ®è¯»å‡ºæ¥ç„¶åèµ‹å€¼ç»™æœ¬æ¬¡ä¼šè¯çš„&lt;code&gt;session&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ³¨æ„:&lt;/strong&gt; åœ¨goçš„&lt;code&gt;map&lt;/code&gt;ä¸­çš„&lt;code&gt;struct&lt;/code&gt;ä¸­çš„å­—æ®µä¸èƒ½å¤Ÿç›´æ¥å¯»å€ï¼Œå®˜æ–¹&lt;strong&gt;issue&lt;/strong&gt; &lt;a href=&#34;https://github.com/golang/go/issues/3117&#34;&gt;https://github.com/golang/go/issues/3117&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å…¶ä»–å‡ ä¸ªå‡½æ•°:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;m&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;memoryStore&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Create&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;nx&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Store&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ID&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
      &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;m&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;memoryStore&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Remove&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;nx&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Delete&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ID&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
      &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;m&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;memoryStore&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Update&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ele&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ok&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Load&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ID&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ok&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// ä¸ºä»€ä¹ˆæ˜¯äº¤æ¢data å› ä¸ºæˆ‘ä»¬ä¸ç¡®å®šä¸Šå±‚æ˜¯å¦æ‰©å®¹æ¢äº†åœ°å€
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;nx&#34;&gt;ele&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Data&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Data&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;ele&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Expires&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Expires&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;//m.sessions[s.ID] = ele
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;
      &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
      &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Errorf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;id `%s` updated session fail&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ID&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;è¿™å¥è¯ä»£ç æ²¡æœ‰ä»€ä¹ˆå¥½è¯´çš„ï¼Œå†™è¿‡&lt;code&gt;go&lt;/code&gt;éƒ½èƒ½çœ‹å¾—æ‡‚ã€‚&lt;/p&gt;
&lt;p&gt;åƒåœ¾å›æ”¶:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;m&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;memoryStore&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;gc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// recycle your trash every 10 minutes
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Sleep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Minute&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Range&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;value&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;interface&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{})&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;bool&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Now&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;UnixNano&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Expires&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;UnixNano&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
              &lt;span class=&#34;nx&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Delete&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;runtime&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;GC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// log.Println(&amp;#34;gc running...&amp;#34;)
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ¯”è¾ƒä¼šè¯è¿‡æœŸæ—¶é—´ï¼Œè¿‡æœŸå°±åˆ é™¤ä¼šè¯ï¼Œä»¥ä¸Šå°±æ˜¯å†…å­˜å­˜å‚¨çš„å®ç°ã€‚&lt;/p&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;&lt;code&gt;redisStore&lt;/code&gt;ç»“æ„ä½“&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;redisStore&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;sync&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Mutex&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;sessions&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;redis&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Client&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;rs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;redisStore&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Read&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;sid&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Sprintf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;%s:%s&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;mgr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;cfg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;RedisKeyPrefix&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ID&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;bytes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;rs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;sessions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ctx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;sid&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Bytes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;rs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;sessions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Expire&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ctx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;sid&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;mgr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;cfg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;TimeOut&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Err&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;decoder&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;bytes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// log.Println(&amp;#34;redis read:&amp;#34;, s)
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;rs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;redisStore&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Create&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;rs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;setValue&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;rs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;redisStore&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Update&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;rs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;setValue&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;rs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;redisStore&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Remove&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;rs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;sessions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Del&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ctx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Sprintf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;%s:%s&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;mgr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;cfg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;RedisKeyPrefix&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ID&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)).&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Err&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;rs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;redisStore&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setValue&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;bytes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;encoder&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;rs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;sessions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Set&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ctx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Sprintf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;%s:%s&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;mgr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;cfg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;RedisKeyPrefix&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ID&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;bytes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;mgr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;cfg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;TimeOut&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Err&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä»£ç ä¹Ÿå°±50è¡Œå·¦å³ï¼Œå¾ˆç®€å•å°±æ˜¯é€šè¿‡&lt;code&gt;redis&lt;/code&gt;å®¢æˆ·ç«¯å¯¹æ•°æ®è¿›è¡ŒæŒä¹…åŒ–æ“ä½œï¼ŒæŠŠæœ¬åœ°çš„ä¼šè¯æ•°æ®æä¾›&lt;code&gt;encoding/gob&lt;/code&gt;åºåˆ—åŒ–æˆäºŒè¿›åˆ¶å†™åˆ°&lt;code&gt;redis&lt;/code&gt;æœåŠ¡å™¨ä¸Šå­˜å‚¨ï¼Œéœ€è¦çš„æ—¶å€™å†ååºåˆ—åŒ–å‡ºæ¥ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä¼šæœ‰äººé—®äº†ï¼Œredisæ²¡æœ‰å¹¶å‘é—®é¢˜å—ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ğŸ‘¨â€ğŸ’»â€ï¼š é‚£æˆ‘è‚¯å®šä¼šå›ç­”ï¼Œä½ åœ¨é—®è¿™ä¸ªé—®é¢˜ä¹‹å‰æˆ‘ä¸çŸ¥é“ä½ æœ‰æ²¡æœ‰äº†è§£è¿‡&lt;code&gt;redis&lt;/code&gt;ï¼Ÿï¼Ÿï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Redis&lt;/code&gt; å¹¶å‘ç«äº‰æŒ‡çš„æ˜¯å¤šä¸ª &lt;code&gt;Redis&lt;/code&gt; å®¢æˆ·ç«¯åŒæ—¶ &lt;code&gt;set key &lt;/code&gt;å¼•èµ·çš„å¹¶å‘é—®é¢˜ï¼Œ&lt;code&gt;Redis&lt;/code&gt; æ˜¯ä¸€ç§å•çº¿ç¨‹æœºåˆ¶çš„ &lt;code&gt;NoSQL&lt;/code&gt; æ•°æ®åº“ï¼Œæ‰€ä»¥ &lt;code&gt;Redis&lt;/code&gt; æœ¬èº«å¹¶æ²¡æœ‰é”çš„æ¦‚å¿µã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯å¤šå®¢æˆ·ç«¯åŒæ—¶å¹¶å‘å†™åŒä¸€ä¸ª &lt;code&gt;key&lt;/code&gt;ï¼Œä¸€ä¸ª &lt;code&gt;key&lt;/code&gt; çš„å€¼æ˜¯ &lt;code&gt;1&lt;/code&gt;ï¼Œæœ¬æ¥æŒ‰é¡ºåºä¿®æ”¹ä¸º &lt;code&gt;2,3,4&lt;/code&gt; ï¼Œæœ€å &lt;code&gt;key&lt;/code&gt; å€¼æ˜¯ &lt;code&gt;4&lt;/code&gt;ï¼Œä½†æ˜¯å› ä¸ºå¹¶å‘å»å†™ &lt;code&gt;key&lt;/code&gt;ï¼Œé¡ºåºå¯èƒ½å°±å˜æˆäº† &lt;code&gt;4,3,2&lt;/code&gt;ï¼Œæœ€å &lt;code&gt;key&lt;/code&gt; å€¼å°±å˜æˆäº† &lt;code&gt;2&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘è¿™ä¸ªåº“å½“å‰ä¹Ÿå°±ä¸€ä¸ªå®¢æˆ·ç«¯ï¼Œå¦‚æœä½ éƒ¨ç½²åˆ°å¤šä¸ªæœºå­ï¼Œé‚£å°±ä½¿ç”¨ &lt;code&gt;setnx(key, value)&lt;/code&gt; æ¥å®ç°åˆ†å¸ƒå¼é”ï¼Œæˆ‘å½“å‰å†™çš„è¿™ä¸ªåº“æ²¡æœ‰æä¾›åˆ†å¸ƒå¼é”ï¼Œå…·ä½“è¯·è‡ªè¡Œ&lt;code&gt;google&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;&lt;code&gt;manager&lt;/code&gt;ç»“æ„ä½“&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;51
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;storeType&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;uint8&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// memoryStore store type
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;M&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;storeType&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;iota&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// redis store type
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;R&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;SessionKey&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;session-id&amp;#34;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// manager for session manager
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;manager&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;cfg&lt;/span&gt;   &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Configs&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;store&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;storage&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;New&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;t&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;storeType&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;cfg&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Configs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;switch&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;t&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;M&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// init memory storage
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;nx&#34;&gt;m&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;new&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;memoryStore&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;go&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;gc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;mgr&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;manager&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;cfg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;cfg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;store&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;R&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// parameter verify
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;nx&#34;&gt;validate&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;validator&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;New&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;validate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Struct&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;cfg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;nb&#34;&gt;panic&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

        &lt;span class=&#34;c1&#34;&gt;// init redis storage
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;nx&#34;&gt;r&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;new&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;redisStore&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;sessions&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;redis&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;NewClient&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;redis&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Options&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;nx&#34;&gt;Addr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;     &lt;span class=&#34;nx&#34;&gt;cfg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;RedisAddr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
            &lt;span class=&#34;nx&#34;&gt;Password&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;cfg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;RedisPassword&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// no password set
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;nx&#34;&gt;DB&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;       &lt;span class=&#34;nx&#34;&gt;cfg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;RedisDB&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;       &lt;span class=&#34;c1&#34;&gt;// use default DB
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;nx&#34;&gt;PoolSize&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;cfg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;PoolSize&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// connection pool size
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;

        &lt;span class=&#34;c1&#34;&gt;// test connection
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;nx&#34;&gt;timeout&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;cancelFunc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;context&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;WithTimeout&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;context&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Background&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(),&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;8&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Second&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;defer&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;cancelFunc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;sessions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Ping&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;timeout&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Err&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;nb&#34;&gt;panic&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;mgr&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;manager&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;cfg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;cfg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;store&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;default&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
      &lt;span class=&#34;nb&#34;&gt;panic&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;not implement store type&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;manager&lt;/code&gt;ç»“æ„ä½“ä¹Ÿå°±ä¸¤ä¸ªå­—æ®µï¼Œä¸€ä¸ªå­˜æ”¾æˆ‘ä»¬å…¨å±€é…ç½®ä¿¡æ¯ï¼Œä¸€ä¸ªæˆ‘ä»¬å®ä¾‹åŒ–ä¸åŒçš„æŒä¹…åŒ–å­˜å‚¨çš„å­˜å‚¨å™¨ï¼Œå…¶ä»–ä»£ç å°±æ˜¯è¾…åŠ©æ€§çš„ä»£ç ï¼Œä¸ç»†è¯´äº†ã€‚&lt;/p&gt;
&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;&lt;code&gt;Session&lt;/code&gt;ç»“æ„ä½“&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™ä¸ªç»“æ„ä½“æ˜¯å¯¹åº”ç€æµè§ˆå™¨ä¼šè¯çš„ç»“æ„ä½“ï¼Œè®¾è®¡åŸåˆ™æ˜¯ä¸€ä¸ª&lt;code&gt;id&lt;/code&gt;å¯¹åº”ä¸€ä¸ª&lt;code&gt;session&lt;/code&gt;ç»“æ„ä½“ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// ä¼šè¯ID
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;ID&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// sessionè¶…æ—¶æ—¶é—´
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;Expires&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Time&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// å­˜å‚¨æ•°æ®çš„map
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;Data&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;interface&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{}]&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;interface&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{}&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;_w&lt;/span&gt;   &lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ResponseWriter&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// æ¯ä¸ªsessionå¯¹åº”ä¸€ä¸ªcookie
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;Cookie&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Cookie&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å…·ä½“æ“ä½œå‡½æ•°:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;51
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;52
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;53
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;54
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// Get Retrieves the stored element data from the session via the key
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;key&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;interface&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{})&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;interface&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{},&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;mgr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;store&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Read&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;refreshCookie&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ele&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ok&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ok&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ele&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Errorf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;key &amp;#39;%s&amp;#39; does not exist&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// Set Stores information in the session
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Set&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;v&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;interface&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{})&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;nx&#34;&gt;lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;W&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;](&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Data&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
          &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Data&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;make&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;interface&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{}]&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;interface&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{},&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;v&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;

	  &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;refreshCookie&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
	  &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;mgr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;store&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Update&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// Remove an element stored in the session
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Remove&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;key&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;interface&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{})&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	  &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;refreshCookie&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;

    &lt;span class=&#34;nx&#34;&gt;lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;R&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;](&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;delete&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;

	  &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;mgr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;store&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Update&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// Clean up all data for this session
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Clean&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;refreshCookie&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;mgr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;store&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Remove&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;// åˆ·æ–°cookie ä¼šè¯åªè¦æœ‰æ“ä½œå°±é‡ç½®ä¼šè¯ç”Ÿå‘½å‘¨æœŸ
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;refreshCookie&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Expires&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Now&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Add&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;mgr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;cfg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;TimeOut&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Cookie&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Expires&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Expires&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// è¿™é‡Œä¸æ˜¯ä½¿ç”¨æŒ‡é’ˆ
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// å› ä¸ºè¿™é‡Œæˆ‘ä»¬æ”¯æŒredis å¦‚æœwebæœåŠ¡å™¨é‡å¯äº†
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// é‚£ä¹ˆsessionæ•°æ®åœ¨å†…å­˜é‡Œæ¸…ç©º
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// ä»redisè¯»å–çš„æ•°æ®ååºåˆ—åŒ–åœ°å€å’Œé‡æ–°å¯åŠ¨çš„ä¸ä¸€æ ·
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// æ‰€æœ‰ç›´æ¥æ•°æ®æ‹·è´
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;SetCookie&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;_w&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Cookie&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¸Šé¢æ˜¯å‡ ä¸ªå‡½æ•°æ˜¯ï¼Œä¼šè¯çš„æ•°æ®æ“ä½œå‡½æ•°ï¼Œ&lt;code&gt;refreshCookie()&lt;/code&gt;æ˜¯ç”¨æ¥åˆ·æ–°æµè§ˆå™¨&lt;code&gt;cookie&lt;/code&gt;ä¿¡æ¯çš„ï¼Œå› ä¸ºæˆ‘åœ¨è®¾è®¡çš„æ—¶å€™åªæœ‰æµè§ˆå™¨æœ‰å¿ƒè·³ä¹Ÿå°±æ˜¯æœ‰æ“ä½œæ•°æ®çš„æ—¶å€™ï¼Œç®¡ç†å™¨å°±é»˜è®¤ä¸ºè¿™ä¸ªæµè§ˆå™¨ä¼šè¯è¿˜æ˜¯æ´»ç€çš„ï¼Œä¼šè‡ªåŠ¨åŒæ­¥æ›´æ–°&lt;code&gt;cookie&lt;/code&gt;è¿‡æœŸæ—¶é—´ï¼Œè¿™ä¸ªæ›´æ–°è¿‡ç¨‹å¯ä¸æ˜¯å…‰åˆ·æ–°&lt;code&gt;cookie&lt;/code&gt;å°±å®Œäº‹çš„äº†ï¼ŒæŒä¹…åŒ–çš„è¯çš„æ•°æ®è¿‡æœŸæ—¶é—´ä¹Ÿä¸€æ ·æ›´æ–°äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Handleræ–¹æ³•&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;46
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// Handler Get session data from the Request
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Handler&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;w&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ResponseWriter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;req&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// ä»è¯·æ±‚é‡Œé¢å–session
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;_w&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;w&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;cookie&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;req&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Cookie&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;mgr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;cfg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Cookie&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;cookie&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;cookie&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Value&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;createSession&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;cookie&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// IDé€šè¿‡ç¼–ç ä¹‹åé•¿åº¦æ˜¯73ä½
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;cookie&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Value&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;73&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ID&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;cookie&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Value&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;mgr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;store&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Read&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;createSession&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;cookie&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

        &lt;span class=&#34;c1&#34;&gt;// é˜²æ­¢webæœåŠ¡å™¨é‡å¯ä¹‹åredisä¼šè¯æ•°æ®è¿˜åœ¨
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;c1&#34;&gt;// ä½†æ˜¯æµè§ˆå™¨cookieæ²¡æœ‰æ›´æ–°
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;c1&#34;&gt;// é‡æ–°åˆ·æ–°cookie
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// å­˜åœ¨æŒ‡é’ˆä¸€è‡´é—®é¢˜ï¼Œè¿™æ ·æ“ä½œè¿˜æ˜¯ä¸€å—å†…å­˜ï¼Œæ‰€æœ‰æˆ‘ä»¬éœ€è¦å¤åˆ¶å‰¯æœ¬
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;nx&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;copy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;mgr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;cfg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Cookie&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Cookie&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Value&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ID&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Cookie&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Expires&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Expires&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;SetCookie&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Cookie&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
	    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
      &lt;span class=&#34;c1&#34;&gt;// åœ°å€ä¸€æ ·ä¸è¡Œï¼ï¼ï¼
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;      &lt;span class=&#34;c1&#34;&gt;// log.Printf(&amp;#34;mgr.cfg.Cookie pointer:%p \n&amp;#34;, mgr.cfg.Cookie)
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;      &lt;span class=&#34;c1&#34;&gt;// log.Printf(&amp;#34;session.cookie pointer:%p \n&amp;#34;, session.Cookie)
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;      &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;createSession&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;w&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ResponseWriter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;cookie&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Cookie&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;c1&#34;&gt;// init session parameter
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;      &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ID&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;generateUUID&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
      &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Expires&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Now&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Add&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;mgr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;cfg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;TimeOut&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
      &lt;span class=&#34;nx&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;mgr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;store&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Create&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

      &lt;span class=&#34;c1&#34;&gt;// é‡ç½®é…ç½®cookieæ¨¡æ¿
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;      &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;copy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;mgr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;cfg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Cookie&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
      &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Cookie&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Value&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ID&lt;/span&gt;
      &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Cookie&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Expires&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Expires&lt;/span&gt;

      &lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;SetCookie&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Cookie&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
      &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;Handler&lt;/code&gt;å‡½æ•°æ˜¯ä»&lt;code&gt;http&lt;/code&gt;è¯·æ±‚é‡Œé¢è¯»å–åˆ°&lt;code&gt;sessionid&lt;/code&gt;ç„¶åä»æŒä¹…åŒ–å±‚è¯»å–æ•°æ®ç„¶åå®ä¾‹åŒ–ä¸€ä¸ª&lt;code&gt;session&lt;/code&gt;ç»“æ„ä½“çš„å‡½æ•°ï¼Œæ²¡æœ‰å•¥å¥½è¯´çš„ï¼Œæ³¨é‡Šå†™ä¸Šé¢äº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å®‰å…¨é˜²å¾¡é—®é¢˜&#34;&gt;
    &lt;a href=&#34;#%e5%ae%89%e5%85%a8%e9%98%b2%e5%be%a1%e9%97%ae%e9%a2%98&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å®‰å…¨é˜²å¾¡é—®é¢˜
&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆæˆ‘è¿˜æ˜¯é‚£å¥è¯ï¼š&lt;code&gt;ä¸æ‡‚æ”»å‡»ï¼Œæ€ä¹ˆåšé˜²å®ˆ&lt;/code&gt;ã€‚
é‚£æˆ‘ä»¬å…ˆè¯´è¯´è¿™ä¸ªé—®é¢˜æ€ä¹ˆäº§ç”Ÿçš„:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;ä¸­é—´äººæ”»å‡»&lt;/code&gt;ï¼ˆ&lt;code&gt;Man-in-the-MiddleAttack&lt;/code&gt;ï¼Œç®€ç§°&lt;code&gt;MITMæ”»å‡»&lt;/code&gt;ï¼‰æ˜¯ä¸€ç§&lt;code&gt;é—´æ¥&lt;/code&gt;çš„å…¥ä¾µæ”»å‡»ï¼Œè¿™ç§æ”»å‡»æ¨¡å¼æ˜¯é€šè¿‡å„ç§æŠ€æœ¯æ‰‹æ®µå°†å—å…¥ä¾µè€…æ§åˆ¶çš„ä¸€å°è®¡ç®—æœºè™šæ‹Ÿæ”¾ç½®åœ¨ç½‘ç»œè¿æ¥ä¸­çš„ä¸¤å°é€šä¿¡è®¡ç®—æœºä¹‹é—´ï¼Œè¿™å°è®¡ç®—æœºå°±ç§°ä¸º&lt;code&gt;ä¸­é—´äºº&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¿™ä¸ªè¿‡ç¨‹ï¼Œæ­£å¸¸ç”¨æˆ·åœ¨é€šè¿‡æµè§ˆå™¨è®¿é—®æˆ‘ä»¬ç¼–å†™çš„ç½‘ç«™ï¼Œä½†æ˜¯è¿™ä¸ªæ—¶å€™æœ‰ä¸ª&lt;code&gt;hack&lt;/code&gt;é€šè¿‡&lt;code&gt;arp&lt;/code&gt;æ¬ºéª—ï¼ŒæŠŠè·¯ç”±å™¨çš„æµé‡åŠ«æŒåˆ°ä»–çš„ç”µè„‘ä¸Šï¼Œç„¶åé»‘å®¢é€šè¿‡ä¸€äº›ç‰¹æ®Šçš„è½¯ä»¶æŠ“åŒ…ä½ çš„ç½‘ç»œè¯·æ±‚æµé‡ä¿¡æ¯ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å¦‚æœä½ &lt;code&gt;sessionid&lt;/code&gt;å¦‚æœå­˜æ”¾åœ¨&lt;code&gt;cookie&lt;/code&gt;ä¸­ï¼Œå¾ˆæœ‰å¯èƒ½è¢«é»‘å®¢æå–å¤„ç†ï¼Œå¦‚æœä½ è¿™ä¸ªæ—¶å€™ç™»å½•äº†ç½‘ç«™ï¼Œè¿™æ˜¯é»‘å®¢å°±æ‹¿åˆ°ä½ çš„ç™»å½•å‡­è¯ï¼Œç„¶ååœ¨ç™»å½•è¿›è¡Œ&lt;code&gt;é‡æ”¾&lt;/code&gt;ä¹Ÿå°±æ˜¯ä½¿ç”¨ä½ çš„&lt;code&gt;sessionid&lt;/code&gt;ï¼Œä»è€Œè¾¾åˆ°è®¿é—®ä½ è´¦æˆ·ç›¸å…³çš„æ•°æ®ç›®çš„ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;MigrateSession&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// è¿ç§»åˆ°æ–°å†…å­˜ é˜²æ­¢ä¼šè¯ä¸€è‡´å¼•å‘å®‰å…¨é—®é¢˜
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// è¿™ä¸ªé—®é¢˜çš„æ ¹æºåœ¨ sessionid ä¸å˜ï¼Œå¦‚æœç”¨æˆ·åœ¨æœªç™»å½•æ—¶æ‹¿åˆ°çš„æ˜¯ä¸€ä¸ª sessionidï¼Œç™»å½•ä¹‹åæœåŠ¡ç«¯ç»™ç”¨æˆ·é‡æ–°æ¢ä¸€ä¸ª sessionidï¼Œå°±å¯ä»¥é˜²æ­¢ä¼šè¯å›ºå®šæ”»å‡»äº†ã€‚
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ID&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;generateUUID&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;newSession&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;deepcopy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Anything&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;errors&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;New&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;migrate session make a deep copy from src into dst failed&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;newSession&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ID&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ID&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;newSession&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Cookie&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Value&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ID&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;newSession&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Expires&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Now&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Add&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;mgr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;cfg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;TimeOut&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;newSession&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;_w&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;_w&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;newSession&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;refreshCookie&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// æ–°å†…å­˜å¼€å§‹æŒä¹…åŒ–
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// log.Printf(&amp;#34;old session pointer:%p \n&amp;#34;, s)
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// log.Printf(&amp;#34;new session pointer:%p \n&amp;#34;, newSession.(*Session))
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;//log.Println(&amp;#34;MigrateSession:&amp;#34;, newSession.(*Session))
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;mgr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;store&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Create&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;newSession&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å¦‚æœå¤§å®¶å†™è¿‡&lt;code&gt;Java&lt;/code&gt;è¯­è¨€ï¼Œéƒ½åº”è¯¥ä½¿ç”¨è¿‡&lt;code&gt;springboot&lt;/code&gt;è¿™ä¸ªæ¡†æ¶ï¼Œå¦‚æœä½ çœ‹è¿‡æºä»£ç ï¼Œé‚£å°±çŸ¥é“è¿™ä¸ªæ¡†æ¶é‡Œé¢çš„&lt;code&gt;session&lt;/code&gt;å®‰å…¨ç­–ç•¥æœ‰ä¸€ä¸ª&lt;code&gt;migrateSession&lt;/code&gt;é€‰é¡¹ï¼Œè¡¨ç¤ºåœ¨ç™»å½•æˆåŠŸä¹‹åï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ä¼šè¯ï¼Œç„¶åè®²æ—§çš„ &lt;code&gt;session&lt;/code&gt; ä¸­çš„ä¿¡æ¯å¤åˆ¶åˆ°æ–°çš„ &lt;code&gt;session&lt;/code&gt; ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘å‚ç…§ä»–çš„ç­–ç•¥ï¼Œä¹ŸåŒæ ·åœ¨æˆ‘è¿™ä¸ªåº“é‡Œé¢å®ç°äº†ï¼Œåœ¨ç”¨æˆ·åŒ¿åè®¿é—®çš„æ—¶å€™æ˜¯ä¸€ä¸ª &lt;code&gt;sessionid&lt;/code&gt;ï¼Œå½“ç”¨æˆ·æˆåŠŸç™»å½•ä¹‹åï¼Œåˆæ˜¯å¦å¤–ä¸€ä¸ª &lt;code&gt;sessionid&lt;/code&gt;ï¼Œè¿™æ ·å°±å¯ä»¥æœ‰æ•ˆé¿å…ä¼šè¯å›ºå®šæ”»å‡»ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨çš„æ—¶å€™ä¹Ÿå¯ä»¥&lt;code&gt;éšæ—¶ä½¿ç”¨é€šè¿‡MigrateSessionè¿›è¡Œè°ƒç”¨&lt;/code&gt;ï¼Œè¿™ä¸ªå‡½æ•°ä¸€ä½†è¢«è°ƒç”¨ï¼ŒåŸå§‹æ•°æ®å’Œ&lt;code&gt;id&lt;/code&gt;å…¨éƒ¨è¢«åˆ·æ–°äº†ï¼Œå†…å­˜åœ°å€ä¹Ÿæ¢äº†ï¼Œå¯ä»¥çœ‹æˆ‘çš„æºä»£ç ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä½¿ç”¨æ¼”ç¤º&#34;&gt;
    &lt;a href=&#34;#%e4%bd%bf%e7%94%a8%e6%bc%94%e7%a4%ba&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    ä½¿ç”¨æ¼”ç¤º
&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;51
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;52
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;53
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;54
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;55
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;56
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;57
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;58
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;59
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;60
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
    &lt;span class=&#34;s&#34;&gt;&amp;#34;fmt&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;s&#34;&gt;&amp;#34;log&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;s&#34;&gt;&amp;#34;net/http&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;s&#34;&gt;&amp;#34;time&amp;#34;&lt;/span&gt;

    &lt;span class=&#34;nx&#34;&gt;sessionx&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;github.com/higker/sesssionx&amp;#34;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// é…ç½®ä¿¡æ¯
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;cfg&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;sessionx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Configs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
          &lt;span class=&#34;nx&#34;&gt;TimeOut&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;        &lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Minute&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;30&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
          &lt;span class=&#34;nx&#34;&gt;RedisAddr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;      &lt;span class=&#34;s&#34;&gt;&amp;#34;127.0.0.1:6379&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
          &lt;span class=&#34;nx&#34;&gt;RedisDB&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;        &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
          &lt;span class=&#34;nx&#34;&gt;RedisPassword&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;  &lt;span class=&#34;s&#34;&gt;&amp;#34;redis.nosql&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
          &lt;span class=&#34;nx&#34;&gt;RedisKeyPrefix&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;sessionx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;SessionKey&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
          &lt;span class=&#34;nx&#34;&gt;PoolSize&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;       &lt;span class=&#34;mi&#34;&gt;100&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
          &lt;span class=&#34;nx&#34;&gt;Cookie&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Cookie&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;nx&#34;&gt;Name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;     &lt;span class=&#34;nx&#34;&gt;sessionx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;SessionKey&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
            &lt;span class=&#34;nx&#34;&gt;Path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;     &lt;span class=&#34;s&#34;&gt;&amp;#34;/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
            &lt;span class=&#34;nx&#34;&gt;Expires&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;  &lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Now&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Add&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Minute&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;30&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// TimeOut
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;nx&#34;&gt;Secure&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;   &lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
            &lt;span class=&#34;nx&#34;&gt;HttpOnly&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// Rè¡¨ç¤ºrediså­˜å‚¨ cfgæ˜¯é…ç½®ä¿¡æ¯
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;	  &lt;span class=&#34;nx&#34;&gt;sessionx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;New&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;sessionx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;R&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;cfg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

    &lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;HandleFunc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/set&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ResponseWriter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;request&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;sessionx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Handler&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Set&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;K&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Now&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Format&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;2006 01-02 15:04:05&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Fprintln&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;set time value succeed.&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;

    &lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;HandleFunc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/get&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ResponseWriter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;request&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;sessionx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Handler&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;K&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Fprintln&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Fprintln&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Sprintf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;The stored value is : %s&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;

    &lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;HandleFunc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/migrate&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ResponseWriter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;request&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;sessionx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Handler&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;MigrateSession&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Println&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Fprintln&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;writer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;ListenAndServe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;:8080&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008eGmZEgy1goyv71f8qdj30a106sdg9.jpg&#34; 
    alt=&#34;å¥åº·æ£€æµ‹&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008eGmZEgy1goyv89devcj312a0f6jt5.jpg&#34; 
    alt=&#34;å¤šé¡¹é›†æˆåŒ–æµ‹è¯•&#34; 
     /&gt;&lt;/p&gt;
&lt;h2 id=&#34;å°-ç»“&#34;&gt;
    &lt;a href=&#34;#%e5%b0%8f-%e7%bb%93&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å° ç»“
&lt;/h2&gt;
&lt;p&gt;æ¨èè¿˜æ˜¯ä½¿ç”¨&lt;code&gt;JWT&lt;/code&gt;è¿™ç§æ–¹å¼åšé‰´æƒï¼Œä¸è¿‡ä¹Ÿæœ‰ä¸€ä½“åŒ–&lt;code&gt;webåº”ç”¨&lt;/code&gt;çš„&lt;code&gt;session&lt;/code&gt;ä¹Ÿä¸ä¼šè¢«è¿™ä¹ˆæ—©æ·˜æ±°ï¼Œå¦‚æœä¸Šé¢æœ‰é—®é¢˜ï¼Œæ¬¢è¿å¤§ä½¬ä»¬&lt;code&gt;pr&lt;/code&gt;ï¼Œè¿˜æœ‰éƒ¨åˆ†ä»£ç æ²¡æœ‰åˆ—å‡ºï¼Œå¯ä»¥å»ä»“åº“çœ‹çœ‹ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç›¸å…³é“¾æ¥&#34;&gt;
    &lt;a href=&#34;#%e7%9b%b8%e5%85%b3%e9%93%be%e6%8e%a5&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    ç›¸å…³é“¾æ¥
&lt;/h2&gt;
&lt;p&gt;ä»£ç ä»“åº“ï¼š&lt;a href=&#34;https://github.com/auula/sessionx&#34;&gt;https://github.com/auula/sessionx&lt;/a&gt;&lt;/p&gt;

    </description>
    </item>
    
    <item>
    <title>Redis Distributed Lock</title>
    <link>http://blog.ibyte.me/post/redis-distributed-lock/</link>
    <pubDate>Thu, 16 Sep 2021 22:37:49 +0800</pubDate>
    
    <guid>http://blog.ibyte.me/post/redis-distributed-lock/</guid>
    <description>
        &lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008eGmZEgy1gpg66tcks2j31900u07wi.jpg&#34; 
    alt=&#34;æœ¬ç¯‡æ–‡ç« è®²Redisç¿»è½¦äº‹ä»¶ğŸ˜œ&#34; 
     /&gt;&lt;/p&gt;
&lt;h2 id=&#34;å‰-è¨€&#34;&gt;
    &lt;a href=&#34;#%e5%89%8d-%e8%a8%80&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å‰ è¨€
&lt;/h2&gt;
&lt;p&gt;è°ˆåˆ°åˆ†å¸ƒå¼åº”ç”¨é‚£å¿…ç„¶ç¦»ä¸å¼€&lt;code&gt;åˆ†å¸ƒå¼é”ğŸ”&lt;/code&gt;çš„é—®é¢˜ï¼Œåˆ†å¸ƒå¼é”åœ¨åˆ†å¸ƒå¼åº”ç”¨ä¸­åº”ç”¨å¹¿æ³›ï¼Œæœ¬æ–‡å°±è®²è®²åŸºäº&lt;code&gt;redis&lt;/code&gt;å®ç°çš„åˆ†å¸ƒå¼é”çš„ä¸€äº›é—®é¢˜ã€‚&lt;/p&gt;
&lt;h2 id=&#34;é”&#34;&gt;
    &lt;a href=&#34;#%e9%94%81&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    é”
&lt;/h2&gt;
&lt;p&gt;å¯èƒ½å„ä½&lt;code&gt;coder&lt;/code&gt;æ¥è§¦æœ€å¤šçš„è¿˜æ˜¯åœ¨å¤šçº¿ç¨‹çš„ç¯å¢ƒä¸‹ï¼Œä¸ºäº†ä¿è¯ä¸€ä¸ªä»£ç å—åœ¨åŒä¸€æ—¶é—´åªèƒ½ç”±ä¸€ä¸ªçº¿ç¨‹è®¿é—®æƒ…å†µï¼Œä¾‹å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1guiuir03juj60ei09bglt02.jpg&#34; 
    alt=&#34;å¤šçº¿ç¨‹ä¸‹çš„é”&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºå•è¿›ç¨‹çš„å¹¶å‘åœºæ™¯ï¼Œå¯ä»¥ä½¿ç”¨ç¼–ç¨‹è¯­è¨€åŠç›¸åº”çš„ç±»åº“æä¾›çš„é”ï¼Œå¦‚&lt;code&gt;Java&lt;/code&gt;ä¸­çš„ &lt;code&gt;synchronized&lt;/code&gt; è¯­æ³•ä»¥åŠ &lt;code&gt;ReentrantLock&lt;/code&gt;ï¼Œ&lt;code&gt;Golang&lt;/code&gt;ä¸­çš„&lt;code&gt;sync&lt;/code&gt;åŒ…ä¸‹é¢çš„&lt;code&gt;mutex&lt;/code&gt;ï¼Œ&lt;code&gt;Rust&lt;/code&gt;ä¸­çš„&lt;code&gt;async_std::sync::Mutex&lt;/code&gt;ï¼Œé¿å…å¹¶å‘é—®é¢˜ï¼Œè¿™å®é™…ä¸Šæ˜¯æœ¬åœ°é”çš„æ–¹å¼ã€‚&lt;/p&gt;
&lt;h2 id=&#34;åˆ†å¸ƒå¼é”&#34;&gt;
    &lt;a href=&#34;#%e5%88%86%e5%b8%83%e5%bc%8f%e9%94%81&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    åˆ†å¸ƒå¼é”
&lt;/h2&gt;
&lt;p&gt;ä½†æ˜¯ç°åœ¨æµè¡Œçš„åˆ†å¸ƒå¼æ¶æ„ï¼Œåœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸‹ï¼Œå¦‚ä½•ä¿è¯ä¸åŒèŠ‚ç‚¹çš„çº¿ç¨‹åŒæ­¥æ‰§è¡Œå‘¢ï¼Ÿæˆ–è€…å…±äº«èµ„æºæ€ä¹ˆä¸Šé”å‘¢ï¼Ÿï¼Ÿï¼Ÿ&lt;/p&gt;
&lt;p&gt;åœ¨å°†åº”ç”¨æ‹†åˆ†ä¸ºåˆ†å¸ƒå¼åº”ç”¨ä¹‹å‰çš„å•æœºç³»ç»Ÿä¸­ï¼Œå¯¹ä¸€äº›å¹¶å‘åœºæ™¯è¯»å–å…¬å…±èµ„æºæ—¶å¦‚æ‰£åº“å­˜ï¼Œå–è½¦ç¥¨ä¹‹ç±»çš„éœ€æ±‚å¯ä»¥ç®€å•çš„ä½¿ç”¨åŒæ­¥æˆ–è€…æ˜¯åŠ é”å°±å¯ä»¥å®ç°ï¼Œä½†æ˜¯åº”ç”¨åˆ†å¸ƒå¼äº†ä¹‹åç³»ç»Ÿç”±ä»¥å‰çš„å•è¿›ç¨‹å¤šçº¿ç¨‹çš„ç¨‹åºå˜ä¸ºäº†å¤šè¿›ç¨‹å¤šçº¿ç¨‹ï¼Œè¿™æ—¶ä½¿ç”¨ä»¥ä¸Šçš„è§£å†³æ–¹æ¡ˆæ˜æ˜¾å°±ä¸å¤Ÿäº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1guiuj3dovnj60ek0e8aab02.jpg&#34; 
    alt=&#34;åˆ†å¸ƒå¼æ¶æ„ä¸‹&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸€èˆ¬ä¸šç•Œæœ‰å‡ ç§è§£å†³æ–¹:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŸºäº &lt;code&gt;DB&lt;/code&gt; çš„å”¯ä¸€ç´¢å¼•&lt;/li&gt;
&lt;li&gt;åŸºäº &lt;code&gt;Memcached&lt;/code&gt;çš„&lt;code&gt; add å‘½ä»¤&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åŸºäº &lt;code&gt;Zookeeper&lt;/code&gt; çš„ä¸´æ—¶æœ‰åºèŠ‚ç‚¹&lt;/li&gt;
&lt;li&gt;åŸºäº &lt;code&gt;Redis&lt;/code&gt; çš„&lt;code&gt;NX EX&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åŸºäº&lt;code&gt;Chubby&lt;/code&gt;ç²—ç²’åº¦åˆ†å¸ƒå¼é”æœåŠ¡&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;redisçš„å‘ä½ å¡«äº†å‡ ä¸ª&#34;&gt;
    &lt;a href=&#34;#redis%e7%9a%84%e5%9d%91%e4%bd%a0%e5%a1%ab%e4%ba%86%e5%87%a0%e4%b8%aa&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    Redisçš„å‘ä½ å¡«äº†å‡ ä¸ªï¼Ÿ
&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;å¦‚æœåœ¨åˆ†å¸ƒå¼åœºæ™¯ä¸­ï¼Œå®ç°ä¸åŒå®¢æˆ·ç«¯çš„çº¿ç¨‹å¯¹ä»£ç å’Œèµ„æºçš„åŒæ­¥è®¿é—®ï¼Œä¿è¯åœ¨å¤šçº¿ç¨‹ä¸‹å¤„ç†å…±äº«æ•°æ®çš„å®‰å…¨æ€§ï¼Œå°±éœ€è¦ç”¨åˆ°åˆ†å¸ƒå¼é”æŠ€æœ¯ï¼Œæˆ‘å°±æ¥å†™å†™åŸºäº&lt;code&gt;Redis&lt;/code&gt;çš„ä¸€äº›å‘ğŸ˜ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨åˆ†å¸ƒå¼æ—¶ï¼Œåœ¨ç¨‹åºä¸­ä¿®æ”¹å·²æœ‰æ•°æ®æ—¶ï¼Œéœ€è¦å…ˆè¯»å–ï¼Œç„¶åè¿›è¡Œä¿®æ”¹ä¿å­˜ï¼Œæ­¤æ—¶å¾ˆå®¹æ˜“é‡åˆ°å¹¶å‘é—®é¢˜ã€‚ç”±äºä¿®æ”¹å’Œä¿å­˜ä¸æ˜¯åŸå­æ“ä½œï¼Œåœ¨å¹¶å‘åœºæ™¯ä¸‹ï¼Œéƒ¨åˆ†å¯¹æ•°æ®çš„æ“ä½œå¯èƒ½ä¼šä¸¢å¤±ï¼Œæœ¬åœ°é”æ— æ³•åœ¨å¤šä¸ªæœåŠ¡å™¨ä¹‹é—´ç”Ÿæ•ˆï¼Œè¿™æ—¶å€™ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§å°±éœ€è¦åˆ†å¸ƒå¼é”æ¥å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1guiujdxgu2j60l70if75702.jpg&#34; 
    alt=&#34;å¹¶è¡Œæ“ä½œRedisç¤ºæ„å›¾&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Redis&lt;/code&gt; é”ä¸»è¦åˆ©ç”¨ &lt;code&gt;Redis&lt;/code&gt; çš„ &lt;code&gt;setnx&lt;/code&gt; å‘½ä»¤å®ç°ï¼Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŠ é”å‘½ä»¤ï¼š&lt;code&gt;SETNX key value&lt;/code&gt;ï¼Œå½“é”®ä¸å­˜åœ¨æ—¶ï¼Œå¯¹é”®è¿›è¡Œè®¾ç½®æ“ä½œå¹¶è¿”å›æˆåŠŸï¼Œå¦åˆ™è¿”å›å¤±è´¥,&lt;code&gt;KEY&lt;/code&gt; æ˜¯é”çš„å”¯ä¸€æ ‡è¯†ï¼Œä¸€èˆ¬æŒ‰ä¸šåŠ¡æ¥å†³å®šå‘½åã€‚&lt;/li&gt;
&lt;li&gt;è§£é”å‘½ä»¤ï¼š&lt;code&gt;DEL key&lt;/code&gt;ï¼Œé€šè¿‡åˆ é™¤é”®å€¼å¯¹é‡Šæ”¾é”ï¼Œä»¥ä¾¿å…¶ä»–çº¿ç¨‹å¯ä»¥é€šè¿‡ &lt;code&gt;SETNX&lt;/code&gt; å‘½ä»¤æ¥è·å–é”ã€‚&lt;/li&gt;
&lt;li&gt;é”è¶…æ—¶ï¼š&lt;code&gt;EXPIRE key timeout&lt;/code&gt;, è®¾ç½® &lt;code&gt;key&lt;/code&gt; çš„è¶…æ—¶æ—¶é—´ï¼Œä»¥ä¿è¯å³ä½¿é”æ²¡æœ‰è¢«æ˜¾å¼é‡Šæ”¾ï¼Œé”ä¹Ÿå¯ä»¥åœ¨ä¸€å®šæ—¶é—´åè‡ªåŠ¨é‡Šæ”¾ï¼Œé¿å…èµ„æºè¢«æ°¸è¿œé”ä½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// ä¼ªä»£ç å®ç°
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;fn&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;: &lt;span class=&#34;kp&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;str&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;sync_lock&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;up_lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// è®¾ç½®è¶…æ—¶
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;expire&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;30&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// .....ä¸šåŠ¡é€»è¾‘
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// åŸºäºredis SETNX å’Œ EXPIRE çš„å®ç°ï¼Œé—®é¢˜ä»£ç 
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;fn&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;up_lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;: &lt;span class=&#34;kp&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;num&lt;/span&gt;: &lt;span class=&#34;kt&#34;&gt;i8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-&amp;gt; &lt;span class=&#34;kt&#34;&gt;i8&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// ..... ä¸Šé”é€»è¾‘
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;fn&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;expire&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;: &lt;span class=&#34;kp&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;num&lt;/span&gt;: &lt;span class=&#34;kt&#34;&gt;i8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// ... è‡ªå®šä¹‰è¶…æ—¶
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å†™å®Œè¿™ä¹ˆä¸€çœ‹è¿˜æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œå…¶å®ä¸Šé¢ğŸ•³å‘å¤§ç€å‘¢ï¼ï¼ï¼å¦‚æœä½ æ˜¯è¿™ä¹ˆå»å®ç°çš„ï¼Œé‚£ç¬”è€…æ­å–œä½ ï¼Œä½ æ‰å‘é‡Œäº†ğŸ˜œï¼ˆPS:è¿™é‡Œä¸æ˜¯ä»£ç é—®é¢˜å¯¼è‡´çš„ï¼Œè€Œæ˜¯&lt;code&gt;SETNX&lt;/code&gt; å’Œ &lt;code&gt;EXPIRE&lt;/code&gt; éåŸå­æ€§å¯¼è‡´çš„ï¼‰ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;SETNX&lt;/code&gt; å’Œ &lt;code&gt;EXPIRE&lt;/code&gt; éåŸå­æ€§&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1guiujq53mxj60qm08c0t102.jpg&#34; 
    alt=&#34;è¿‡ç¨‹&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœ &lt;code&gt;SETNX&lt;/code&gt; æˆåŠŸï¼Œåœ¨è®¾ç½®é”è¶…æ—¶æ—¶é—´åï¼ŒæœåŠ¡å™¨æŒ‚æ‰ã€é‡å¯æˆ–ç½‘ç»œé—®é¢˜ç­‰ï¼Œå¯¼è‡´ &lt;code&gt;EXPIRE&lt;/code&gt; å‘½ä»¤æ²¡æœ‰æ‰§è¡Œï¼Œé”æ²¡æœ‰è®¾ç½®è¶…æ—¶æ—¶é—´å˜æˆæ­»é”ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;é”è¯¯è§£é™¤&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¦‚æœçº¿ç¨‹ &lt;code&gt;A&lt;/code&gt; æˆåŠŸè·å–åˆ°äº†é”ï¼Œå¹¶ä¸”è®¾ç½®äº†è¿‡æœŸæ—¶é—´&lt;code&gt; 30&lt;/code&gt; ç§’ï¼Œä½†çº¿ç¨‹ &lt;code&gt;A &lt;/code&gt;æ‰§è¡Œæ—¶é—´è¶…è¿‡äº† &lt;code&gt;30&lt;/code&gt; ç§’ï¼Œé”è¿‡æœŸè‡ªåŠ¨é‡Šæ”¾ï¼Œæ­¤æ—¶çº¿ç¨‹&lt;code&gt; B&lt;/code&gt; è·å–åˆ°äº†é”ï¼›éšå &lt;code&gt;A&lt;/code&gt; æ‰§è¡Œå®Œæˆï¼Œçº¿ç¨‹ &lt;code&gt;A&lt;/code&gt; ä½¿ç”¨ &lt;code&gt;DEL&lt;/code&gt; å‘½ä»¤æ¥é‡Šæ”¾é”ï¼Œä½†æ­¤æ—¶çº¿ç¨‹ &lt;code&gt;B&lt;/code&gt; åŠ çš„é”è¿˜æ²¡æœ‰æ‰§è¡Œå®Œæˆï¼Œçº¿ç¨‹&lt;code&gt;A&lt;/code&gt;å®é™…é‡Šæ”¾çš„çº¿ç¨‹æ˜¯ &lt;code&gt;B&lt;/code&gt; åŠ çš„é”ï¼Œä»è€Œå¯¼è‡´é”æ··ä¹±ï¼Œç„¶åå¯¼è‡´å®é™…é€»è¾‘ä»£ç æ··ä¹±å’Œä¹ƒè‡³å…³é”®æ•°æ®ä¸¢å¤±ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;è¶…æ—¶è§£é”å¯¼è‡´å¹¶å‘&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¦‚æœçº¿ç¨‹ &lt;code&gt;A&lt;/code&gt; æˆåŠŸè·å–é”å¹¶è®¾ç½®è¿‡æœŸæ—¶é—´ &lt;code&gt;30&lt;/code&gt; ç§’ï¼Œä½†çº¿ç¨‹ &lt;code&gt;A&lt;/code&gt; æ‰§è¡Œæ—¶é—´è¶…è¿‡äº† &lt;code&gt;30&lt;/code&gt; ç§’ï¼Œé”è¿‡æœŸè‡ªåŠ¨é‡Šæ”¾ï¼Œæ­¤æ—¶çº¿ç¨‹ &lt;code&gt;B&lt;/code&gt; è·å–åˆ°äº†é”ï¼Œçº¿ç¨‹ &lt;code&gt;A&lt;/code&gt; å’Œçº¿ç¨‹ &lt;code&gt;B&lt;/code&gt; å¹¶å‘æ‰§è¡Œï¼Œé‚£å°±æ²¡æœ‰åˆ†å¸ƒå¼é”å­˜åœ¨çš„æ„ä¹‰äº†ğŸ¤·â€ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å°†è¿‡æœŸæ—¶é—´è®¾ç½®è¶³å¤Ÿé•¿ï¼Œç¡®ä¿ä»£ç é€»è¾‘åœ¨é”é‡Šæ”¾ä¹‹å‰èƒ½å¤Ÿæ‰§è¡Œå®Œæˆã€‚&lt;/li&gt;
&lt;li&gt;ä¸ºè·å–é”çš„çº¿ç¨‹å¢åŠ å®ˆæŠ¤çº¿ç¨‹ï¼Œä¸ºå°†è¦è¿‡æœŸä½†æœªé‡Šæ”¾çš„é”å¢åŠ æœ‰æ•ˆæ—¶é—´ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;ä¸å¯é‡å…¥&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å½“çº¿ç¨‹åœ¨æŒæœ‰é”çš„æƒ…å†µä¸‹å†æ¬¡è¯·æ±‚åŠ é”ï¼Œå¦‚æœä¸€ä¸ªé”æ”¯æŒä¸€ä¸ªçº¿ç¨‹å¤šæ¬¡åŠ é”ï¼Œé‚£ä¹ˆè¿™ä¸ªé”å°±æ˜¯å¯é‡å…¥çš„ï¼Œå¦‚æœä¸€ä¸ªä¸å¯é‡å…¥é”è¢«å†æ¬¡åŠ é”ï¼Œç”±äºè¯¥é”å·²ç»è¢«æŒæœ‰ï¼Œå†æ¬¡åŠ é”ä¼šå¤±è´¥ã€‚&lt;code&gt;Redis&lt;/code&gt; å¯é€šè¿‡å¯¹é”è¿›è¡Œé‡å…¥è®¡æ•°ï¼ŒåŠ é”æ—¶åŠ  &lt;code&gt;1&lt;/code&gt;ï¼Œè§£é”æ—¶å‡ &lt;code&gt;1&lt;/code&gt;ï¼Œå½“è®¡æ•°å½’ &lt;code&gt;0&lt;/code&gt; æ—¶é‡Šæ”¾é”ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å°-ç»“&#34;&gt;
    &lt;a href=&#34;#%e5%b0%8f-%e7%bb%93&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å° ç»“
&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;Redis&lt;/code&gt;æ˜¯ä¸ªé«˜æ€§èƒ½çš„ä¸­é—´ä»¶ï¼Œä½†æ˜¯å¦‚æœç”¨åœ¨åˆ†å¸ƒå¼é”ä¸Šå®ç°ä¾ç„¶å­˜åœ¨é—®é¢˜ï¼Œæˆ‘åœ¨ä¸€äº›ç½‘ç»œæ–‡ç« çœ‹åˆ°å¾ˆå¤šäººå¤§éƒ¨åˆ†éƒ½æ˜¯ç”¨&lt;code&gt;redis&lt;/code&gt;æ¥è§£å†³åˆ†å¸ƒå¼é”é—®é¢˜ï¼Œå¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©åˆ°ä½ ï¼Œè®°å¾—ç‚¹ä¸ªå…³æ³¨ï¼ï¼&lt;/p&gt;

    </description>
    </item>
    
    <item>
    <title>Alibaba Hot Ring Perceive</title>
    <link>http://blog.ibyte.me/post/alibaba-hot-ring/</link>
    <pubDate>Thu, 16 Sep 2021 22:27:07 +0800</pubDate>
    
    <guid>http://blog.ibyte.me/post/alibaba-hot-ring/</guid>
    <description>
        &lt;h2 id=&#34;ç›´å¥”è¯é¢˜-hotringå°‘è¯´åºŸè¯&#34;&gt;
    &lt;a href=&#34;#%e7%9b%b4%e5%a5%94%e8%af%9d%e9%a2%98-hotring%e5%b0%91%e8%af%b4%e5%ba%9f%e8%af%9d&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    ğŸ‘¨â€ğŸ’»â€ï¼šç›´å¥”è¯é¢˜ HotRingï¼Œå°‘è¯´åºŸè¯ã€‚
&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;å»å¹´é˜¿é‡Œçš„&lt;code&gt;Tair&lt;/code&gt;å›¢é˜Ÿå‘è¡¨è¿‡ä¸€ç¯‡è®ºæ–‡&lt;code&gt;HotRing: A Hotspot-Aware In-Memory Key-Value Store&lt;/code&gt;ï¼Œè¿™ç¯‡è®ºæ–‡é‡Œé¢è®²è¿°äº†é˜¿é‡Œçš„æœ€å¿«çš„&lt;code&gt;KV&lt;/code&gt;åˆ†å¸ƒå¼å­˜å‚¨å¼•æ“æ ¸å¿ƒ&lt;code&gt;HotRing&lt;/code&gt;çš„æŠ€æœ¯ä¸å®ç°ï¼Œæˆ‘çœ‹äº†ä»–ä»¬çš„æ•°æ®æ˜¾ç¤ºå…¶å¼•æ“ååæ€§èƒ½å¯è¾¾&lt;code&gt;600M ops/s&lt;/code&gt;ï¼Œè¿™ä¸ªé€Ÿåº¦æ¯”ä¼ ç»Ÿçš„&lt;code&gt;KVS&lt;/code&gt;ç³»ç»Ÿ&lt;code&gt;2.58&lt;/code&gt;å€çš„æ€§èƒ½æå‡ï¼Œäºæ˜¯æˆ‘å°±æŠ±ç€å¥½å¥‡å»çœ‹çœ‹äº†é‚£ç¯‡è®ºæ–‡ç„¶åå°±æœ‰è¿™ç¯‡æ–‡ç« ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;-æœ‰é—®é¢˜å°±æœ‰æ•…äº‹&#34;&gt;
    &lt;a href=&#34;#-%e6%9c%89%e9%97%ae%e9%a2%98%e5%b0%b1%e6%9c%89%e6%95%85%e4%ba%8b&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    ğŸ‘¨â€ğŸ’»â€ï¼š æœ‰é—®é¢˜å°±æœ‰æ•…äº‹ï¼Ÿ
&lt;/h2&gt;
&lt;p&gt;ä¸€ä¸ªæ–°ä¸œè¥¿æˆ–è€…æŠ€æœ¯å‡ºç°ï¼Œé‚£å°±è¯´æ˜è€çš„é‚£å¥—æ–¹æ¡ˆæŠ€æœ¯å­˜åœ¨æŸç§ç¼ºé™·æˆ–è€…æ»¡è¶³ä¸äº†&lt;code&gt;æŸç§&lt;/code&gt;çš„ç‰¹æ®Šéœ€æ±‚äº†&amp;hellip;&amp;hellip;&lt;/p&gt;
&lt;p&gt;é—®é¢˜åŠ¨æœºå°±æ˜¯ï¼šæŸä¸€æ—¶åˆ»æµé‡ä¸Šæ¥äº†ï¼Œç³»ç»Ÿæ‰›ä¸ä½äº†&amp;hellip;  åªè¦è¯´åˆ°é«˜å¹¶å‘ï¼Œç›¸ä¿¡è¿™ä¸ªå›ç­”å å¤§å¤šæ•°ã€‚&lt;code&gt;HotRing&lt;/code&gt;çš„å‡ºç°ä¹Ÿæ˜¯è¿™ä¸ªåŸå› ï¼ŒçœŸçš„æ˜¯&lt;code&gt;é¢å‘é—®é¢˜ç¼–ç¨‹&lt;/code&gt;ğŸ˜œã€‚ã€‚ã€‚æŒ–æ§½ï¼ŒçœŸçš„éªŒè¯è¿™å¥è¯äº†ã€‚ã€‚ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1guiu9ot0gyj60u00j5wg302.jpg&#34; 
    alt=&#34;ä¼ ç»Ÿçš„kvs&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;è¿™å¼ å›¾å°±æ˜¯ä¼ ç»Ÿçš„&lt;code&gt;kvs&lt;/code&gt;æ¶æ„å›¾ï¼Œä¸ç®¡ä½ ä¸­é—´çš„é‚£ä¸€å±‚ç”¨ä»€ä¹ˆï¼Œåœ¨æŸäº›æ—¶åˆ»ï¼Œç¼“å­˜ç³»ç»Ÿè¿æ¥å·¨å¤§çš„è®¿é—®é‡ï¼ˆ&lt;code&gt;åŒ11ç§’æ€&lt;/code&gt;ï¼‰ï¼Œå¯èƒ½å­˜åœ¨&lt;code&gt;è®¿é—®å€¾æ–œ&lt;/code&gt;(&lt;code&gt;ä»€ä¹ˆï¼Ÿä½ é—®æˆ‘ä»€ä¹ˆæ˜¯è®¿é—®å€¾æ–œï¼Œå¥½å§ä½ ä¸é€‚åˆç¼–ç¨‹ã€‚ğŸ˜œ&lt;/code&gt;)ï¼Œå¤§å¤šæ•°è®¿é—®é›†ä¸­åœ¨æå°‘æ•°æ•°æ®ä¸Šï¼ˆä¾‹å¦‚&lt;code&gt;å¾®åšçƒ­ç‚¹äº‹ä»¶&lt;/code&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºé›†ç¾¤çº§åˆ«çš„çƒ­ç‚¹ç›‘æµ‹å€å—é‡è§†ï¼Œå¦‚&lt;code&gt;ä¸€è‡´æ€§ Hash&lt;/code&gt;ï¼ŒæŸä¸ªèŠ‚ç‚¹ä¸Šçš„æ•°æ®è¢«è¯»å†™è®¿é—®æ¬¡æ•°è¿œè¿œé«˜å‡ºå…¶ä»–èŠ‚ç‚¹ï¼Œå¯¹æ­¤ç±»è¡Œä¸ºæ²¡æœ‰å¾ˆå¥½çš„ç›‘æµ‹åˆ°ã€‚&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰å•æœºçƒ­é—®é¢˜ä¸Šæ²¡æœ‰ä¼˜åŒ–ï¼Œä¾‹å¦‚è®¡ç®—æœºå†…å­˜çš„&lt;code&gt;KV&lt;/code&gt;å­˜å‚¨çƒ­ç‚¹å’ŒæŸ¥è¯¢é€Ÿåº¦æ²¡æœ‰ä¼˜åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1guiua7v46yj60u00ifgo402.jpg&#34; 
    alt=&#34;å­˜å‚¨é‡‘å­—å¡”&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªå¥½çš„å­˜å‚¨è¿™äº›äº‹æƒ…éƒ½æ˜¯å¿…é¡»å»åšçš„ï¼Œä»ä¸Šåˆ°ä¸‹ï¼Œä»ä¸‹åˆ°ä¸Šï¼Œæ¯å±‚éƒ½åœ¨è§£å†³ä¸€éƒ¨åˆ†é—®é¢˜ï¼Œæ€»å’Œå°±æ˜¯ä¸€ä¸ªå¤§çš„é—®é¢˜ï¼Œå¦‚æœä½ ä¸èƒ½æŠŠé—®é¢˜æ‹†æˆå°é—®é¢˜ï¼Œé‚£ä½ é‚£ä¸ªé—®é¢˜ä¸ä¸€å®šèƒ½è§£å†³çš„å¥½ï¼Œä¾‹å¦‚&lt;code&gt;CPU Cacheã€LevelDB&lt;/code&gt;çš„è®¾è®¡ã€‚&lt;/p&gt;
&lt;h2 id=&#34;hotring-å¹²äº†ä»€ä¹ˆ&#34;&gt;
    &lt;a href=&#34;#hotring-%e5%b9%b2%e4%ba%86%e4%bb%80%e4%b9%88&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    ğŸ‘¨â€ğŸ’»â€ï¼šHotRing å¹²äº†ä»€ä¹ˆï¼Ÿï¼Ÿï¼Ÿ
&lt;/h2&gt;
&lt;p&gt;ç°æœ‰æŠ€æœ¯ï¼Œå†…å­˜ &lt;code&gt;KVS&lt;/code&gt; å¯¹æ—¶å»¶è¦æ±‚æ˜¯å¾ˆé«˜çš„ï¼Œä¸€ä¸ªåœ¨å¹¶å‘ä¸­æ— é”çš„æ•°æ®ç»“æ„å°¤ä¸ºé‡è¦ï¼Œç„¶åå°±æ˜¯ä¸€ä¸ªèƒ½è®©çƒ­ç‚¹æ•°æ®èƒ½è‡ªæˆ‘è·‘åˆ°æœ€å®¹æ˜“è®¿é—®çš„åœ°æ–¹æé«˜è¯»å–é€Ÿåº¦çš„ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;çƒ­ç‚¹æ˜¯åŠ¨æ€å˜åŒ–çš„ï¼Œå¦‚ä½•æ£€æµ‹ï¼Œå¦‚ä½•è½¬ç§»?&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™ä¸ªé—®é¢˜æ˜¯é€ƒä¸å¼€çš„ï¼Œåœ¨&lt;code&gt;HotRing&lt;/code&gt;çš„è®¾è®¡ï¼Œè®ºæ–‡ä¸­æåˆ°äº†ä¸€ä¸ªæ¦‚å¿µå°±æ˜¯&lt;code&gt;æœ‰åºç¯&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1guiuap7e6rj61780hqdhu02.jpg&#34; 
    alt=&#34;Hotring&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;å®ƒåšäº†ä»€ä¹ˆï¼Ÿçœ‹å¾—æ‡‚ä¸Šå›¾å°±èƒ½çœ‹å‡ºæ¥ï¼Œä»–æŠŠä¼ ç»Ÿçš„&lt;code&gt;Map&lt;/code&gt;çš„åº•å±‚çš„å­˜å‚¨&lt;code&gt;é“¾è¡¨+æ•°ç»„&lt;/code&gt;ç»“æ„æ¢æˆäº†ä¸€ä¸ª&lt;code&gt;ç¯å½¢é“¾ç»“æ„&lt;/code&gt;ï¼Œç„¶åé€šè¿‡&lt;code&gt;head&lt;/code&gt;è‡ªç”±çš„æ§åˆ¶æŒ‡å‘å“ªä¸€ä¸ªèŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1guiuby6kl8j615a0higmd02.jpg&#34; 
    alt=&#34;headæŒ‡é’ˆ&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;ä¼ ç»Ÿçš„ç»“æ„å¯èƒ½ä½ çš„æ•°æ®åœ¨æœ€åä¸€å±‚æˆ–è€…æ•°æ®éå¸¸å¤šï¼Œç¨‹åºåªèƒ½é€šè¿‡&lt;code&gt;head&lt;/code&gt;é¡ºåºæŸ¥æ‰¾ï¼Œæ—¶é—´å¤æ‚åº¦&lt;code&gt;O(n)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è€Œç¯å½¢çš„ç»“æ„ï¼Œé¿å…å¤šæ¬¡éå†å¸Œæœ›æŠŠçƒ­ç‚¹æ•°æ®æ”¾åœ¨å†²çªé“¾å‰é¢ï¼Œä¼ ç»Ÿçš„åˆ™éœ€è¦ä¸æ–­ä¿®æ”¹èŠ‚ç‚¹ï¼Œéœ€è¦ä¸æ–­ç§»åŠ¨èŠ‚ç‚¹ï¼Œå¿…é¡»ä»å¤´èŠ‚ç‚¹å¼€å§‹ï¼Œåˆ°å°¾èŠ‚ç‚¹ç»ˆæ­¢ã€‚ç§»åŠ¨å¤´æŒ‡é’ˆçš„æƒ…å†µä¸‹ï¼Œä¼šå¯¼è‡´ä¸€äº›èŠ‚ç‚¹æ— æ³•è¢«è®¿é—®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1guiuch2mb8j60nc06amx902.jpg&#34; 
    alt=&#34;ä¼ ç»Ÿ&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;ç§»åŠ¨çƒ­ç‚¹ä¸æ–¹ä¾¿ï¼Œéœ€è¦æŠŠä¸­é—´èŠ‚ç‚¹ç§»åŠ¨åˆ°å¤´èŠ‚ç‚¹å»ï¼Œç§»åŠ¨é“¾è¡¨ä¸­çš„èŠ‚ç‚¹å¾ˆå¤æ‚ä¸”éš¾ä»¥åšåˆ°æ— é”å¹¶å‘ï¼Œå°±ä¸Šå›¾è¿™ä¸ªæ“ä½œå°±è¦3æ­¥ã€‚&lt;/p&gt;
&lt;p&gt;æ”¹æˆç¯é“¾ï¼Œ&lt;code&gt;Head&lt;/code&gt;å¯ä»¥æŒ‡å‘ä»»æ„èŠ‚ç‚¹ï¼Œå³ä»ä»»æ„èŠ‚ç‚¹å¼€å§‹éå†ï¼Œç„¶åè¿˜èƒ½å¯¹æ•°æ®è¿›è¡Œæ’åºã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1guiucst2v1j611g0h6q4o02.jpg&#34; 
    alt=&#34;ä¸ºä»€ä¹ˆæœ‰åº&#34; 
     /&gt;&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;ä¸ºä»€ä¹ˆæœ‰åº???&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™ä¸ªå°±å±äºç¯é“¾çš„ç‰¹ç‚¹äº†ï¼Œæ²¡æœ‰ç»ˆç»“ç‚¹ï¼Œå¦‚æœæŸ¥æ‰¾å€¼ä¸å­˜åœ¨ï¼Œæ— æ³•åˆ¤æ–­ä½•æ—¶ç»ˆç»“ã€‚æ”¹æˆæœ‰åºçš„äº†ï¼Œå¯ä»¥æ ¹æ®å‰åé¡¹çš„å…³ç³»åˆ¤æ–­æ˜¯å¦ç»ˆç»“æœ¬æ¬¡æŸ¥è¯¢ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1guiud5dossj60ls09qt9602.jpg&#34; 
    alt=&#34;æ¨å¯¼æ•°å­¦å…¬å¼&#34; 
     /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‰é©±èŠ‚ç‚¹ &amp;lt; å¾…æŸ¥æ‰¾èŠ‚ç‚¹ &amp;lt;åé©±èŠ‚ç‚¹ miss&lt;/li&gt;
&lt;li&gt;å‰é©±èŠ‚ç‚¹ &amp;gt; åé©±èŠ‚ç‚¹ &amp;amp;&amp;amp; å¾…æŸ¥æ‰¾èŠ‚ç‚¹ &amp;lt; åé©±èŠ‚ç‚¹ miss&lt;/li&gt;
&lt;li&gt;å‰é©±èŠ‚ç‚¹ &amp;gt; åé©±èŠ‚ç‚¹  &amp;amp;&amp;amp; å¾…æŸ¥æ‰¾èŠ‚ç‚¹ &amp;gt; å‰é©±èŠ‚ç‚¹ miss&lt;/li&gt;
&lt;li&gt;å¾…æŸ¥æ‰¾èŠ‚ç‚¹ == èŠ‚ç‚¹ K hit&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ’åºçš„è¿‡ç¨‹å°±æ˜¯åˆ©ç”¨&lt;code&gt;key&lt;/code&gt;æ’åºå¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè‹¥ç›®æ ‡&lt;code&gt;key&lt;/code&gt;ä»‹äºè¿ç»­ä¸¤ä¸ª&lt;code&gt;item&lt;/code&gt;çš„&lt;code&gt;key&lt;/code&gt;ä¹‹é—´ï¼Œè¯´æ˜ä¸º&lt;code&gt;read miss&lt;/code&gt;æ“ä½œï¼Œå³å¯ç»ˆæ­¢è¿”å›ã€‚ç”±äºå®é™…ç³»ç»Ÿä¸­ï¼Œæ•°æ®&lt;code&gt;key&lt;/code&gt;çš„å¤§å°é€šå¸¸ä¸º&lt;code&gt;10~100B&lt;/code&gt;ï¼Œæ¯”è¾ƒä¼šå¸¦æ¥å·¨å¤§çš„å¼€é”€ã€‚å“ˆå¸Œç»“æ„åˆ©ç”¨&lt;code&gt;tag&lt;/code&gt;æ¥å‡å°‘&lt;code&gt;key&lt;/code&gt;çš„æ¯”è¾ƒå¼€é”€ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1guiug961wuj60mj0gc3z102.jpg&#34; 
    alt=&#34;ç»“æ„å›¾&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;tag&lt;/code&gt;æ˜¯å“ˆå¸Œå€¼çš„ä¸€éƒ¨åˆ†ï¼Œæ¯ä¸ª&lt;code&gt;key&lt;/code&gt;è®¡ç®—çš„å“ˆå¸Œå€¼ï¼Œå‰kä½ç”¨æ¥å“ˆå¸Œè¡¨çš„å®šä½ï¼Œån-kä½ä½œä¸ºå†²çªé“¾ä¸­è¿›ä¸€æ­¥åŒºåˆ†&lt;code&gt;key&lt;/code&gt;çš„æ ‡å¿—ã€‚ä¸ºäº†å‡å°æ’åºå¼€é”€ï¼Œæˆ‘ä»¬æ„å»ºå­—å…¸åºï¼š&lt;code&gt;order = (tag, key)&lt;/code&gt;ï¼Œå…ˆæ ¹æ®&lt;code&gt;tag&lt;/code&gt;è¿›è¡Œæ’åºï¼Œ&lt;code&gt;tag&lt;/code&gt;ç›¸åŒå†æ ¹æ®&lt;code&gt;key&lt;/code&gt;è¿›è¡Œæ’åºã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1guiufzy0kqj60u00lsac102.jpg&#34; 
    alt=&#34;å¯¹æ¯”å›¾&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;æœ‰äº†è¿™äº›æ¡ä»¶ï¼Œ&lt;code&gt;HotRing&lt;/code&gt;å°±æ˜¯å¯æ§çš„äº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;çƒ­ç‚¹æ•°æ®è·Ÿè¸ª&#34;&gt;
    &lt;a href=&#34;#%e7%83%ad%e7%82%b9%e6%95%b0%e6%8d%ae%e8%b7%9f%e8%b8%aa&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    ğŸ”¥ï¼šçƒ­ç‚¹æ•°æ®è·Ÿè¸ª
&lt;/h2&gt;
&lt;p&gt;ç”±äºåœ¨ä¸åŒçš„æ—¶é—´é‡Œï¼Œçƒ­ç‚¹æ•°æ®éƒ½æ˜¯ä¸åœå˜åŒ–çš„ï¼Œå¯èƒ½&lt;code&gt;t1-t2&lt;/code&gt;è¿™ä¸ªæ—¶é—´æ®µçƒ­çš„æ•°æ®å¯èƒ½æ˜¯åœ¨&lt;code&gt;n1&lt;/code&gt;èŠ‚ç‚¹ä¸Šï¼Œåœ¨&lt;code&gt;t&lt;/code&gt;æ®µæ•°æ®åæœ‰å‘ç”Ÿäº†å˜åŒ–åœ¨&lt;code&gt;n2&lt;/code&gt;èŠ‚ç‚¹ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;çƒ­ç‚¹è¯†åˆ«è½¬ç§»æœ‰ä¸¤ç§ç­–ç•¥ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;éšæœºç§»åŠ¨ç­–ç•¥ï¼Œæ•ˆç‡é«˜ã€æ•ˆæœå¯èƒ½å·®ï¼ˆä¸éœ€è¦é‡‡æ ·ã€è®¡ç®—ï¼Œå“åº”é€Ÿåº¦å¿«ï¼‰ï¼Œä¾‹å¦‚ç¬¬&lt;code&gt;R&lt;/code&gt;æ¬¡è®¿é—®å¦‚æœæ˜¯ &lt;code&gt;Hot Access&lt;/code&gt;ï¼Œä¿æŒä¸å˜ï¼Œå¦‚æœæ˜¯ &lt;code&gt;Cold Access&lt;/code&gt;ï¼Œç§»åŠ¨å¤´æŒ‡é’ˆæŒ‡å‘å†·æ•°æ®ï¼Œåœ¨çƒ­ç‚¹é›†ä¸­æ—¶éå¸¸æœ‰æ•ˆï¼Œå¤´æŒ‡é’ˆä¼šè¶‹å‘äºæŒ‡å‘çƒ­ç‚¹æ•°æ®ï¼Œå¦åˆ™å¯èƒ½ä¼šé¢‘ç¹æ‘‡æ‘†ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç»Ÿè®¡é‡‡æ ·ç­–ç•¥ï¼Œæ•ˆç‡ä½ã€æ•ˆæœå¯èƒ½æ›´å¥½ï¼Œç´¢å¼•æ ¼å¼æœ‰ç‰¹æ®Šè¦æ±‚å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1guiudhc8ddj60u00dugmp02.jpg&#34; 
    alt=&#34;å†…å­˜å¸ƒå±€&#34; 
     /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é’ˆå¯¹&lt;code&gt;RCU&lt;/code&gt;æ›´æ–°æ“ä½œçš„é‡‡æ ·ä¼˜åŒ–&lt;/li&gt;
&lt;li&gt;çƒ­ç‚¹ç»§æ‰¿é˜²æ­¢å†·å¯åŠ¨&lt;/li&gt;
&lt;li&gt;é‡‡æ ·åˆ†æç­–ç•¥å¦‚ä½•é€‰å‡ºæœ€ä¼˜ä½ç½®&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å†…å­˜æŒ‡é’ˆåˆ†é…&lt;code&gt;64bits&lt;/code&gt;ï¼Œ&lt;code&gt;address&lt;/code&gt; å®é™…ä½¿ç”¨äº†&lt;code&gt;48bits&lt;/code&gt;ï¼Œé‡‡æ ·æ‰€éœ€çš„å…ƒæ•°æ®ç»“æ„ä¸Šé¢çš„å›¾æ‰€ç¤ºï¼Œåˆ†åˆ«åœ¨å¤´æŒ‡é’ˆå¤„è®¾ç½®&lt;code&gt;Total Counter&lt;/code&gt;ï¼Œè®°å½•è¯¥ç¯çš„è®¿é—®æ€»æ¬¡æ•°ï¼Œæ¯ä¸ª&lt;code&gt;item&lt;/code&gt;è®¾ç½®&lt;code&gt;Counter&lt;/code&gt;è®°å½•è¯¥&lt;code&gt;item&lt;/code&gt;çš„è®¿é—®æ¬¡æ•°ã€‚å› ä¸ºå†…å­˜æŒ‡é’ˆéœ€è¦åˆ†é…&lt;code&gt;64bits&lt;/code&gt;ï¼Œä½†å®é™…ç³»ç»Ÿåœ°å€ç´¢å¼•åªä½¿ç”¨å…¶ä¸­çš„&lt;code&gt;48bits&lt;/code&gt;ã€‚æˆ‘ä»¬ä½¿ç”¨å‰©ä½™&lt;code&gt;16bits&lt;/code&gt;è®¾ç½®æ ‡å¿—ä½(ä¾‹å¦‚&lt;code&gt;Total Counterã€Counter&lt;/code&gt;ç­‰)ï¼Œä¿è¯ä¸ä¼šå¢åŠ é¢å¤–çš„å…ƒæ•°æ®å¼€é”€ã€‚è¯¥ç­–ç•¥çš„ä¼˜åŠ¿æ˜¯ï¼Œé€šè¿‡é‡‡æ ·åˆ†æï¼Œå¯ä»¥è®¡ç®—é€‰å‡ºæœ€ä¼˜çš„å¤´æŒ‡é’ˆä½ç½®ï¼Œç¨³æ€æ—¶æ€§èƒ½è¡¨ç°æ›´ä¼˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ•°æ®é‡‡æ ·&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1guiuds67hfj60f803c3yg02.jpg&#34; 
    alt=&#34;æ¨å¯¼å…¬å¼&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘æ¥è§£é‡Šä¸€ä¸‹å…¬å¼ï¼Œ&lt;code&gt;k&lt;/code&gt;= æœ‰å¤šå°‘ä¸ªèŠ‚ç‚¹ï¼Œ&lt;code&gt;ni&lt;/code&gt;= å½“å‰èŠ‚ç‚¹è®¿é—®é¢‘ç‡ï¼Œ&lt;code&gt;N&lt;/code&gt;æ€»çš„è®¿é—®æ¬¡æ•°ï¼Œ&lt;code&gt;mod&lt;/code&gt;è®¡ç®—å‡ºæ¥çš„å†…å­˜æŒ‡é’ˆéœ€è¦ç§»åŠ¨æ¬¡æ•°ï¼Œç„¶åå°±æ˜¯&lt;code&gt;æ¦‚ç‡*è®¿é—®çš„æˆæœ¬&lt;/code&gt;ï¼Œç„¶åç´¯åŠ å°±çŸ¥é“è®¿é—®å¾—åˆ°çƒ­ç‚¹æ•°æ®çš„æˆæœ¬ï¼Œæœ€åå°±æ˜¯&lt;code&gt;t&lt;/code&gt;å°±æ˜¯æŒ‡é’ˆè°ƒæ•´åˆ°çš„èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸ºä»€ä¹ˆä¸æ˜¯ç›´æ¥è½¬ç§»åˆ°  &lt;code&gt;max(ni)&lt;/code&gt;?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªé—®é¢˜æ˜¾ç„¶å°±æ˜¯å¦‚æœä½ ç›´æ¥è°ƒæ•´åˆ°çƒ­èŠ‚ç‚¹ä½ç½®ï¼Œé‚£ä¹ˆè¿™ä¸ªç¯è·¯ä¸Šä¸åªæ˜¯æœ‰ä¸€ä¸ªçƒ­ç‚¹æ•°æ®èŠ‚ç‚¹ï¼Œæ‰€æœ‰éœ€è¦ä½¿ç”¨é‡‡ç”¨ç»è¿‡å…¬å¼è®¡ç®—ä¹‹åçš„ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å†™å…¥å¯†é›†å‹çš„çƒ­ç‚¹ï¼š&lt;code&gt;RCU&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Read&lt;/code&gt;è¯»çƒ­ç‚¹ã€&lt;code&gt;Update&lt;/code&gt;å†™å…¥å¯†é›†å‹çƒ­ç‚¹&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Less Than 8Bytes -- CAS&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;More Than 8Bytes -- RCU&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœå¤´æŒ‡é’ˆæŒ‡å‘çš„èŠ‚ç‚¹è¢« &lt;code&gt;Update&lt;/code&gt;ï¼Œç»™å‰é©±èŠ‚ç‚¹ &lt;code&gt;Counter + 1&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;æ— é”å¹¶å‘è®¿é—®&#34;&gt;
    &lt;a href=&#34;#%e6%97%a0%e9%94%81%e5%b9%b6%e5%8f%91%e8%ae%bf%e9%97%ae&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    ğŸ”ï¼šæ— é”å¹¶å‘è®¿é—®
&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;Tair&lt;/code&gt;çš„&lt;code&gt;RCU&lt;/code&gt;æ— é”å¼•æ“æ˜¯&lt;code&gt;HotRing&lt;/code&gt;çš„è®¾è®¡åŸºç¡€ï¼Œå› ä¸ºæ²¡æœ‰å¯¹ç¯å½¢é“¾è¡¨ç»“æ„ä¿®æ”¹ï¼Œæ‰€ä»¥ä¸å­˜åœ¨å¹¶å‘é—®é¢˜ï¼Œå¯ä»¥ç›´æ¥ä¸åŠ é”è®¿é—®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1guiue7lo6lj60tu0uq0u702.jpg&#34; 
    alt=&#34;å¹¶å‘æ’å…¥æ—¶æ•°æ®ä¸¢å¤±é—®é¢˜&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯åœ¨å¹¶å‘æ’å…¥æ—¶æ•°æ®ä¸¢å¤±é—®é¢˜ï¼Œè§£å†³åŠæ³•å°±æ˜¯ä½¿ç”¨äº†&lt;code&gt;CompareAndSwap&lt;/code&gt;ï¼Œä¿è¯åŒæ—¶åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½å¤Ÿä¿®æ”¹æˆåŠŸã€‚&lt;/p&gt;
&lt;p&gt;ä»€ä¹ˆæ˜¯&lt;code&gt;CompareAndSwap&lt;/code&gt;? é€šå¸¸ä¼šè®°å½•ä¸‹æŸå—å†…å­˜ä¸­çš„æ—§å€¼ï¼Œé€šè¿‡å¯¹æ—§å€¼è¿›è¡Œä¸€ç³»åˆ—çš„æ“ä½œåå¾—åˆ°æ–°å€¼ï¼Œç„¶åé€šè¿‡&lt;code&gt;CAS&lt;/code&gt;æ“ä½œå°†æ–°å€¼ä¸æ—§å€¼è¿›è¡Œäº¤æ¢ã€‚å¦‚æœè¿™å—å†…å­˜çš„å€¼åœ¨è¿™æœŸé—´å†…æ²¡è¢«ä¿®æ”¹è¿‡ï¼Œåˆ™æ—§å€¼ä¼šä¸å†…å­˜ä¸­çš„æ•°æ®ç›¸åŒï¼Œè¿™æ—¶&lt;code&gt;CAS&lt;/code&gt;æ“ä½œå°†ä¼šæˆåŠŸæ‰§è¡Œ ä½¿å†…å­˜ä¸­çš„æ•°æ®å˜ä¸ºæ–°å€¼ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1guiuf9g8d4j60u009ut9902.jpg&#34; 
    alt=&#34;æ’å…¥æ“ä½œ&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Update&lt;/code&gt; å’Œ &lt;code&gt;Insertion&lt;/code&gt; å¹¶å‘å¼•å‘çš„æ•°æ®ä¸¢å¤±ï¼Œæ€ä¹ˆçœ‹è¿™ä¸ªå›¾ï¼Œå‡è®¾&lt;code&gt;B&lt;/code&gt;ä¸ºçƒ­ç‚¹æ•°æ®ï¼Œç¨‹åºæ¯æ¬¡æ‰¾çš„&lt;code&gt;B&lt;/code&gt;å¿…é¡»ç»è¿‡&lt;code&gt;A&lt;/code&gt;ï¼Œå› ä¸º&lt;code&gt;A&lt;/code&gt;åœ¨ç¯è·¯ä¸Šæ˜¯åœ¨&lt;code&gt;B&lt;/code&gt;å‰é¢ï¼Œé‚£ä¹ˆ&lt;code&gt;è®¿é—®Bå¤šå°‘æ¬¡Aå°±æ˜¯å¤šå°‘æ¬¡&lt;/code&gt;ï¼Œé‚£ä¹ˆè¿™ä¸ªä¸æ˜¯ç†æƒ³çš„ï¼Œé‚£å°±è®©&lt;code&gt;hard&lt;/code&gt;æŒ‡é’ˆæŒ‡å‘&lt;code&gt;A&lt;/code&gt;è®©&lt;code&gt;B&lt;/code&gt;ä¹‹é—´æ²¡æœ‰å…¶ä»–çš„å€¼ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨é“¾&lt;code&gt;A-&amp;gt;B-&amp;gt;D&lt;/code&gt;ä¸Šï¼Œçº¿ç¨‹&lt;code&gt;1&lt;/code&gt;è¿›è¡Œæ’å…¥&lt;code&gt;C&lt;/code&gt;çš„æ“ä½œï¼ŒåŒæ—¶çº¿ç¨‹&lt;code&gt;2&lt;/code&gt;è¿›è¡Œ&lt;code&gt;RCU&lt;/code&gt;æ›´æ–°&lt;code&gt;B&lt;/code&gt;çš„æ“ä½œï¼Œå°è¯•æ›´æ–°ä¸º&lt;code&gt;B&lt;/code&gt;&#39;ã€‚çº¿ç¨‹&lt;code&gt;1&lt;/code&gt;ä¿®æ”¹Bçš„æŒ‡é’ˆæŒ‡å‘&lt;code&gt;C&lt;/code&gt;ï¼Œå®Œæˆæ’å…¥ã€‚è€Œçº¿ç¨‹&lt;code&gt;2&lt;/code&gt;ä¿®æ”¹&lt;code&gt;A&lt;/code&gt;çš„æŒ‡é’ˆæŒ‡å‘&lt;code&gt;B&lt;/code&gt;&amp;lsquo;å®Œæˆæ›´æ–°ã€‚ä¸¤ä¸ªçº¿ç¨‹å¹¶å‘ä¿®æ”¹ä¸åŒçš„å†…å­˜ï¼Œå‡å¯æˆåŠŸè¿”å›ã€‚ä½†æ˜¯è¿™æ—¶éå†æ•´æ¡é“¾&lt;code&gt;(A-&amp;gt;B&#39;-&amp;gt;D)&lt;/code&gt;ï¼Œå°†å‘ç°&lt;code&gt;C&lt;/code&gt;æ— æ³•è¢«éå†åˆ°ï¼Œå¯¼è‡´æ­£ç¡®æ€§é—®é¢˜ã€‚å½“çº¿ç¨‹&lt;code&gt;2&lt;/code&gt;æ›´æ–°&lt;code&gt;B&lt;/code&gt;æ—¶ï¼Œé¦–å…ˆéœ€è¦å°†&lt;code&gt;B&lt;/code&gt;çš„&lt;code&gt;Occupied&lt;/code&gt;æ ‡å¿—ä½ç½®ä½ã€‚çº¿ç¨‹&lt;code&gt;1&lt;/code&gt;æ’å…¥&lt;code&gt;C&lt;/code&gt;éœ€è¦ä¿®æ”¹&lt;code&gt;B&lt;/code&gt;çš„æŒ‡é’ˆ(&lt;code&gt;Next Item Address&lt;/code&gt;)ï¼Œè‹¥å‘ç°&lt;code&gt;Occupied&lt;/code&gt;æ ‡å¿—ä½å·²ç½®ä½ï¼Œåˆ™éœ€è¦é‡æ–°éå†é“¾è¡¨ï¼Œå°è¯•æ’å…¥ï¼Œé€šè¿‡ä½¿å¹¶å‘æ“ä½œç«äº‰ä¿®æ”¹åŒä¸€å†…å­˜åœ°å€ï¼Œä¿è¯å¹¶å‘æ“ä½œçš„æ­£ç¡®æ€§ï¼Œåˆ©ç”¨ç›¸åŒåŸç†ä¿è¯äº†å¤´æŒ‡é’ˆç§»åŠ¨æ“ä½œï¼Œä¸&lt;code&gt;CRUD&lt;/code&gt;æ“ä½œçš„å¹¶å‘æ­£ç¡®æ€§ï¼Œå› æ­¤å®ç°äº†&lt;code&gt;HotRing&lt;/code&gt;çš„æ— é”å¹¶å‘è®¿é—®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ›´å¤šç»†èŠ‚è‡ªå·±å»çœ‹è®ºæ–‡å§ï¼Œä¸Šé¢éƒ¨åˆ†æ€»ç»“ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&#34;è®ºæ–‡èµ„æ–™&#34;&gt;
    &lt;a href=&#34;#%e8%ae%ba%e6%96%87%e8%b5%84%e6%96%99&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    è®ºæ–‡èµ„æ–™
&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.usenix.org/system/files/fast20-chen_jiqiang.pdf&#34;&gt;https://www.usenix.org/system/files/fast20-chen_jiqiang.pdf&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

    </description>
    </item>
    
    <item>
    <title>Compound Data Type of Rust</title>
    <link>http://blog.ibyte.me/post/compound-data-type-of-rust/</link>
    <pubDate>Thu, 16 Sep 2021 22:25:30 +0800</pubDate>
    
    <guid>http://blog.ibyte.me/post/compound-data-type-of-rust/</guid>
    <description>
        &lt;h2 id=&#34;æ¦‚-è¿°&#34;&gt;
    &lt;a href=&#34;#%e6%a6%82-%e8%bf%b0&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    æ¦‚ è¿°
&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;å¥½ä¹…æ²¡æœ‰æ›´æ–°&lt;code&gt;rust&lt;/code&gt;ç›¸å…³çš„å†…å®¹äº†ï¼Œæ›´æ–°ä¸€æ³¢&lt;code&gt;Rust&lt;/code&gt;çš„å†…å®¹ï¼Œæœ¬ç¯‡è®²ä»‹ç»ä¸€ä¸‹&lt;code&gt;Rust&lt;/code&gt;ä¸­çš„å¤åˆæ•°æ®ç±»å‹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;composite-type&#34;&gt;
    &lt;a href=&#34;#composite-type&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    Composite Type
&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;å¤åˆæ•°æ®ç±»å‹&lt;/code&gt;æ˜¯ä¸€ç§æ•°æ®ç±»å‹ï¼Œå®ƒå¯ä»¥åŸå§‹çš„åŸºæœ¬æ•°æ®ç±»å‹å’Œå…¶å®ƒçš„å¤åˆç±»å‹æ‰€æ„æˆï¼Œ æ„æˆä¸€ä¸ªå¤åˆç±»å‹çš„åŠ¨ä½œï¼Œåˆç§°ä½œç»„åˆã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡è®²ä»‹ç»ä¸€ä¸‹åœ¨&lt;code&gt;Rust&lt;/code&gt;ä¸­æœ‰&lt;code&gt;tuple&lt;/code&gt;ã€&lt;code&gt;array&lt;/code&gt;ã€&lt;code&gt;struct&lt;/code&gt;ã€&lt;code&gt;enum&lt;/code&gt;å‡ ä¸ªå¤åˆç±»å‹ã€‚&lt;/p&gt;
&lt;h2 id=&#34;tuple&#34;&gt;
    &lt;a href=&#34;#tuple&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    tuple
&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;tuple&lt;/code&gt;å³&lt;code&gt;å…ƒç»„&lt;/code&gt;ï¼Œå…ƒç»„ç±»å‹æ˜¯ç”±å¤šä¸ªä¸åŒç±»å‹çš„å…ƒç´ ç»„æˆçš„å¤åˆç±»å‹ï¼Œé€šè¿‡&lt;code&gt;()&lt;/code&gt;å°æ‹¬å·æŠŠå…ƒç´ ç»„ç»‡åœ¨ä¸€èµ·æˆä¸€ä¸ªæ–°çš„æ•°æ®ç±»å‹ã€‚å…ƒç»„çš„é•¿åº¦åœ¨å®šä¹‰çš„æ—¶å€™å°±å·²ç»æ˜¯å›ºå®šçš„äº†ï¼Œä¸èƒ½ä¿®æ”¹ï¼Œå¦‚æœæŒ‡å®šäº†å…ƒç´ çš„æ•°æ®ç±»å‹ï¼Œé‚£ä¹ˆä½ çš„å…ƒç´ å°±è¦å¯¹å·å…¥åº§ï¼ï¼ï¼å¦åˆ™ç¼–è¯‘å™¨ä¼šæ•™è®­ä½ ï¼&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¾‹å­ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span class=&#34;k&#34;&gt;fn&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// æŒ‡å®šæ•°æ®ç±»å‹
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tup_type&lt;/span&gt;:&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;i8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;i32&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;bool&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;21&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1024&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// è§£æ„å…ƒç´ 
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;one&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;two&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;three&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tup_type&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// äºŒç»´çš„å…ƒç»„
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tup_2d&lt;/span&gt;:&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;f64&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;i8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;i32&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;bool&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;3.1415927&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;one&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;two&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;three&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;fm&#34;&gt;println!&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;tup_2d = {:?}&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tup_2d&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// ç´¢å¼•
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;fm&#34;&gt;println!&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Ï€ = {:?}&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tup_2d&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å…ƒç»„çš„è®¿é—®æ–¹å¼æœ‰å¥½å‡ ç§ï¼Œé€šè¿‡ä¸‹æ ‡å»è®¿é—®ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è§£æ„èµ‹å€¼ç»™æ–°çš„å˜é‡å»è®¿é—®ï¼Œä½†æ˜¯ä¸æ”¯æŒè¿­ä»£å™¨å»è®¿é—®ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;in&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tup_2d&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;1.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;fm&#34;&gt;println!&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;{}&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;   Compiling playground v0.0.1 &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;/playground&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
error&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;E0599&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;: no method named &lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;iter&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt; found &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; tuple &lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;i8, i32, bool&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt; in the current scope
  --&amp;gt; src/main.rs:10:23
   &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;
&lt;span class=&#34;m&#34;&gt;10&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;     &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; v in tup_type.iter&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
   &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;                       ^^^^ method not found in &lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;i8, i32, bool&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;

error: aborting due to previous error

For more information about this error, try &lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;rustc --explain E0599&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;.
error: could not compile &lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;playground&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;

To learn more, run the &lt;span class=&#34;nb&#34;&gt;command&lt;/span&gt; again with --verbose.
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;å…ƒç»„&lt;/code&gt;çš„æ¯ä¸ªå…ƒç´ çš„ç±»å‹å¯ä»¥ä¸åŒï¼Œå› æ­¤æ‚¨æ— æ³•å¯¹å…¶è¿›è¡Œè¿­ä»£ã€‚å…ƒç»„ç”šè‡³ä¸èƒ½ä¿è¯ä»¥ä¸ç±»å‹å®šä¹‰ç›¸åŒçš„é¡ºåºå­˜å‚¨æ•°æ®ï¼Œå› æ­¤å³ä½¿æ‚¨è‡ªå·±ä¸ºå®ƒä»¬å®ç°&lt;code&gt;Iterator&lt;/code&gt;ï¼Œå®ƒä»¬ä¹Ÿä¸é€‚åˆè¿›è¡Œæœ‰æ•ˆçš„è¿­ä»£ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯å¦‚æœå…ƒç´ æ˜¯æ”¯æŒå®ç°äº†&lt;code&gt;Iterator&lt;/code&gt;å°±å¯ä»¥é€šè¿‡&lt;code&gt;.iter()&lt;/code&gt;è¿›è¡Œè¿­ä»£è®¿é—®ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;mut&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;arrays&lt;/span&gt;:&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;usize&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;in&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;..&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;arrays&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;fm&#34;&gt;println!&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;{:?}&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;arrays&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tup_arr&lt;/span&gt;:&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,[&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;usize&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;tup_arr&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;arrays&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;fm&#34;&gt;println!&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;{:?}&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tup_arr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;in&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tup_arr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;1.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;fm&#34;&gt;println!&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;{}&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¾‹å¦‚ä¸Šçš„å…ƒç´ æ˜¯ä¸€ä¸ª&lt;code&gt;array&lt;/code&gt;ï¼Œ&lt;code&gt;Rust&lt;/code&gt;ä¸­çš„æ•°ç»„å’Œå…¶ä»–è¯­è¨€ä¸€æ ·ï¼Œä¸€ç»„ç±»å‹ç›¸åŒçš„å…ƒç´ ç»„æˆçš„å¤åˆç±»å‹ï¼Œæ•°ç»„åœ¨åº•å±‚å­˜å‚¨æ˜¯ä¸€å—è¿ç»­çš„å†…å­˜ç©ºé—´ã€‚&lt;/p&gt;
&lt;h2 id=&#34;array&#34;&gt;
    &lt;a href=&#34;#array&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    array
&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;Rust&lt;/code&gt;ä¸­çš„æ•°ç»„å£°æ˜æ˜¯&lt;code&gt;[T;n]&lt;/code&gt;è¿›è¡Œçš„ï¼Œ&lt;code&gt;T&lt;/code&gt;æ˜¯å…ƒç´ ç±»å‹ï¼Œ&lt;code&gt;n&lt;/code&gt;æ˜¯è¿™ç»„å…ƒç´ æœ‰å¤šå°‘ä¸ªå‘ä½ï¼Œåˆ›å»ºçš„æ—¶å€™å¯ä»¥å»æ‰ç±»å‹å’Œå¤§å°ï¼Œç¨‹åºä¼šè‡ªåŠ¨æ¨æ–­å‡ºæ¥ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// æ•°ç»„
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;arr&lt;/span&gt;:&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;f32&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;1.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;2.2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;3.33&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;fm&#34;&gt;println!&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;{:?}&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;arr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// ç±»å‹è‡ªåŠ¨æ¨å¯¼
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;arr_infer&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Hello&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;,&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;World!&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;mut&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt;::&lt;span class=&#34;n&#34;&gt;new&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// è¿­ä»£å™¨
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;in&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;arr_infer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;push_str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;fm&#34;&gt;println!&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;str = {}&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;a href=&#34;https://play.rust-lang.org/?version=stable&amp;amp;mode=debug&amp;amp;edition=2018&amp;amp;gist=195d35086371375f182fc67922d81b44&#34;&gt;ç‚¹å‡»æŸ¥çœ‹å…ƒç»„ä»£ç æ¡ˆä¾‹&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;enum&#34;&gt;
    &lt;a href=&#34;#enum&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    enum
&lt;/h2&gt;
&lt;p&gt;æšä¸¾ç±»å‹ï¼Œå¦‚æœä½ ä¹‹å‰ä»äº‹è¿‡&lt;code&gt;Java&lt;/code&gt;ç›¸å…³çš„å¼€å‘åº”è¯¥ä¸é™Œç”Ÿï¼Œåœ¨&lt;code&gt;Rust&lt;/code&gt;é‡Œé¢ä¹Ÿæœ‰&lt;code&gt;æšä¸¾&lt;/code&gt;ç±»å‹ï¼Œæšä¸¾ç±»å‹æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼Œé€šè¿‡&lt;code&gt;enum&lt;/code&gt;å…³é”®å­—æ¥å£°æ˜ï¼Œ&lt;code&gt;body&lt;/code&gt;é‡Œé¢å¯ä»¥åŒ…å«å¤šä¸ªè‡ªå®šä¹‰çš„æšä¸¾å€¼ï¼Œæšä¸¾å¯ä»¥ç”¨æ¥é™åˆ¶æŸä¸ªå€¼æˆ–è€…ç±»å‹èŒƒå›´ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;#[derive(Debug)]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;enum&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Gender&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Boy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Girl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¸Šé¢å°±å®šä¹‰ä¸€äº†ä¸ªç±»å‹åå­—ä¸º&lt;code&gt;Gender&lt;/code&gt;çš„æšä¸¾ï¼Œ&lt;code&gt;Boy&lt;/code&gt;å’Œ&lt;code&gt;Girl&lt;/code&gt;æ˜¯æšä¸¾å¯ä¾›ä½¿ç”¨çš„å€¼ï¼Œ&lt;code&gt;#[derive(Debug)]&lt;/code&gt;æ³¨é‡Šæ˜¯è®©&lt;code&gt;Gender&lt;/code&gt;è‡ªåŠ¨å®ç°&lt;code&gt;Debug tarit&lt;/code&gt;åé¢æ–‡ç« å°†æ·±å…¥ã€‚&lt;/p&gt;
&lt;h2 id=&#34;struct&#34;&gt;
    &lt;a href=&#34;#struct&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    struct
&lt;/h2&gt;
&lt;p&gt;ç»“æ„ä½“å¯ä»¥æŠŠä¸€äº›è‡ªå®šä¹‰çš„æ•°æ®ç±»å‹é€šè¿‡å·²æœ‰çš„ç±»å‹ç»„è£…æˆä¸€ä¸ªæ–°çš„è‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼Œé€šè¿‡&lt;code&gt;struct&lt;/code&gt;å…³é”®å­—å°±å¯ä»¥åˆ›å»ºä¸€ä¸ªç»“æ„ä½“ï¼Œç»“æ„ä½“å­—æ®µæ ¼å¼&lt;code&gt;name:type&lt;/code&gt;ï¼Œ&lt;code&gt;name&lt;/code&gt;æ˜¯ç»“æ„ä½“å­—æ®µåï¼Œ&lt;code&gt;type&lt;/code&gt;æ˜¯å­—æ®µçš„ç±»å‹ï¼Œé»˜è®¤æ˜¯ä¸å¯å˜çš„ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span class=&#34;k&#34;&gt;fn&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// æšä¸¾ç°åœ¨å–å€¼èŒƒå›´
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;#[derive(Debug)]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;enum&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Gender&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Boy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Girl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// å®šä¹‰ä¸€ä¸ªç»“æ„ä½“
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;#[derive(Debug)]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Programmer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;skill&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;: &lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;skill&lt;/span&gt;: &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;#39;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;skill&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sex&lt;/span&gt;: &lt;span class=&#34;nc&#34;&gt;Gender&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// åˆ›å»ºä¸€ä¸ªå®ä¾‹
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;engineer&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Programmer&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;: &lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt;::&lt;span class=&#34;n&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Jaco Ding&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// Stringç±»å‹å†…å®¹å¯å˜
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;skill&lt;/span&gt;: &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Java&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Go&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Rust&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// ä¸€ä¸ªé•¿åº¦ä¸º3çš„å­—ç¬¦ä¸²é¢é‡ç±»å‹çš„æ•°ç»„
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sex&lt;/span&gt;:&lt;span class=&#34;nc&#34;&gt;Gender&lt;/span&gt;::&lt;span class=&#34;n&#34;&gt;Boy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// é€šè¿‡æšä¸¾é™åˆ¶å‚æ•°ç±»å‹
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;};&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;fm&#34;&gt;println!&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;engineer = {:?}&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;engineer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æœ‰äº†è‡ªå®šä¹‰çš„ç±»å‹äº†ä¹Ÿå°±æ˜¯&lt;code&gt;struct&lt;/code&gt;å°±å¯ä»¥é€šè¿‡è‡ªå®šä¹‰çš„ç±»å‹æ¥å¤„ç†ä¸€äº›ç‰¹æ®Šçš„éœ€æ±‚äº†ï¼Œä¾‹å¦‚ä¸‹é¢çš„ä»£ç å®šä¹‰äº†ä¸€ä¸ªå…ƒç´ ç±»å‹ä¸º&lt;code&gt;Programmer&lt;/code&gt;é•¿åº¦ä¸º&lt;code&gt;2&lt;/code&gt;çš„æ•°ç»„ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Doris&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Programmer&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;: &lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt;::&lt;span class=&#34;n&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Doris&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;skill&lt;/span&gt;: &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Vue&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;TypeScript&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;JavaScript&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sex&lt;/span&gt;:&lt;span class=&#34;nc&#34;&gt;Gender&lt;/span&gt;::&lt;span class=&#34;n&#34;&gt;Girl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;};&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Jaco&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Programmer&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;: &lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt;::&lt;span class=&#34;n&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Jaco&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;skill&lt;/span&gt;: &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Java&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Go&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Rust&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sex&lt;/span&gt;:&lt;span class=&#34;nc&#34;&gt;Gender&lt;/span&gt;::&lt;span class=&#34;n&#34;&gt;Boy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;};&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;employees&lt;/span&gt;:&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Programmer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Doris&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Jaco&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;in&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;employees&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;fm&#34;&gt;println!&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;{:?}&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ç»“æ„ä½“&lt;code&gt;Programmer&lt;/code&gt;ä¸Šçš„&lt;code&gt;&amp;lt;&#39;skill&amp;gt;&lt;/code&gt; è§£å†³&lt;code&gt;skill&lt;/code&gt;æ•°ç»„çš„ç”Ÿå‘½å‘¨æœŸé—®é¢˜&lt;code&gt;undeclared lifetime&lt;/code&gt;ï¼Œæ‰€æœ‰æƒé—®é¢˜ï¼Œæ‰€æœ‰æƒæ˜¯&lt;code&gt;Rust&lt;/code&gt;è¯­è¨€æ ¸å¿ƒçš„çŸ¥è¯†ç‚¹ï¼Œè¿™äº›åœ¨åé¢æ–‡ç« ä¸­æ…¢æ…¢æ›´æ–°ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å°ç»“&#34;&gt;
    &lt;a href=&#34;#%e5%b0%8f%e7%bb%93&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å°ç»“
&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;Rust&lt;/code&gt;ä¸­çš„ç»“æ„ä½“è¿˜æœ‰ä¸¤ç§ç‰¹æ®Šç»“æ„ï¼š&lt;code&gt;å…ƒç»„ç»“æ„ä½“&lt;/code&gt;ã€&lt;code&gt;å•ç»“æ„ä½“&lt;/code&gt;ï¼Œæšä¸¾ä¹Ÿæœ‰&lt;code&gt;å¸¦æœ‰å‚æ•°&lt;/code&gt;çš„æšä¸¾ã€‚ã€‚ã€‚æœ¬æ–‡å°±å­¦ä¹ æ€»ç»“äº†ä¸€ä¸‹å¸¸è§å¤åˆç±»å‹çš„ä½¿ç”¨ï¼Œæœªæ·±å…¥ã€‚&lt;/p&gt;

    </description>
    </item>
    
    <item>
    <title>Rust Falsework Desgin</title>
    <link>http://blog.ibyte.me/post/rust-falsework-desgin/</link>
    <pubDate>Thu, 16 Sep 2021 22:22:45 +0800</pubDate>
    
    <guid>http://blog.ibyte.me/post/rust-falsework-desgin/</guid>
    <description>
        &lt;h2 id=&#34;å‰è¨€&#34;&gt;
    &lt;a href=&#34;#%e5%89%8d%e8%a8%80&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å‰è¨€
&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;æ–­æ–­ç»­ç»­çœ‹äº†åŠä¸ªæœˆçš„&lt;code&gt;Rust&lt;/code&gt;ä¹¦ï¼Œå­¦äº†ç‚¹åŸºç¡€ï¼Œä¸çŸ¥é“åšä»€ä¹ˆå¥½ï¼Ÿï¼Ÿäºæ˜¯æˆ‘æƒ³ç€ç”¨ä¸šä½™æ—¶é—´æ’¸ä¸€ä¸ª&lt;code&gt;command line application&lt;/code&gt;çš„éª¨æ¶ã€‚ç„¶åå°±æœ‰äº†&lt;code&gt;https://github.com/auula/falsework&lt;/code&gt;è¿™ä¸ªé¡¹ç›®ï¼Œ&lt;code&gt;falsework&lt;/code&gt;å¯ä»¥å¸®åŠ©ä½ å¿«é€Ÿæ„å»ºä¸€ä¸ªå‘½ä»¤è¡Œåº”ç”¨ã€‚è¿™ç¯‡æ–‡ç« å†™å†™&lt;code&gt;falsework&lt;/code&gt;çš„ä½¿ç”¨å¹¶åœ¨åéƒ¨åˆ†ä»‹ç»ä¸€ä¸‹æ€ä¹ˆå®ç°çš„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gtta3lv37zj617x0u040n02.jpg&#34; 
    alt=&#34;rustå­¦ä¹ æ›²çº¿&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;çœ‹äº†çœ‹è¿™å¼ å›¾ï¼Œé‚£æˆ‘ä¼°è®¡è¿˜åœ¨&lt;code&gt;å¡é“èµ·æ­¥&lt;/code&gt;ã€‚ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å¯¼å…¥ä¾èµ–&#34;&gt;
    &lt;a href=&#34;#%e5%af%bc%e5%85%a5%e4%be%9d%e8%b5%96&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å¯¼å…¥ä¾èµ–
&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://crates.io/crates/falsework&#34;&gt;https://crates.io/crates/falsework&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨ä½ çš„é¡¹ç›®ä¸­æ·»åŠ ä¾èµ–å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-toml&#34; data-lang=&#34;toml&#34;&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;dependencies&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;nx&#34;&gt;falsework&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;0.1.3&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;å¿«é€Ÿæ„å»º&#34;&gt;
    &lt;a href=&#34;#%e5%bf%ab%e9%80%9f%e6%9e%84%e5%bb%ba&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å¿«é€Ÿæ„å»º
&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;45
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span class=&#34;k&#34;&gt;use&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;std&lt;/span&gt;::&lt;span class=&#34;n&#34;&gt;error&lt;/span&gt;::&lt;span class=&#34;n&#34;&gt;Error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;use&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;falsework&lt;/span&gt;::&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cmd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;};&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;fn&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// é€šè¿‡falseworkåˆ›å»ºä¸€ä¸ªéª¨æ¶
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;mut&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;falsework&lt;/span&gt;::&lt;span class=&#34;n&#34;&gt;app&lt;/span&gt;::&lt;span class=&#34;n&#34;&gt;new&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// åº”ç”¨å…ƒæ•°æ®ä¿¡æ¯
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;calculator&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;author&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Leon Ding &amp;lt;ding@ibyte.me&amp;gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;0.0.1&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;description&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;A calculator that only supports addition.&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// æ„å»ºå‘½ä»¤è¡Œé¡¹
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;mut&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;command&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cmd&lt;/span&gt;::&lt;span class=&#34;n&#34;&gt;CommandItem&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// run å‘½ä»¤æ‰€å¯¹åº”å‘½ä»¤è¡Œé€»è¾‘ä»£ç 
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;run&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ctx&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-&amp;gt; &lt;span class=&#34;nb&#34;&gt;Result&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(),&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;Box&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;dyn&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Error&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// é€šè¿‡ä¸Šä¸‹æ–‡è·å–flagç»‘å®šçš„æ•°æ®
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ctx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;value_of&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;--x&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;parse&lt;/span&gt;::&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;i32&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;unwrap&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ctx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;value_of&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;--y&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;parse&lt;/span&gt;::&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;i32&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;unwrap&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;fm&#34;&gt;println!&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;{} + {} = {}&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// å¦‚æœå¤„ç†å‘ç”Ÿäº†é”™è¯¯åˆ™è°ƒç”¨ cmd::err_msg ä¼šä¼˜é›…çš„é€€å‡º
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// Err(cmd::err_msg(&amp;#34;Application produce errorï¼&amp;#34;));
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;Ok&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(())&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// å‘½ä»¤å¸®åŠ©ä¿¡æ¯
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;long&lt;/span&gt;: &lt;span class=&#34;s&#34;&gt;&amp;#34;è¿™æ˜¯ä¸€ä¸ªåŠ æ³•è®¡ç®—ç¨‹åºéœ€è¦ä¸¤ä¸ªflagå‚æ•° --x --y&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// å‘½ä»¤ä»‹ç»
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;short&lt;/span&gt;: &lt;span class=&#34;s&#34;&gt;&amp;#34;åŠ æ³•è®¡ç®—&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// é€šè¿‡addæ¿€æ´»å‘½ä»¤
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;r#use&lt;/span&gt;: &lt;span class=&#34;s&#34;&gt;&amp;#34;add&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;build&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// ç»™addå‘½ä»¤ç»‘å®šflag
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;command&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bound_flag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;--x&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;åŠ æ•°&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;command&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bound_flag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;--y&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;è¢«åŠ æ•°&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// å¾€appé‡Œé¢æ·»åŠ ä¸€ä¸ªå‘½ä»¤é›†
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;add_cmd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;command&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// æœ€årun ç¨‹åºå¼€å§‹ç›‘å¬å‘½ä»¤è¡Œè¾“å…¥
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;run&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¸Šé¢è¿™ä¸ªä¾‹å­è¿è¡Œèµ·æ¥ç»“æœ:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$: ./calculator add --x&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;10&lt;/span&gt; --y&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;
&lt;span class=&#34;m&#34;&gt;10&lt;/span&gt; + &lt;span class=&#34;nv&#34;&gt;10&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;20&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;åˆ°æ­¤ä¸ºæ­¢ä½ å°±å¿«é€Ÿæ„å»ºä¸€ä¸ªå‘½ä»¤è¡Œè®¡ç®—å™¨äº†ï¼Œä½ åªéœ€è¦å†™ä½ æ ¸å¿ƒé€»è¾‘ï¼Œå…¶ä»–æ“ä½œ&lt;code&gt;falsework&lt;/code&gt;å¸®åŠ©ä½ å®Œæˆã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¾‹å¦‚å¦‚æœæˆ‘ä¸è®°å¾—äº†å‘½ä»¤äº†ï¼Œåªè®°å¾—ä¸€ä¸ªå•è¯æˆ–è€…å­—æ¯ï¼Œç¨‹åºä¼šå¸®åŠ©ä½ ä¿®å¤ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$: ./calculator a

You need this &lt;span class=&#34;nb&#34;&gt;command&lt;/span&gt; ?
	add
a : The corresponding &lt;span class=&#34;nb&#34;&gt;command&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; was not found!
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;å¯ä»¥çœ‹åˆ°ç¨‹åºæç¤ºä½ æœ‰ä¸€ä¸ªå¯¹åº”çš„&lt;code&gt;add&lt;/code&gt;å‘½ä»¤å¯ä»¥ä½¿ç”¨ï¼Œå¦‚æœä¸çŸ¥é“&lt;code&gt;add&lt;/code&gt;æœ‰å•¥å‚æ•°ï¼Œåœ¨åé¢
åŠ ä¸Š&lt;code&gt;--help&lt;/code&gt;å³å¯è·å¾—å¸®åŠ©ä¿¡æ¯ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$: ./calculator add --help

Help:
  è¿™æ˜¯ä¸€ä¸ªåŠ æ³•è®¡ç®—ç¨‹åºéœ€è¦ä¸¤ä¸ªflagå‚æ•° --x --y

Usage:
  calculator add &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;flags&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;

Flags:
  --y, è¢«åŠ æ•°
  --x, åŠ æ•°
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ„å»ºå‡ºæ¥ä¸»ç¨‹åºé¢„è§ˆï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$: ./calculator


A calculator that only supports addition.
calculator 0.0.1 Leon Ding &amp;lt;ding@ibyte.me&amp;gt;

Usage:
  calculator  &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;command&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;

Available Commands:
  add	åŠ æ³•è®¡ç®—

Flags:
  --help   &lt;span class=&#34;nb&#34;&gt;help&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; calculator

Use &lt;span class=&#34;s2&#34;&gt;&amp;#34;calculator [command] --help&amp;#34;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; more information about a command.
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;å…¶ä»–æ“ä½œ&#34;&gt;
    &lt;a href=&#34;#%e5%85%b6%e4%bb%96%e6%93%8d%e4%bd%9c&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å…¶ä»–æ“ä½œ
&lt;/h2&gt;
&lt;p&gt;æœ‰å¤šç§æ„å»ºæ–¹å¼ï¼Œä¾‹å¦‚ä¸‹é¢çš„ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;#[test]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;fn&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;test_add_commands&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;mut&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;falsework&lt;/span&gt;::&lt;span class=&#34;n&#34;&gt;app&lt;/span&gt;::&lt;span class=&#34;n&#34;&gt;new&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;calculator&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;author&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Leon Ding &amp;lt;ding@ibyte.me&amp;gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;0.0.2&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;description&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;A command line program built with Falsework.&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;command_list&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;fm&#34;&gt;vec!&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cmd&lt;/span&gt;::&lt;span class=&#34;n&#34;&gt;CommandItem&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;                &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;run&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;_ctx&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-&amp;gt; &lt;span class=&#34;nb&#34;&gt;Result&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(),&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;Box&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;dyn&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Error&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;                    &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// _ctx.args è·å–å‘½ä»¤è¡Œå‚æ•°
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;                    &lt;/span&gt;&lt;span class=&#34;fm&#34;&gt;println!&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;call foo command.&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;                    &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;Ok&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(())&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;                &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;                &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;long&lt;/span&gt;: &lt;span class=&#34;s&#34;&gt;&amp;#34;è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•å‘½ä»¤ï¼Œä½¿ç”¨fooå°†è°ƒç”¨fooå‘½ä»¤ã€‚&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;                &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;short&lt;/span&gt;: &lt;span class=&#34;s&#34;&gt;&amp;#34;fooå‘½ä»¤&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;                &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;r#use&lt;/span&gt;: &lt;span class=&#34;s&#34;&gt;&amp;#34;foo&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cmd&lt;/span&gt;::&lt;span class=&#34;n&#34;&gt;CommandItem&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;                &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;run&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;_ctx&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-&amp;gt; &lt;span class=&#34;nb&#34;&gt;Result&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(),&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;Box&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;dyn&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Error&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;                    &lt;/span&gt;&lt;span class=&#34;fm&#34;&gt;println!&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;call bar command.&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;                    &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;Ok&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(())&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;                &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;                &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;long&lt;/span&gt;: &lt;span class=&#34;s&#34;&gt;&amp;#34;è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•å‘½ä»¤ï¼Œä½¿ç”¨barå°†è°ƒç”¨barå‘½ä»¤ã€‚&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;                &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;short&lt;/span&gt;: &lt;span class=&#34;s&#34;&gt;&amp;#34;barå‘½ä»¤&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;                &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;r#use&lt;/span&gt;: &lt;span class=&#34;s&#34;&gt;&amp;#34;bar&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;build&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()).&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;collect&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;commands&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;command_list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;fm&#34;&gt;println!&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;{:#?}&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;falseworkçš„è®¾è®¡&#34;&gt;
    &lt;a href=&#34;#falsework%e7%9a%84%e8%ae%be%e8%ae%a1&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    Falseworkçš„è®¾è®¡
&lt;/h2&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gtsagkvp4lj60qo0k0tau02.jpg&#34; 
    alt=&#34;falseworkç»“æ„å›¾&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;æ•´ä½“æ¥è¯´ä¹Ÿå°±æ˜¯&lt;code&gt;3&lt;/code&gt;å¤§å—ï¼Œå¯¹åº”ä¸€ä¸ª&lt;code&gt;cli&lt;/code&gt;ç¨‹åºæŠ½è±¡çš„è¯ä¹Ÿå°±è¿™ä¹ˆå¤šäº†ï¼Œç„¶åå°±æ˜¯å¯¹å•å—çš„ç»“æ„è¿›è¡Œå°è£…å¦‚å›¾ï¼Œç„¶åå°±æ˜¯æ„å»ºä¸€ä¸ªéª¨æ¶äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gttaacjpohj60qo0k0mxd02.jpg&#34; 
    alt=&#34;å‚æ•°è§„æ ¼è§£æ&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;æ‹¿ä¸Šé¢è¿™ä¸ªä¾‹å­æ¥è¯´ï¼Œåœ¨ä½ æ•²å‡»å›è½¦é‚£ä¸€åˆ»ï¼Œéª¨æ¶è¦å¸®åšå¾ˆå¤š&lt;code&gt;args&lt;/code&gt;è§£æçš„äº‹æƒ…ï¼Œç„¶åæ„å»ºå¯¹åº”ä»»åŠ¡å¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gttac10fbvj60r00k6dgc02.jpg&#34; 
    alt=&#34;é€»è¾‘å›¾&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;è¿™å¼ å›¾å°±æ˜¯å½“ç¨‹åºç›‘å¬åˆ°å‘½ä»¤è¡Œæœ‰è¾“å…¥æ“ä½œçš„æ—¶å€™è¦åšçš„äº‹æƒ…ï¼Œæˆ‘æŠŠä»–æŠ½è±¡ç”»æˆäº†ä¸€ä¸ªå›¾ï¼Œå¤§éƒ¨åˆ†ç¨‹åºå‘˜åº”è¯¥èƒ½çœ‹å¾—æ‡‚ï¼Œçœ‹ä¸æ‡‚å¯ä»¥å¯¹ç…§ä»“åº“ä»£ç çœ‹çœ‹ï¼Œè™½ç„¶ä»£ç å†™çš„ä¸€å¨ï¼Œå¾ˆ&lt;code&gt;low&lt;/code&gt;ä»£ç ï¼Œæ¯•ç«Ÿè¿˜åªæ˜¯åˆšåˆšå…¥å‘&lt;code&gt;Rust&lt;/code&gt;ã€‚ã€‚ã€‚ã€‚æ–°æ‰‹æœ‹å‹å¯ä»¥çœ‹çœ‹ï¼Œå¯¹äº†æœ‰å¯å‘æˆ–è€…å¸®åŠ©è®°å¾—ç•™ä¸€ä¸ª&lt;code&gt;star&lt;/code&gt;ï¼&lt;/p&gt;
&lt;h2 id=&#34;ä»“åº“&#34;&gt;
    &lt;a href=&#34;#%e4%bb%93%e5%ba%93&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    ä»“åº“
&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;//github.com/auula/falsework&#34;&gt;https://github.com/auula/falsework&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

    </description>
    </item>
    
    <item>
    <title>Golang Channel Desgin</title>
    <link>http://blog.ibyte.me/post/golang-channel-desgin/</link>
    <pubDate>Thu, 16 Sep 2021 22:19:16 +0800</pubDate>
    
    <guid>http://blog.ibyte.me/post/golang-channel-desgin/</guid>
    <description>
        &lt;p&gt;ç›¸ä¿¡å¤§å®¶åœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­ç»å¸¸ä¼šä½¿ç”¨åˆ°&lt;code&gt;go&lt;/code&gt;ä¸­å¹¶å‘åˆ©å™¨&lt;code&gt;channel&lt;/code&gt;ï¼Œ&lt;code&gt;channel&lt;/code&gt; æ˜¯&lt;code&gt;CSP&lt;/code&gt;å¹¶å‘æ¨¡å‹ä¸­æœ€é‡è¦çš„ä¸€ä¸ªç»„ä»¶ï¼Œä¸¤ä¸ªç‹¬ç«‹çš„å¹¶å‘å®ä½“é€šè¿‡å…±äº«çš„é€šè®¯&lt;code&gt;channel&lt;/code&gt;è¿›è¡Œé€šä¿¡ã€‚å¤§å¤šæ•°äººåªæ˜¯ä¼šç”¨è¿™ä¹ˆä¸ªç»“æ„å¾ˆå°‘æœ‰äººè®¨è®ºå®ƒåº•å±‚å®ç°ï¼Œè¿™ç¯‡æ–‡ç« è®²å†™å†™&lt;code&gt;channel&lt;/code&gt;çš„åº•å±‚å®ç°ã€‚&lt;/p&gt;
&lt;h2 id=&#34;channel&#34;&gt;
    &lt;a href=&#34;#channel&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    channel
&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;channel&lt;/code&gt;çš„åº•å±‚å®ç°æ˜¯ä¸€ä¸ªç»“æ„ä½“ï¼Œ&lt;a href=&#34;https://github.com/golang/go/blob/41d8e61a6b9d8f9db912626eb2bbc535e929fefc/src/runtime/chan.go#L32&#34;&gt;æºä»£ç &lt;/a&gt;å¦‚ä¸‹:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;hchan&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;qcount&lt;/span&gt;   &lt;span class=&#34;kt&#34;&gt;uint&lt;/span&gt;           &lt;span class=&#34;c1&#34;&gt;// total data in the queue
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;dataqsiz&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;uint&lt;/span&gt;           &lt;span class=&#34;c1&#34;&gt;// size of the circular queue
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;buf&lt;/span&gt;      &lt;span class=&#34;nx&#34;&gt;unsafe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Pointer&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// points to an array of dataqsiz elements
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;elemsize&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;uint16&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;closed&lt;/span&gt;   &lt;span class=&#34;kt&#34;&gt;uint32&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;elemtype&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;_type&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// element type
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;sendx&lt;/span&gt;    &lt;span class=&#34;kt&#34;&gt;uint&lt;/span&gt;   &lt;span class=&#34;c1&#34;&gt;// send index
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;recvx&lt;/span&gt;    &lt;span class=&#34;kt&#34;&gt;uint&lt;/span&gt;   &lt;span class=&#34;c1&#34;&gt;// receive index
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;recvq&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;waitq&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// list of recv waiters
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;sendq&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;waitq&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// list of send waiters
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// lock protects all fields in hchan, as well as several
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// fields in sudogs blocked on this channel.
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;//
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// Do not change another G&amp;#39;s status while holding this lock
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// (in particular, do not ready a G), as this can deadlock
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// with stack shrinking.
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;lock&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;mutex&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å¯èƒ½çœ‹æºä»£ç ä¸æ˜¯å¾ˆå¥½çœ‹å¾—æ‡‚ï¼Œè¿™é‡Œæˆ‘ä¸ªäººç”»äº†ä¸€å¼ å›¾æ–¹ä¾¿å¤§å®¶æŸ¥çœ‹ï¼Œæˆ‘åœ¨ä¸Šé¢æ ‡æ³¨äº†ä¸åŒé¢œè‰²ï¼Œå¹¶ä¸”æ³¨é‡Šå…¶ä½œç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gtkvnaup23j615r0u0mzv02.jpg&#34; 
    alt=&#34;hchan struct&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;é€šé“åƒä¸€ä¸ª&lt;code&gt;ä¼ é€å¸¦&lt;/code&gt;æˆ–è€…&lt;code&gt;é˜Ÿåˆ—&lt;/code&gt;ï¼Œæ€»æ˜¯éµå¾ª&lt;code&gt;FIFO&lt;/code&gt;çš„è§„åˆ™ï¼Œä¿è¯æ”¶å‘æ•°æ®çš„é¡ºåºï¼Œé€šé“æ˜¯&lt;code&gt;goroutine&lt;/code&gt;é—´é‡è¦é€šä¿¡çš„æ–¹å¼ï¼Œæ˜¯å¹¶å‘å®‰å…¨çš„ã€‚&lt;/p&gt;
&lt;h2 id=&#34;buf&#34;&gt;
    &lt;a href=&#34;#buf&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    buf
&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;hchan&lt;/code&gt;ç»“æ„ä½“ä¸­çš„&lt;code&gt;buf&lt;/code&gt;æŒ‡å‘ä¸€ä¸ªå¾ªç¯é˜Ÿåˆ—ï¼Œç”¨æ¥å®ç°å¾ªç¯é˜Ÿåˆ—ï¼Œ&lt;code&gt;sendx&lt;/code&gt;æ˜¯å¾ªç¯é˜Ÿåˆ—çš„é˜Ÿå°¾æŒ‡é’ˆï¼Œ&lt;code&gt;recvx&lt;/code&gt;æ˜¯å¾ªç¯é˜Ÿåˆ—çš„é˜Ÿå¤´æŒ‡é’ˆï¼Œ&lt;code&gt;dataqsize&lt;/code&gt;æ˜¯ç¼“å­˜å‹é€šé“çš„å¤§å°ï¼Œ&lt;code&gt;qcount&lt;/code&gt;æ˜¯è®°å½•é€šé“å†…å…ƒç´ ä¸ªæ•°ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æ—¥å¸¸å¼€å‘è¿‡ç¨‹ä¸­ç”¨çš„æœ€å¤šå°±æ˜¯&lt;code&gt;ch := make(chan int, 10)&lt;/code&gt;è¿™æ ·çš„æ–¹å¼åˆ›å»ºä¸€ä¸ªé€šé“ï¼Œå¦‚æœè¿™è¦å£°æ˜åˆå§‹åŒ–çš„è¯ï¼Œè¿™ä¸ªé€šé“å°±æ˜¯æœ‰ç¼“å†²åŒºçš„ï¼Œä¹Ÿæ˜¯å›¾ä¸Šç´«è‰²çš„&lt;code&gt;buf&lt;/code&gt;ï¼Œ&lt;code&gt;buf&lt;/code&gt;æ˜¯åœ¨&lt;code&gt;make&lt;/code&gt;çš„æ—¶å€™ç¨‹åºåˆ›å»ºçš„ï¼Œå®ƒæœ‰&lt;code&gt;å…ƒç´ å¤§å°*å…ƒç´ ä¸ªæ•°&lt;/code&gt;ç»„æˆä¸€ä¸ªå¾ªç¯é˜Ÿåˆ—ï¼Œå¯ä»¥çœ‹åšæˆä¸€ä¸ªç¯å½¢ç»“æ„ï¼Œ&lt;code&gt;buf&lt;/code&gt;åˆ™æ˜¯ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘è¿™ä¸ªç¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gtl27ej1w4j60qo0k0t9202.jpg&#34; 
    alt=&#34;ring&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šå›¾å¯¹åº”çš„ä»£ç é‚£å°±æ˜¯&lt;code&gt;ch = make(chan int,6)&lt;/code&gt;ï¼Œ&lt;code&gt;buf&lt;/code&gt;æŒ‡å‘è¿™ä¸ªç¯åœ¨&lt;code&gt;heap&lt;/code&gt;ä¸Šçš„åœ°å€ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;48
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;makechan&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;t&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;chantype&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;hchan&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;elem&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;elem&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// compiler checks this but be safe.
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;elem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;16&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nf&#34;&gt;throw&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;makechan: invalid channel element type&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;hchanSize&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;maxAlign&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;elem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;align&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;maxAlign&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nf&#34;&gt;throw&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;makechan: bad alignment&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

	  &lt;span class=&#34;nx&#34;&gt;mem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;overflow&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;math&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;MulUintptr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;elem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;uintptr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;overflow&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;mem&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;maxAlloc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;hchanSize&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;panic&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;plainError&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;makechan: size out of range&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

	&lt;span class=&#34;c1&#34;&gt;// Hchan does not contain pointers interesting for GC when elements stored in buf do not contain pointers.
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// buf points into the same allocation, elemtype is persistent.
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// SudoG&amp;#39;s are referenced from their owning thread so they can&amp;#39;t be collected.
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// TODO(dvyukov,rlh): Rethink when collector can move allocated objects.
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;hchan&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;switch&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;mem&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// Queue or element size is zero.
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;hchan&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;mallocgc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;hchanSize&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// Race detector uses this location for synchronization.
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;      &lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;buf&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;raceaddr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;elem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ptrdata&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// Elements do not contain pointers.
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;c1&#34;&gt;// Allocate hchan and buf in one call.
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;hchan&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;mallocgc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;hchanSize&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;mem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;buf&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;unsafe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Pointer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;hchanSize&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;default&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// Elements contain pointers.
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;new&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;hchan&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;buf&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;mallocgc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;mem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;elem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;elemsize&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;uint16&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;elem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;elemtype&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;elem&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;dataqsiz&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;uint&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;nf&#34;&gt;lockInit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;lockRankHchan&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;debugChan&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;makechan: chan=&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;; elemsize=&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;elem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;; dataqsiz=&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¸Šé¢å°±æ˜¯å¯¹åº”çš„ä»£ç å®ç°ï¼Œä¸Šæ¥å®ƒä¼šæ£€æŸ¥ä½ ä¸€ç³»åˆ—å‚æ•°æ˜¯å¦åˆæ³•ï¼Œç„¶ååœ¨é€šè¿‡&lt;code&gt;mallocgc&lt;/code&gt;åœ¨å†…å­˜å¼€è¾Ÿè¿™å—ç©ºé—´ï¼Œç„¶åè¿”å›ã€‚&lt;/p&gt;
&lt;h2 id=&#34;sendx-and-recvx&#34;&gt;
    &lt;a href=&#34;#sendx-and-recvx&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    sendx and recvx
&lt;/h2&gt;
&lt;p&gt;ä¸‹é¢æˆ‘æ‰‹åŠ¨æ¨¡æ‹Ÿä¸€ä¸ª&lt;code&gt;ring&lt;/code&gt;å®ç°çš„ä»£ç ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// Queue cycle buffer
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;CycleQueue&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;data&lt;/span&gt;                  &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;interface&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{}&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// å­˜æ”¾å…ƒç´ çš„æ•°ç»„ï¼Œå‡†ç¡®æ¥è¯´æ˜¯åˆ‡ç‰‡
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;frontIndex&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;rearIndex&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;           &lt;span class=&#34;c1&#34;&gt;// frontIndex å¤´æŒ‡é’ˆ,rearIndex å°¾æŒ‡é’ˆ
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;size&lt;/span&gt;                  &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;           &lt;span class=&#34;c1&#34;&gt;// circular çš„å¤§å°
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// NewQueue Circular Queue
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;NewQueue&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;CycleQueue&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Errorf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;initialize circular queue size fail,%d not legal,size &amp;gt;= 10&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;cq&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;new&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;CycleQueue&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;cq&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;data&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;make&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([]&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;interface&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{},&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;cq&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;size&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;cq&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// Push  add data to queue
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;q&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;CycleQueue&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Push&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;value&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;interface&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{})&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;rearIndex&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;cap&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;frontIndex&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;errors&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;New&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;circular queue full&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;rearIndex&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;value&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;rearIndex&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;rearIndex&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;%&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;cap&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// Pop return queue a front element
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;q&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;CycleQueue&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Pop&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;interface&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{}&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;rearIndex&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;frontIndex&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;v&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;frontIndex&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;frontIndex&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// æ‹¿é™¤å…ƒç´  ä½ç½®å°±è®¾ç½®ä¸ºç©º
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;frontIndex&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;frontIndex&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;%&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;cap&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;v&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å¾ªç¯é˜Ÿåˆ—ä¸€èˆ¬ä½¿ç”¨ç©ºä½™å•å…ƒæ³•æ¥è§£å†³é˜Ÿç©ºå’Œé˜Ÿæ»¡æ—¶å€™éƒ½å­˜åœ¨&lt;code&gt;font=rear&lt;/code&gt;å¸¦æ¥çš„äºŒä¹‰æ€§é—®é¢˜ï¼Œä½†è¿™æ ·ä¼šæµªè´¹ä¸€ä¸ªå•å…ƒã€‚&lt;code&gt;golang&lt;/code&gt;çš„&lt;code&gt;channel&lt;/code&gt;ä¸­æ˜¯é€šè¿‡å¢åŠ &lt;code&gt;qcount&lt;/code&gt;å­—æ®µè®°å½•é˜Ÿåˆ—é•¿åº¦æ¥è§£å†³äºŒä¹‰æ€§ï¼Œä¸€æ–¹é¢ä¸ä¼šæµªè´¹ä¸€ä¸ªå­˜å‚¨å•å…ƒï¼Œå¦ä¸€æ–¹é¢å½“ä½¿ç”¨&lt;code&gt;len&lt;/code&gt;å‡½æ•°æŸ¥çœ‹é˜Ÿåˆ—é•¿åº¦æ—¶å€™ï¼Œå¯ä»¥ç›´æ¥è¿”å›&lt;code&gt;qcount&lt;/code&gt;å­—æ®µï¼Œä¸€ä¸¾ä¸¤å¾—ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gtl2srriq6j60sf0k4tad02.jpg&#34; 
    alt=&#34;å¯¹åº”çš„æºä»£ç &#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;å½“æˆ‘ä»¬éœ€è¦è¯»å–çš„æ•°æ®çš„æ—¶å€™ç›´æ¥ä»&lt;code&gt;recvx&lt;/code&gt;æŒ‡é’ˆä¸Šçš„å…ƒç´ å–ï¼Œè€Œå†™å°±ä»&lt;code&gt;sendx&lt;/code&gt;ä½ç½®å†™å…¥å…ƒç´ ï¼Œå¦‚å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gtl2nxgw4vj60qo0k0wew02.jpg&#34; 
    alt=&#34;è¯»å†™æŒ‡é’ˆ&#34; 
     /&gt;&lt;/p&gt;
&lt;h2 id=&#34;sendq-and-recvq&#34;&gt;
    &lt;a href=&#34;#sendq-and-recvq&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    sendq and recvq
&lt;/h2&gt;
&lt;p&gt;å½“å†™å…¥æ•°æ®çš„å¦‚æœç¼“å†²åŒºå·²ç»æ»¡æˆ–è€…è¯»å–çš„ç¼“å†²åŒºå·²ç»æ²¡æœ‰æ•°æ®çš„æ—¶å€™ï¼Œå°±ä¼šå‘ç”Ÿåç¨‹é˜»å¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gtl38rio4tj60va0u0dj902.jpg&#34; 
    alt=&#34;send&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœå†™é˜»å¡çš„æ—¶å€™ä¼šæŠŠå½“å‰çš„åç¨‹åŠ å…¥åˆ°&lt;code&gt;sendq&lt;/code&gt;çš„é˜Ÿåˆ—ä¸­ï¼Œç›´åˆ°æœ‰ä¸€ä¸ª&lt;code&gt;recvq&lt;/code&gt;å‘èµ·äº†ä¸€ä¸ªè¯»å–çš„æ“ä½œï¼Œé‚£ä¹ˆå†™çš„é˜Ÿåˆ—å°±ä¼šè¢«ç¨‹åºå”¤é†’è¿›è¡Œå·¥ä½œã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gtl3no33luj60qo0k0q3v02.jpg&#34; 
    alt=&#34;å…¨éƒ¨æŒ‚èµ·æ€&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;å½“ç¼“å†²åŒºæ»¡äº†æ‰€æœ‰çš„&lt;code&gt;g-w&lt;/code&gt;åˆ™è¢«åŠ å…¥&lt;code&gt;sendq&lt;/code&gt;é˜Ÿåˆ—ç­‰å¾…&lt;code&gt;g-r&lt;/code&gt;æœ‰æ“ä½œå°±è¢«å”¤é†’&lt;code&gt;g-w&lt;/code&gt;ï¼Œç»§ç»­å·¥ä½œï¼Œè¿™ç§è®¾è®¡å’Œæ“ä½œç³»ç»Ÿçš„é‡Œé¢&lt;code&gt;thread&lt;/code&gt;çš„&lt;code&gt;5&lt;/code&gt;ç§çŠ¶æ€å¾ˆæ¥è¿‘äº†ï¼Œå¯ä»¥çœ‹å‡º&lt;code&gt;go&lt;/code&gt;çš„è®¾è®¡è€…åœ¨å¯èƒ½å‚è€ƒè¿‡æ“ä½œç³»ç»Ÿçš„&lt;code&gt;thread&lt;/code&gt;è®¾è®¡ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ä¸Šé¢åªæ˜¯æˆ‘ç®€è¿°æ•´ä¸ªä¸ªè¿‡ç¨‹ï¼Œå®é™…ä¸Š&lt;code&gt;go&lt;/code&gt;è¿˜åšäº†å…¶ä»–ç»†èŠ‚ä¼˜åŒ–ï¼Œ&lt;code&gt;sendq&lt;/code&gt;ä¸ä¸ºç©ºçš„æ—¶å€™ï¼Œå¹¶ä¸”æ²¡æœ‰ç¼“å†²åŒºï¼Œä¹Ÿå°±æ˜¯æ— ç¼“å†²åŒºé€šé“ï¼Œæ­¤æ—¶ä¼šä»&lt;code&gt;sendq&lt;/code&gt;ç¬¬ä¸€ä¸ªåç¨‹ä¸­æ‹¿å–æ•°æ®ï¼Œæœ‰å…´è¶£çš„&lt;code&gt;gopher&lt;/code&gt;å¯ä»¥å»è‡ªå·±æŸ¥çœ‹æºä»£ç ï¼Œæœ¬æ–‡ä¹Ÿæ˜¯æœ€è¿‘ç¬”è€…åœ¨çœ‹åˆ°è¿™å—æºä»£ç çš„ç¬”è®°æ€»ç»“ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gu091pmsx9j61bi0hcabs02.jpg&#34; 
    alt=&#34;&#34; 
     /&gt;&lt;/p&gt;

    </description>
    </item>
    
    <item>
    <title>Golang Memory Escape Analysis</title>
    <link>http://blog.ibyte.me/post/golang-memory-escape-analysis/</link>
    <pubDate>Thu, 16 Sep 2021 22:07:09 +0800</pubDate>
    
    <guid>http://blog.ibyte.me/post/golang-memory-escape-analysis/</guid>
    <description>
        &lt;h2 id=&#34;å‰-è¨€&#34;&gt;
    &lt;a href=&#34;#%e5%89%8d-%e8%a8%80&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å‰ è¨€
&lt;/h2&gt;
&lt;p&gt;å¾ˆå¤šæ—¶å€™ä¸ºäº†æ›´å¿«çš„å¼€å‘æ•ˆç‡ï¼Œå¤§å¤šæ•°ç¨‹åºå‘˜éƒ½æ˜¯åœ¨ä½¿ç”¨æŠ½è±¡å±‚çº§æ›´é«˜çš„æŠ€æœ¯ï¼ŒåŒ…æ‹¬è¯­è¨€ï¼Œæ¡†æ¶ï¼Œè®¾è®¡æ¨¡å¼ç­‰ã€‚æ‰€ä»¥å¯¼è‡´å¾ˆå¤šç¨‹åºå‘˜åŒ…æ‹¬æˆ‘è‡ªå·±åœ¨å†…å¯¹äºåº•å±‚å’ŒåŸºç¡€çš„çŸ¥è¯†éƒ½ä¼šæœ‰äº›ç”Ÿç–å’Œï¼Œä½†æ˜¯æ­£æ˜¯è¿™äº›åº•å±‚çš„ä¸œè¥¿æ„å»ºäº†æˆ‘ä»¬ç†ŸçŸ¥çš„è§£å†³æ–¹æ¡ˆï¼ŒåŒæ—¶å†³å®šäº†ä¸€ä¸ªæŠ€æœ¯äººå‘˜çš„ä¸Šé™ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å†™&lt;code&gt;Cå’ŒC++&lt;/code&gt;çš„æ—¶å€™åŠ¨æ€åˆ†é…å†…å­˜æ˜¯è®©ç¨‹åºå‘˜è‡ªå·±æ‰‹åŠ¨ç®¡ç†ï¼Œè¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œéœ€è¦ç”³è¯·å¤šå°‘å†…å­˜ç©ºé—´å¯ä»¥å¾ˆå¥½çš„æŒæ¡æ€ä¹ˆåˆ†é…ï¼Œä½†æ˜¯å¦‚æœå¿˜è®°é‡Šæ”¾å†…å­˜ï¼Œåˆ™ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Rust&lt;/code&gt;åˆæ¯”ğŸ‘†ä¸Šé¢ä¿©é—¨è¯­è¨€åˆ†é…å†…å­˜æ–¹å¼æ˜¾å¾—ä¸åŒï¼Œ&lt;code&gt;Rust&lt;/code&gt;çš„å†…å­˜ç®¡ç†ä¸»è¦ç‰¹è‰²å¯ä»¥çœ‹åšæ˜¯ç¼–è¯‘å™¨å¸®ä½ åœ¨é€‚å½“çš„åœ°æ–¹æ’å…¥&lt;code&gt;delete&lt;/code&gt;æ¥é‡Šæ”¾å†…å­˜ï¼Œè¿™æ ·ä¸€æ¥ä½ ä¸éœ€è¦æ˜¾å¼æŒ‡å®šé‡Šæ”¾ï¼Œ&lt;code&gt;runtime&lt;/code&gt;ä¹Ÿä¸éœ€è¦ä»»ä½•&lt;code&gt;GC&lt;/code&gt;ï¼Œä½†æ˜¯è¦åšåˆ°è¿™ç‚¹ï¼Œç¼–è¯‘å™¨éœ€è¦èƒ½åˆ†æå‡ºåœ¨ä»€ä¹ˆåœ°æ–¹&lt;code&gt;delete&lt;/code&gt;ï¼Œè¿™å°±éœ€è¦ä½ ä»£ç æŒ‰ç…§å…¶è§„åˆ™æ¥å†™äº†ã€‚&lt;/p&gt;
&lt;p&gt;ç›¸æ¯”ä¸Šé¢å‡ ç§çš„å†…å­˜ç®¡ç†æ–¹å¼çš„è¯­è¨€ï¼Œåƒ&lt;code&gt;Java&lt;/code&gt;å’Œ&lt;code&gt;Golang&lt;/code&gt;åœ¨è¯­è¨€è®¾è®¡çš„æ—¶å€™å°±åŠ å…¥äº†&lt;code&gt;garbage collection&lt;/code&gt;ä¹Ÿå°±&lt;code&gt;runtime&lt;/code&gt;ä¸­çš„&lt;code&gt;gc&lt;/code&gt;ï¼Œè®©ç¨‹åºå‘˜ä¸éœ€è¦è‡ªå·±ç®¡ç†å†…å­˜ï¼ŒçœŸæ­£è§£æ”¾äº†ç¨‹åºå‘˜çš„åŒæ‰‹ï¼Œè®©æˆ‘ä»¬å¯ä»¥ä¸“æ³¨äºç¼–ç ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å‡½æ•°æ ˆå¸§&#34;&gt;
    &lt;a href=&#34;#%e5%87%bd%e6%95%b0%e6%a0%88%e5%b8%a7&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å‡½æ•°æ ˆå¸§
&lt;/h2&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gqrl5s1bvij30vs0erq5h.jpg&#34; 
    alt=&#34;ä½ çš„ç¨‹åºæ€ä¹ˆè·‘èµ·æ¥çš„ğŸ‘†&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;å½“ä¸€ä¸ªå‡½æ•°åœ¨è¿è¡Œæ—¶ï¼Œéœ€è¦ä¸ºå®ƒåœ¨å †æ ˆä¸­åˆ›å»ºä¸€ä¸ªæ ˆå¸§ï¼ˆ&lt;code&gt;stack frame&lt;/code&gt;ï¼‰ç”¨æ¥è®°å½•è¿è¡Œæ—¶äº§ç”Ÿçš„ç›¸å…³ä¿¡æ¯ï¼Œå› æ­¤æ¯ä¸ªå‡½æ•°åœ¨æ‰§è¡Œå‰éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ ˆå¸§ï¼Œåœ¨å®ƒè¿”å›æ—¶ä¼šé”€æ¯è¯¥æ ˆå¸§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gqrl88ooaej30sz0hj75z.jpg&#34; 
    alt=&#34;stack frameå‡†ç¡®æ¥è¯´åº”è¯¥æ˜¯call stack&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;é€šå¸¸ç”¨ä¸€ä¸ªå«åšæ ˆåŸºå€ï¼ˆ&lt;code&gt;bp&lt;/code&gt;ï¼‰çš„å¯„å­˜å™¨æ¥ä¿å­˜æ­£åœ¨è¿è¡Œå‡½æ•°æ ˆå¸§çš„å¼€å§‹åœ°å€ï¼Œç”±äºæ ˆæŒ‡é’ˆï¼ˆ&lt;code&gt;sp&lt;/code&gt;ï¼‰å§‹ç»ˆä¿å­˜çš„æ˜¯æ ˆé¡¶çš„åœ°å€ï¼Œæ‰€ä»¥æ ˆæŒ‡é’ˆä¿å­˜çš„ä¹Ÿå°±æ˜¯æ­£åœ¨è¿è¡Œå‡½æ•°æ ˆå¸§çš„ç»“æŸåœ°å€ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gqrlmmv9i3j30mc0ait94.jpg&#34; 
    alt=&#34;é”€æ¯æ ˆå¸§&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;é”€æ¯æ—¶å…ˆæŠŠæ ˆæŒ‡é’ˆï¼ˆ&lt;code&gt;sp&lt;/code&gt;ï¼‰ç§»åŠ¨åˆ°æ­¤æ—¶æ ˆåŸºå€ï¼ˆ&lt;code&gt;bp&lt;/code&gt;ï¼‰çš„ä½ç½®ï¼Œæ­¤æ—¶æ ˆæŒ‡é’ˆå’Œæ ˆåŸºå€éƒ½æŒ‡å‘åŒæ ·çš„ä½ç½®ã€‚&lt;/p&gt;
&lt;h2 id=&#34;goå†…å­˜é€ƒé€¸&#34;&gt;
    &lt;a href=&#34;#go%e5%86%85%e5%ad%98%e9%80%83%e9%80%b8&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    Goå†…å­˜é€ƒé€¸
&lt;/h2&gt;
&lt;p&gt;å¯ä»¥ç®€å•å¾—ç†è§£æˆä¸€æ¬¡å‡½æ•°è°ƒç”¨å†…éƒ¨ç”³è¯·åˆ°çš„å†…å­˜ï¼Œå®ƒä»¬ä¼šéšç€å‡½æ•°çš„è¿”å›æŠŠå†…å­˜è¿˜ç»™ç³»ç»Ÿã€‚ä¸‹é¢æ¥çœ‹çœ‹ä¸€ä¸ªä¾‹å­ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;fmt&amp;#34;&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;f&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;foo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Ding&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Println&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;bar&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;foo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;bar&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;f&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;new&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;bar&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// è¿™é‡Œçš„new(bar)ä¼šä¸ä¼šå‘ç”Ÿé€ƒé€¸ï¼Ÿï¼Ÿï¼Ÿ
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;defer&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;f&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}()&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;f&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æˆ‘æƒ³å¾ˆå¤šäººè®¤ä¸ºå‘ç”Ÿäº†é€ƒé€¸ï¼Œä½†æ˜¯çœŸçš„æ˜¯è¿™æ ·çš„å—ï¼Ÿé‚£å°±ç”¨&lt;code&gt;go build -gcflags=-m escape/struct.go&lt;/code&gt;çœ‹çœ‹ä¼šè¾“å‡ºä»€ä¹ˆï¼Ÿï¼Ÿï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gqrlxhkwgsj30tw0a0wgu.jpg&#34; 
    alt=&#34;escape/struct.go:7:13: f escapes to heap å¯ä»¥çœç•¥&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;å…¶å®æ²¡æœ‰å‘ç”Ÿé€ƒé€¸ï¼Œè€Œ&lt;code&gt;escape/struct.go:7:13: f escapes to heap&lt;/code&gt;çš„é€ƒé€¸æ˜¯å› ä¸º&lt;code&gt;åŠ¨æ€ç±»å‹é€ƒé€¸&lt;/code&gt;ï¼Œ&lt;code&gt;fmt.Println(a â€¦interface{})&lt;/code&gt;åœ¨ç¼–è¯‘æœŸé—´å¾ˆéš¾ç¡®å®šå…¶å‚æ•°çš„å…·ä½“ç±»å‹ï¼Œä¹Ÿèƒ½äº§ç”Ÿé€ƒé€¸ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç»§ç»­çœ‹ä¸‹é¢è¿™ä¸€ä¸ªä¾‹å­ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;fmt&amp;#34;&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;f&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;foo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Ding&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Println&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;bar&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;foo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;bar&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;f&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;new&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;bar&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// è¿™é‡Œçš„new(bar)ä¼šä¸ä¼šå‘ç”Ÿé€ƒé€¸ï¼Ÿï¼Ÿï¼Ÿ
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;defer&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;f&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}()&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;f&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;f := new(bar)&lt;/code&gt;ä¼šå‘ç”Ÿé€ƒé€¸å—ï¼Ÿ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$: go build -gcflags&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;-m escape/struct.go
&lt;span class=&#34;c1&#34;&gt;# command-line-arguments&lt;/span&gt;
escape/struct.go:16:8: can inline foo.func1
escape/struct.go:7:13: inlining call to fmt.Println
escape/struct.go:14:10: leaking param: s
escape/struct.go:15:10: new&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;bar&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; escapes to heap âœ…
escape/struct.go:16:8: func literal does not escape
escape/struct.go:7:13: &lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt;interface &lt;span class=&#34;o&#34;&gt;{}{&lt;/span&gt;...&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; does not escape
&amp;lt;autogenerated&amp;gt;:1: .this does not escape
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;Go&lt;/code&gt;å¯ä»¥è¿”å›å±€éƒ¨å˜é‡æŒ‡é’ˆï¼Œè¿™å…¶å®æ˜¯ä¸€ä¸ªå…¸å‹çš„å˜é‡é€ƒé€¸æ¡ˆä¾‹ï¼Œè™½ç„¶åœ¨å‡½æ•° &lt;code&gt;foo()&lt;/code&gt; å†…éƒ¨ &lt;code&gt;f&lt;/code&gt; ä¸ºå±€éƒ¨å˜é‡ï¼Œå…¶å€¼é€šè¿‡å‡½æ•°è¿”å›å€¼è¿”å›ï¼Œ&lt;code&gt;f&lt;/code&gt; æœ¬èº«ä¸ºä¸€æŒ‡é’ˆï¼Œå…¶æŒ‡å‘çš„å†…å­˜åœ°å€ä¸ä¼šæ˜¯æ ˆè€Œæ˜¯å †ï¼Œè¿™å°±æ˜¯å…¸å‹çš„é€ƒé€¸æ¡ˆä¾‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é‚£å°±ç»§ç»­å¾€ä¸‹çœ‹å§ï¼Œçœ‹çœ‹è¿™ä¸ªä¾‹å­ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nf&#34;&gt;Slice&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// ï¼Ÿï¼Ÿï¼Ÿ ä¼šå‘ç”Ÿé€ƒé€¸å—ï¼Ÿ
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Slice&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;make&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;10000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;10000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;index&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;range&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;index&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;index&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¼°è®¡å¾ˆå¤šäººä¼šå›ç­”&lt;code&gt;æ²¡æœ‰&lt;/code&gt;ï¼Œå…¶å®è¿™é‡Œå‘ç”Ÿé€ƒé€¸ï¼Œå®é™…ä¸Šå½“æ ˆç©ºé—´ä¸è¶³ä»¥å­˜æ”¾å½“å‰å¯¹è±¡æ—¶æˆ–æ— æ³•åˆ¤æ–­å½“å‰åˆ‡ç‰‡é•¿åº¦æ—¶ä¼šå°†å¯¹è±¡åˆ†é…åˆ°å †ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gqrmllkb30j30ql0c3ab7.jpg&#34; 
    alt=&#34;å‘ç”Ÿé€ƒé€¸&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æœ€åä¸€ä¸ªä¾‹å­:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
    &lt;span class=&#34;s&#34;&gt;&amp;#34;fmt&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;s&#34;&gt;&amp;#34;io&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;s&#34;&gt;&amp;#34;os&amp;#34;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nf&#34;&gt;Println&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;ReverseA&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Ding Ding&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)))&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// ???
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;


&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Println&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;str&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;io&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;WriteString&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;os&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Stdout&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
      &lt;span class=&#34;nx&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ReverseA&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;str&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;rune&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;make&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;rune&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;_&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;v&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;range&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;rune&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;v&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;v&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;defer&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;nx&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}()&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;result&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gqrndhtvngj30qq0bsmzw.jpg&#34; 
    alt=&#34;&#34; 
     /&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœä¸€ä¸ªå˜é‡è¢«å–åœ°å€ï¼Œé€šè¿‡å‡½æ•°è¿”å›æŒ‡é’ˆå€¼è¿”å›ï¼Œè¿˜æœ‰é—­åŒ…ï¼Œç¼–è¯‘å™¨ä¸ç¡®å®šä½ çš„åˆ‡ç‰‡å®¹é‡æ—¶ï¼Œæ˜¯å¦è¦æ‰©å®¹çš„æ—¶å€™ï¼Œæ”¾åˆ°å †ä¸Šï¼Œä»¥è‡´äº§ç”Ÿé€ƒé€¸ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;äºæ˜¯æˆ‘ä¼˜åŒ–äº†ä¸€ä¸‹ä»£ç ï¼Œå†çœ‹çœ‹&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
	&lt;span class=&#34;s&#34;&gt;&amp;#34;io&amp;#34;&lt;/span&gt;
	&lt;span class=&#34;s&#34;&gt;&amp;#34;os&amp;#34;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;rune&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Ding Ding&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;nf&#34;&gt;ReverseB&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;nf&#34;&gt;Println&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ReverseB&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;runes&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;rune&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;runes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;runes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;runes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;runes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;runes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Println&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;str&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;io&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;WriteString&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;os&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Stdout&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
      &lt;span class=&#34;nx&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gqrnujc86zj30q80d2tbu.jpg&#34; 
    alt=&#34;stråœ¨è¿è¡Œçš„æ—¶å€™å¯æ›´æ”¹&#34; 
     /&gt;&lt;/p&gt;
&lt;h2 id=&#34;å¦‚ä½•å¾—çŸ¥å˜é‡æ˜¯æ€ä¹ˆåˆ†é…&#34;&gt;
    &lt;a href=&#34;#%e5%a6%82%e4%bd%95%e5%be%97%e7%9f%a5%e5%8f%98%e9%87%8f%e6%98%af%e6%80%8e%e4%b9%88%e5%88%86%e9%85%8d&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å¦‚ä½•å¾—çŸ¥å˜é‡æ˜¯æ€ä¹ˆåˆ†é…ï¼Ÿ
&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;å¼•ç”¨&lt;code&gt; (golang.org) FAQ&lt;/code&gt;å®˜æ–¹è¯´çš„ï¼š&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å‡†ç¡®åœ°è¯´ï¼Œä½ å¹¶ä¸éœ€è¦çŸ¥é“ï¼Œ&lt;code&gt;Golang&lt;/code&gt; ä¸­çš„å˜é‡åªè¦è¢«å¼•ç”¨å°±ä¸€ç›´ä¼šå­˜æ´»ï¼Œå­˜å‚¨åœ¨å †ä¸Šè¿˜æ˜¯æ ˆä¸Šç”±å†…éƒ¨å®ç°å†³å®šè€Œå’Œå…·ä½“çš„è¯­æ³•æ²¡æœ‰å…³ç³»ã€‚çŸ¥é“å˜é‡çš„å­˜å‚¨ä½ç½®ç¡®å®å’Œæ•ˆç‡ç¼–ç¨‹æœ‰å…³ç³»ã€‚å¦‚æœå¯èƒ½ï¼Œ&lt;code&gt;Golang&lt;/code&gt; ç¼–è¯‘å™¨ä¼šå°†å‡½æ•°çš„å±€éƒ¨å˜é‡åˆ†é…åˆ°å‡½æ•°æ ˆå¸§ï¼ˆ&lt;code&gt;stack frame&lt;/code&gt;ï¼‰ä¸Šï¼Œ ç„¶è€Œï¼Œå¦‚æœç¼–è¯‘å™¨ä¸èƒ½ç¡®ä¿å˜é‡åœ¨å‡½æ•° &lt;code&gt;return&lt;/code&gt;ä¹‹åä¸å†è¢«å¼•ç”¨ï¼Œç¼–è¯‘å™¨å°±ä¼šå°†å˜é‡åˆ†é…åˆ°å †ä¸Šã€‚è€Œä¸”ï¼Œå¦‚æœä¸€ä¸ªå±€éƒ¨å˜é‡éå¸¸å¤§ï¼Œé‚£ä¹ˆå®ƒä¹Ÿåº”è¯¥è¢«åˆ†é…åˆ°å †ä¸Šè€Œä¸æ˜¯æ ˆä¸Šã€‚&lt;/p&gt;
&lt;h2 id=&#34;å°-ç»“&#34;&gt;
    &lt;a href=&#34;#%e5%b0%8f-%e7%bb%93&#34; class=&#34;anchor&#34;&gt;
        &lt;svg class=&#34;icon&#34; aria-hidden=&#34;true&#34; focusable=&#34;false&#34; height=&#34;16&#34; version=&#34;1.1&#34; viewBox=&#34;0 0 16 16&#34; width=&#34;16&#34;&gt;
            &lt;path fill-rule=&#34;evenodd&#34;
                d=&#34;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&#34;&gt;
            &lt;/path&gt;
        &lt;/svg&gt;
    &lt;/a&gt;
    å° ç»“
&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é€ƒé€¸åˆ†æçš„å¥½å¤„æ˜¯ä¸ºäº†å‡å°‘&lt;code&gt;gc&lt;/code&gt;çš„å‹åŠ›&lt;/li&gt;
&lt;li&gt;æ ˆä¸Šåˆ†é…çš„å†…å­˜ä¸éœ€è¦&lt;code&gt;gc&lt;/code&gt;å¤„ç†&lt;/li&gt;
&lt;li&gt;åŒæ­¥æ¶ˆé™¤ï¼Œå¦‚æœä½ å®šä¹‰çš„å¯¹è±¡çš„æ–¹æ³•ä¸Šæœ‰åŒæ­¥é”ï¼Œä½†åœ¨è¿è¡Œæ—¶ï¼Œå´åªæœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨è®¿é—®ï¼Œæ­¤æ—¶é€ƒé€¸åˆ†æåçš„æœºå™¨ç ï¼Œä¼šå»æ‰åŒæ­¥é”è¿è¡Œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; 
    src=&#34;https://tva1.sinaimg.cn/large/008i3skNgy1gu091pmsx9j61bi0hcabs02.jpg&#34; 
    alt=&#34;&#34; 
     /&gt;&lt;/p&gt;

    </description>
    </item>
    
  </channel>
</rss>
